/*! For license information please see main.db543bcf.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var a=n(43),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,o=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var a,s={},c=null,d=null;for(a in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,a)&&!i.hasOwnProperty(a)&&(s[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===s[a]&&(s[a]=t[a]);return{$$typeof:r,type:e,key:c,ref:d,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),i=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}function y(){}function x(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=x.prototype=new y;b.constructor=x,f(b,g.prototype),b.isPureReactComponent=!0;var j=Array.isArray,N=Object.prototype.hasOwnProperty,w={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,a){var r,s={},l=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(l=""+t.key),t)N.call(t,r)&&!k.hasOwnProperty(r)&&(s[r]=t[r]);var i=arguments.length-2;if(1===i)s.children=a;else if(1<i){for(var c=Array(i),d=0;d<i;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(r in i=e.defaultProps)void 0===s[r]&&(s[r]=i[r]);return{$$typeof:n,type:e,key:l,ref:o,props:s,_owner:w.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,r,s,l){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var i=!1;if(null===e)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case n:case a:i=!0}}if(i)return l=l(i=e),e=""===s?"."+_(i,0):s,j(l)?(r="",null!=e&&(r=e.replace(C,"$&/")+"/"),T(l,t,r,"",function(e){return e})):null!=l&&(E(l)&&(l=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,r+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(C,"$&/")+"/")+e)),t.push(l)),1;if(i=0,s=""===s?".":s+":",j(e))for(var c=0;c<e.length;c++){var d=s+_(o=e[c],c);i+=T(o,t,r,d,l)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)i+=T(o=o.value,t,r,d=s+_(o,c++),l);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function D(e,t,n){if(null==e)return e;var a=[],r=0;return T(e,a,"","",function(e){return t.call(n,e,r++)}),a}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},P={transition:null},L={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:P,ReactCurrentOwner:w};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:D,forEach:function(e,t,n){D(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return D(e,function(){t++}),t},toArray:function(e){return D(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=r,t.Profiler=l,t.PureComponent=x,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=O,t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=f({},e.props),s=e.key,l=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,o=w.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)N.call(t,c)&&!k.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==i?i[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=a;else if(1<c){i=Array(c);for(var d=0;d<c;d++)i[d]=arguments[d+2];r.children=i}return{$$typeof:n,type:e.type,key:s,ref:l,props:r,_owner:o}},t.createContext=function(e){return(e={$$typeof:i,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,r=e[a];if(!(0<s(r,t)))break e;e[a]=t,e[n]=r,n=a}}function a(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,r=e.length,l=r>>>1;a<l;){var o=2*(a+1)-1,i=e[o],c=o+1,d=e[c];if(0>s(i,n))c<r&&0>s(d,i)?(e[a]=d,e[c]=n,a=c):(e[a]=i,e[o]=n,a=o);else{if(!(c<r&&0>s(d,n)))break e;e[a]=d,e[c]=n,a=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var o=Date,i=o.now();t.unstable_now=function(){return o.now()-i}}var c=[],d=[],u=1,m=null,p=3,h=!1,f=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=a(d);null!==t;){if(null===t.callback)r(d);else{if(!(t.startTime<=e))break;r(d),t.sortIndex=t.expirationTime,n(c,t)}t=a(d)}}function j(e){if(v=!1,b(e),!f)if(null!==a(c))f=!0,P(N);else{var t=a(d);null!==t&&L(j,t.startTime-e)}}function N(e,n){f=!1,v&&(v=!1,y(E),E=-1),h=!0;var s=p;try{for(b(n),m=a(c);null!==m&&(!(m.expirationTime>n)||e&&!T());){var l=m.callback;if("function"===typeof l){m.callback=null,p=m.priorityLevel;var o=l(m.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?m.callback=o:m===a(c)&&r(c),b(n)}else r(c);m=a(c)}if(null!==m)var i=!0;else{var u=a(d);null!==u&&L(j,u.startTime-n),i=!1}return i}finally{m=null,p=s,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,k=!1,S=null,E=-1,C=5,_=-1;function T(){return!(t.unstable_now()-_<C)}function D(){if(null!==S){var e=t.unstable_now();_=e;var n=!0;try{n=S(!0,e)}finally{n?w():(k=!1,S=null)}}else k=!1}if("function"===typeof x)w=function(){x(D)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,R=A.port2;A.port1.onmessage=D,w=function(){R.postMessage(null)}}else w=function(){g(D,0)};function P(e){S=e,k||(k=!0,w())}function L(e,n){E=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||h||(f=!0,P(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,s){var l=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?l+s:l:s=l,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>l?(e.sortIndex=s,n(d,e),null===a(c)&&e===a(d)&&(v?(y(E),E=-1):v=!0,L(j,s-l))):(e.sortIndex=o,n(c,e),f||h||(f=!0,P(N))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},391:(e,t,n)=>{var a=n(950);t.createRoot=a.createRoot,t.hydrateRoot=a.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var a=n(43),r=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,o={};function i(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)l.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function f(e,t,n,a,r,s,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){v[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];v[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){v[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){v[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){v[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){v[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){v[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){v[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){v[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function x(e,t,n,a){var r=v.hasOwnProperty(t)?v[t]:null;(null!==r?0!==r.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,a){if(null===t||"undefined"===typeof t||function(e,t,n,a){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,a))return!0;if(a)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,a)&&(n=null),a||null===r?function(e){return!!u.call(h,e)||!u.call(p,e)&&(m.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,a=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,y);v[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,y);v[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,y);v[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){v[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),v.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){v[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),N=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),C=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var M,I=Object.assign;function z(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var F=!1;function V(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),s=a.stack.split("\n"),l=r.length-1,o=s.length-1;1<=l&&0<=o&&r[l]!==s[o];)o--;for(;1<=l&&0<=o;l--,o--)if(r[l]!==s[o]){if(1!==l||1!==o)do{if(l--,0>--o||r[l]!==s[o]){var i="\n"+r[l].replace(" at new "," at ");return e.displayName&&i.includes("<anonymous>")&&(i=i.replace("<anonymous>",e.displayName)),i}}while(1<=l&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function U(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case N:return"Portal";case S:return"Profiler";case k:return"StrictMode";case T:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){a=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=W(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return I({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function G(e,t){var n=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=H(t.value),a=t.type;if(null!=n)"number"===a?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(a&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return I({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),a=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=a&&(e.defaultValue=""+a)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ie(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,a){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var a=0===n.indexOf("--"),r=fe(n,t[n],a);"float"===n&&(n="cssFloat"),a?e.setProperty(n,r):e[n]=r}}Object.keys(pe).forEach(function(e){he.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ge=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,we=null,ke=null;function Se(e){if(e=br(e)){if("function"!==typeof Ne)throw Error(s(280));var t=e.stateNode;t&&(t=Nr(t),Ne(e.stateNode,e.type,t))}}function Ee(e){we?ke?ke.push(e):ke=[e]:we=e}function Ce(){if(we){var e=we,t=ke;if(ke=we=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function _e(e,t){return e(t)}function Te(){}var De=!1;function Ae(e,t,n){if(De)return e(t,n);De=!0;try{return _e(e,t,n)}finally{De=!1,(null!==we||null!==ke)&&(Te(),Ce())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var a=Nr(n);if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Pe=!1;if(d)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(de){Pe=!1}function Oe(e,t,n,a,r,s,l,o,i){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Me=!1,Ie=null,ze=!1,Fe=null,Ve={onError:function(e){Me=!0,Ie=e}};function Ue(e,t,n,a,r,s,l,o,i){Me=!1,Ie=null,Oe.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(null===r)break;var l=r.alternate;if(null===l){if(null!==(a=r.return)){n=a;continue}break}if(r.child===l.child){for(l=r.child;l;){if(l===n)return He(r),e;if(l===a)return He(r),t;l=l.sibling}throw Error(s(188))}if(n.return!==a.return)n=r,a=l;else{for(var o=!1,i=r.child;i;){if(i===n){o=!0,n=r,a=l;break}if(i===a){o=!0,a=r,n=l;break}i=i.sibling}if(!o){for(i=l.child;i;){if(i===n){o=!0,n=l,a=r;break}if(i===a){o=!0,a=l,n=r;break}i=i.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==a)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var Je=r.unstable_scheduleCallback,Ke=r.unstable_cancelCallback,Qe=r.unstable_shouldYield,Ge=r.unstable_requestPaint,Ye=r.unstable_now,Xe=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,at=r.unstable_IdlePriority,rt=null,st=null;var lt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/it|0)|0},ot=Math.log,it=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var n=e.pendingLanes;if(0===n)return 0;var a=0,r=e.suspendedLanes,s=e.pingedLanes,l=268435455&n;if(0!==l){var o=l&~r;0!==o?a=ut(o):0!==(s&=l)&&(a=ut(s))}else 0!==(l=n&~r)?a=ut(l):0!==s&&(a=ut(s));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&r)&&((r=a&-a)>=(s=t&-t)||16===r&&0!==(4194240&s)))return t;if(0!==(4&a)&&(a|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)r=1<<(n=31-lt(t)),a|=e[n],t&=~r;return a}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-lt(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-lt(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,Nt,wt,kt,St,Et=!1,Ct=[],_t=null,Tt=null,Dt=null,At=new Map,Rt=new Map,Pt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,a,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[r]},null!==t&&(null!==(t=br(t))&&Nt(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function It(e){var t=xr(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,function(){wt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=br(n))&&Nt(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);be=a,n.target.dispatchEvent(a),be=null,t.shift()}return!0}function Ft(e,t,n){zt(e)&&n.delete(t)}function Vt(){Et=!1,null!==_t&&zt(_t)&&(_t=null),null!==Tt&&zt(Tt)&&(Tt=null),null!==Dt&&zt(Dt)&&(Dt=null),At.forEach(Ft),Rt.forEach(Ft)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return Ut(t,e)}if(0<Ct.length){Ut(Ct[0],e);for(var n=1;n<Ct.length;n++){var a=Ct[n];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==_t&&Ut(_t,e),null!==Tt&&Ut(Tt,e),null!==Dt&&Ut(Dt,e),At.forEach(t),Rt.forEach(t),n=0;n<Pt.length;n++)(a=Pt[n]).blockedOn===e&&(a.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)It(n),null===n.blockedOn&&Pt.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,a){var r=xt,s=qt.transition;qt.transition=null;try{xt=1,Jt(e,t,n,a)}finally{xt=r,qt.transition=s}}function $t(e,t,n,a){var r=xt,s=qt.transition;qt.transition=null;try{xt=4,Jt(e,t,n,a)}finally{xt=r,qt.transition=s}}function Jt(e,t,n,a){if(Ht){var r=Qt(e,t,n,a);if(null===r)Wa(e,t,a,Kt,n),Ot(e,a);else if(function(e,t,n,a,r){switch(t){case"focusin":return _t=Mt(_t,e,t,n,a,r),!0;case"dragenter":return Tt=Mt(Tt,e,t,n,a,r),!0;case"mouseover":return Dt=Mt(Dt,e,t,n,a,r),!0;case"pointerover":var s=r.pointerId;return At.set(s,Mt(At.get(s)||null,e,t,n,a,r)),!0;case"gotpointercapture":return s=r.pointerId,Rt.set(s,Mt(Rt.get(s)||null,e,t,n,a,r)),!0}return!1}(r,e,t,n,a))a.stopPropagation();else if(Ot(e,a),4&t&&-1<Lt.indexOf(e)){for(;null!==r;){var s=br(r);if(null!==s&&jt(s),null===(s=Qt(e,t,n,a))&&Wa(e,t,a,Kt,n),s===r)break;r=s}null!==r&&a.stopPropagation()}else Wa(e,t,a,null,n)}}var Kt=null;function Qt(e,t,n,a){if(Kt=null,null!==(e=xr(e=je(a))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case at:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,a=n.length,r="value"in Yt?Yt.value:Yt.textContent,s=r.length;for(e=0;e<a&&n[e]===r[e];e++);var l=a-e;for(t=1;t<=l&&n[a-t]===r[s-t];t++);return Zt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function an(){return!1}function rn(e){function t(t,n,a,r,s){for(var l in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(r):r[l]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:an,this.isPropagationStopped=an,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,ln,on,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=rn(cn),un=I({},cn,{view:0,detail:0}),mn=rn(un),pn=I({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(sn=e.screenX-on.screenX,ln=e.screenY-on.screenY):ln=sn=0,on=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),hn=rn(pn),fn=rn(I({},pn,{dataTransfer:0})),vn=rn(I({},un,{relatedTarget:0})),gn=rn(I({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=I({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=rn(yn),bn=rn(I({},cn,{data:0})),jn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Sn(){return kn}var En=I({},un,{key:function(e){if(e.key){var t=jn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Nn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=rn(En),_n=rn(I({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=rn(I({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Dn=rn(I({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=I({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=rn(An),Pn=[9,13,27,32],Ln=d&&"CompositionEvent"in window,On=null;d&&"documentMode"in document&&(On=document.documentMode);var Mn=d&&"TextEvent"in window&&!On,In=d&&(!Ln||On&&8<On&&11>=On),zn=String.fromCharCode(32),Fn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,a){Ee(a),0<(t=Ja(t,"onChange")).length&&(n=new dn("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var $n=null,Jn=null;function Kn(e){Fa(e,0)}function Qn(e){if(J(jr(e)))return e}function Gn(e,t){if("change"===e)return t}var Yn=!1;if(d){var Xn;if(d){var Zn="oninput"in document;if(!Zn){var ea=document.createElement("div");ea.setAttribute("oninput","return;"),Zn="function"===typeof ea.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function ta(){$n&&($n.detachEvent("onpropertychange",na),Jn=$n=null)}function na(e){if("value"===e.propertyName&&Qn(Jn)){var t=[];Wn(t,Jn,e,je(e)),Ae(Kn,t)}}function aa(e,t,n){"focusin"===e?(ta(),Jn=n,($n=t).attachEvent("onpropertychange",na)):"focusout"===e&&ta()}function ra(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Jn)}function sa(e,t){if("click"===e)return Qn(t)}function la(e,t){if("input"===e||"change"===e)return Qn(t)}var oa="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ia(e,t){if(oa(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!u.call(t,r)||!oa(e[r],t[r]))return!1}return!0}function ca(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function da(e,t){var n,a=ca(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ca(a)}}function ua(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ua(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ma(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function pa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ha(e){var t=ma(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ua(n.ownerDocument.documentElement,n)){if(null!==a&&pa(n))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,s=Math.min(a.start,r);a=void 0===a.end?s:Math.min(a.end,r),!e.extend&&s>a&&(r=a,a=s,s=r),r=da(n,s);var l=da(n,a);r&&l&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),s>a?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fa=d&&"documentMode"in document&&11>=document.documentMode,va=null,ga=null,ya=null,xa=!1;function ba(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xa||null==va||va!==K(a)||("selectionStart"in(a=va)&&pa(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},ya&&ia(ya,a)||(ya=a,0<(a=Ja(ga,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=va)))}function ja(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Na={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionend:ja("Transition","TransitionEnd")},wa={},ka={};function Sa(e){if(wa[e])return wa[e];if(!Na[e])return e;var t,n=Na[e];for(t in n)if(n.hasOwnProperty(t)&&t in ka)return wa[e]=n[t];return e}d&&(ka=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);var Ea=Sa("animationend"),Ca=Sa("animationiteration"),_a=Sa("animationstart"),Da=Sa("transitionend"),Aa=new Map,Ra="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pa(e,t){Aa.set(e,t),i(t,[e])}for(var La=0;La<Ra.length;La++){var Oa=Ra[La];Pa(Oa.toLowerCase(),"on"+(Oa[0].toUpperCase()+Oa.slice(1)))}Pa(Ea,"onAnimationEnd"),Pa(Ca,"onAnimationIteration"),Pa(_a,"onAnimationStart"),Pa("dblclick","onDoubleClick"),Pa("focusin","onFocus"),Pa("focusout","onBlur"),Pa(Da,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ia=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ma));function za(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,a,r,l,o,i,c){if(Ue.apply(this,arguments),Me){if(!Me)throw Error(s(198));var d=Ie;Me=!1,Ie=null,ze||(ze=!0,Fe=d)}}(a,t,void 0,e),e.currentTarget=null}function Fa(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var l=a.length-1;0<=l;l--){var o=a[l],i=o.instance,c=o.currentTarget;if(o=o.listener,i!==s&&r.isPropagationStopped())break e;za(r,o,c),s=i}else for(l=0;l<a.length;l++){if(i=(o=a[l]).instance,c=o.currentTarget,o=o.listener,i!==s&&r.isPropagationStopped())break e;za(r,o,c),s=i}}}if(ze)throw e=Fe,ze=!1,Fe=null,e}function Va(e,t){var n=t[vr];void 0===n&&(n=t[vr]=new Set);var a=e+"__bubble";n.has(a)||(Ha(t,e,2,!1),n.add(a))}function Ua(e,t,n){var a=0;t&&(a|=4),Ha(n,e,a,t)}var Ba="_reactListening"+Math.random().toString(36).slice(2);function qa(e){if(!e[Ba]){e[Ba]=!0,l.forEach(function(t){"selectionchange"!==t&&(Ia.has(t)||Ua(t,!1,e),Ua(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ba]||(t[Ba]=!0,Ua("selectionchange",!1,t))}}function Ha(e,t,n,a){switch(Gt(t)){case 1:var r=Wt;break;case 4:r=$t;break;default:r=Jt}n=r.bind(null,t,n,e),r=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),a?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Wa(e,t,n,a,r){var s=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var l=a.tag;if(3===l||4===l){var o=a.stateNode.containerInfo;if(o===r||8===o.nodeType&&o.parentNode===r)break;if(4===l)for(l=a.return;null!==l;){var i=l.tag;if((3===i||4===i)&&((i=l.stateNode.containerInfo)===r||8===i.nodeType&&i.parentNode===r))return;l=l.return}for(;null!==o;){if(null===(l=xr(o)))return;if(5===(i=l.tag)||6===i){a=s=l;continue e}o=o.parentNode}}a=a.return}Ae(function(){var a=s,r=je(n),l=[];e:{var o=Aa.get(e);if(void 0!==o){var i=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":i=Cn;break;case"focusin":c="focus",i=vn;break;case"focusout":c="blur",i=vn;break;case"beforeblur":case"afterblur":i=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":i=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":i=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":i=Tn;break;case Ea:case Ca:case _a:i=gn;break;case Da:i=Dn;break;case"scroll":i=mn;break;case"wheel":i=Rn;break;case"copy":case"cut":case"paste":i=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":i=_n}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==o?o+"Capture":null:o;d=[];for(var p,h=a;null!==h;){var f=(p=h).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==m&&(null!=(f=Re(h,m))&&d.push($a(h,f,p)))),u)break;h=h.return}0<d.length&&(o=new i(o,c,null,n,r),l.push({event:o,listeners:d}))}}if(0===(7&t)){if(i="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!xr(c)&&!c[fr])&&(i||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,i?(i=a,null!==(c=(c=n.relatedTarget||n.toElement)?xr(c):null)&&(c!==(u=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(i=null,c=a),i!==c)){if(d=hn,f="onMouseLeave",m="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=_n,f="onPointerLeave",m="onPointerEnter",h="pointer"),u=null==i?o:jr(i),p=null==c?o:jr(c),(o=new d(f,h+"leave",i,n,r)).target=u,o.relatedTarget=p,f=null,xr(r)===a&&((d=new d(m,h+"enter",c,n,r)).target=p,d.relatedTarget=u,f=d),u=f,i&&c)e:{for(m=c,h=0,p=d=i;p;p=Ka(p))h++;for(p=0,f=m;f;f=Ka(f))p++;for(;0<h-p;)d=Ka(d),h--;for(;0<p-h;)m=Ka(m),p--;for(;h--;){if(d===m||null!==m&&d===m.alternate)break e;d=Ka(d),m=Ka(m)}d=null}else d=null;null!==i&&Qa(l,o,i,d,!1),null!==c&&null!==u&&Qa(l,u,c,d,!0)}if("select"===(i=(o=a?jr(a):window).nodeName&&o.nodeName.toLowerCase())||"input"===i&&"file"===o.type)var v=Gn;else if(Hn(o))if(Yn)v=la;else{v=ra;var g=aa}else(i=o.nodeName)&&"input"===i.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(v=sa);switch(v&&(v=v(e,a))?Wn(l,v,n,r):(g&&g(e,o,a),"focusout"===e&&(g=o._wrapperState)&&g.controlled&&"number"===o.type&&ee(o,"number",o.value)),g=a?jr(a):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(va=g,ga=a,ya=null);break;case"focusout":ya=ga=va=null;break;case"mousedown":xa=!0;break;case"contextmenu":case"mouseup":case"dragend":xa=!1,ba(l,n,r);break;case"selectionchange":if(fa)break;case"keydown":case"keyup":ba(l,n,r)}var y;if(Ln)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Bn?Vn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(In&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Bn&&(y=en()):(Xt="value"in(Yt=r)?Yt.value:Yt.textContent,Bn=!0)),0<(g=Ja(a,x)).length&&(x=new bn(x,e,null,n,r),l.push({event:x,listeners:g}),y?x.data=y:null!==(y=Un(n))&&(x.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Fn=!0,zn);case"textInput":return(e=t.data)===zn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Ln&&Vn(e,t)?(e=en(),Zt=Xt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(a=Ja(a,"onBeforeInput")).length&&(r=new bn("onBeforeInput","beforeinput",null,n,r),l.push({event:r,listeners:a}),r.data=y))}Fa(l,t)})}function $a(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ja(e,t){for(var n=t+"Capture",a=[];null!==e;){var r=e,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=Re(e,n))&&a.unshift($a(e,s,r)),null!=(s=Re(e,t))&&a.push($a(e,s,r))),e=e.return}return a}function Ka(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qa(e,t,n,a,r){for(var s=t._reactName,l=[];null!==n&&n!==a;){var o=n,i=o.alternate,c=o.stateNode;if(null!==i&&i===a)break;5===o.tag&&null!==c&&(o=c,r?null!=(i=Re(n,s))&&l.unshift($a(n,i,o)):r||null!=(i=Re(n,s))&&l.push($a(n,i,o))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var Ga=/\r\n?/g,Ya=/\u0000|\uFFFD/g;function Xa(e){return("string"===typeof e?e:""+e).replace(Ga,"\n").replace(Ya,"")}function Za(e,t,n){if(t=Xa(t),Xa(e)!==t&&n)throw Error(s(425))}function er(){}var tr=null,nr=null;function ar(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rr="function"===typeof setTimeout?setTimeout:void 0,sr="function"===typeof clearTimeout?clearTimeout:void 0,lr="function"===typeof Promise?Promise:void 0,or="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof lr?function(e){return lr.resolve(null).then(e).catch(ir)}:rr;function ir(e){setTimeout(function(){throw e})}function cr(e,t){var n=t,a=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===a)return e.removeChild(r),void Bt(t);a--}else"$"!==n&&"$?"!==n&&"$!"!==n||a++;n=r}while(n);Bt(t)}function dr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ur(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var mr=Math.random().toString(36).slice(2),pr="__reactFiber$"+mr,hr="__reactProps$"+mr,fr="__reactContainer$"+mr,vr="__reactEvents$"+mr,gr="__reactListeners$"+mr,yr="__reactHandles$"+mr;function xr(e){var t=e[pr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fr]||n[pr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ur(e);null!==e;){if(n=e[pr])return n;e=ur(e)}return t}n=(e=n).parentNode}return null}function br(e){return!(e=e[pr]||e[fr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function jr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Nr(e){return e[hr]||null}var wr=[],kr=-1;function Sr(e){return{current:e}}function Er(e){0>kr||(e.current=wr[kr],wr[kr]=null,kr--)}function Cr(e,t){kr++,wr[kr]=e.current,e.current=t}var _r={},Tr=Sr(_r),Dr=Sr(!1),Ar=_r;function Rr(e,t){var n=e.type.contextTypes;if(!n)return _r;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in n)s[r]=t[r];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Lr(){Er(Dr),Er(Tr)}function Or(e,t,n){if(Tr.current!==_r)throw Error(s(168));Cr(Tr,t),Cr(Dr,n)}function Mr(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,"function"!==typeof a.getChildContext)return n;for(var r in a=a.getChildContext())if(!(r in t))throw Error(s(108,q(e)||"Unknown",r));return I({},n,a)}function Ir(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_r,Ar=Tr.current,Cr(Tr,e),Cr(Dr,Dr.current),!0}function zr(e,t,n){var a=e.stateNode;if(!a)throw Error(s(169));n?(e=Mr(e,t,Ar),a.__reactInternalMemoizedMergedChildContext=e,Er(Dr),Er(Tr),Cr(Tr,e)):Er(Dr),Cr(Dr,n)}var Fr=null,Vr=!1,Ur=!1;function Br(e){null===Fr?Fr=[e]:Fr.push(e)}function qr(){if(!Ur&&null!==Fr){Ur=!0;var e=0,t=xt;try{var n=Fr;for(xt=1;e<n.length;e++){var a=n[e];do{a=a(!0)}while(null!==a)}Fr=null,Vr=!1}catch(r){throw null!==Fr&&(Fr=Fr.slice(e+1)),Je(Ze,qr),r}finally{xt=t,Ur=!1}}return null}var Hr=[],Wr=0,$r=null,Jr=0,Kr=[],Qr=0,Gr=null,Yr=1,Xr="";function Zr(e,t){Hr[Wr++]=Jr,Hr[Wr++]=$r,$r=e,Jr=t}function es(e,t,n){Kr[Qr++]=Yr,Kr[Qr++]=Xr,Kr[Qr++]=Gr,Gr=e;var a=Yr;e=Xr;var r=32-lt(a)-1;a&=~(1<<r),n+=1;var s=32-lt(t)+r;if(30<s){var l=r-r%5;s=(a&(1<<l)-1).toString(32),a>>=l,r-=l,Yr=1<<32-lt(t)+r|n<<r|a,Xr=s+e}else Yr=1<<s|n<<r|a,Xr=e}function ts(e){null!==e.return&&(Zr(e,1),es(e,1,0))}function ns(e){for(;e===$r;)$r=Hr[--Wr],Hr[Wr]=null,Jr=Hr[--Wr],Hr[Wr]=null;for(;e===Gr;)Gr=Kr[--Qr],Kr[Qr]=null,Xr=Kr[--Qr],Kr[Qr]=null,Yr=Kr[--Qr],Kr[Qr]=null}var as=null,rs=null,ss=!1,ls=null;function os(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function is(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,as=e,rs=dr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,as=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Gr?{id:Yr,overflow:Xr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,as=e,rs=null,!0);default:return!1}}function cs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ds(e){if(ss){var t=rs;if(t){var n=t;if(!is(e,t)){if(cs(e))throw Error(s(418));t=dr(n.nextSibling);var a=as;t&&is(e,t)?os(a,n):(e.flags=-4097&e.flags|2,ss=!1,as=e)}}else{if(cs(e))throw Error(s(418));e.flags=-4097&e.flags|2,ss=!1,as=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;as=e}function ms(e){if(e!==as)return!1;if(!ss)return us(e),ss=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ar(e.type,e.memoizedProps)),t&&(t=rs)){if(cs(e))throw ps(),Error(s(418));for(;t;)os(e,t),t=dr(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=dr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=as?dr(e.stateNode.nextSibling):null;return!0}function ps(){for(var e=rs;e;)e=dr(e.nextSibling)}function hs(){rs=as=null,ss=!1}function fs(e){null===ls?ls=[e]:ls.push(e)}var vs=b.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var a=n.stateNode}if(!a)throw Error(s(147,e));var r=a,l=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===l?t.ref:(t=function(e){var t=r.refs;null===e?delete t[l]:t[l]=e},t._stringRef=l,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xs(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function l(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=2,n):a:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function i(e,t,n,a){return null===t||6!==t.tag?((t=zc(n,e.mode,a)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,a){var s=n.type;return s===w?u(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===R&&xs(s)===t.type)?((a=r(t,n.props)).ref=gs(e,t,n),a.return=e,a):((a=Oc(n.type,n.key,n.props,null,e.mode,a)).ref=gs(e,t,n),a.return=e,a)}function d(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,a)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function u(e,t,n,a,s){return null===t||7!==t.tag?((t=Mc(n,e.mode,a,s)).return=e,t):((t=r(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case N:return(t=Fc(t,e.mode,n)).return=e,t;case R:return m(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Mc(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function p(e,t,n,a){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:i(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return n.key===r?c(e,t,n,a):null;case N:return n.key===r?d(e,t,n,a):null;case R:return p(e,t,(r=n._init)(n._payload),a)}if(te(n)||O(n))return null!==r?null:u(e,t,n,a,null);ys(e,n)}return null}function h(e,t,n,a,r){if("string"===typeof a&&""!==a||"number"===typeof a)return i(t,e=e.get(n)||null,""+a,r);if("object"===typeof a&&null!==a){switch(a.$$typeof){case j:return c(t,e=e.get(null===a.key?n:a.key)||null,a,r);case N:return d(t,e=e.get(null===a.key?n:a.key)||null,a,r);case R:return h(e,t,n,(0,a._init)(a._payload),r)}if(te(a)||O(a))return u(t,e=e.get(n)||null,a,r,null);ys(t,a)}return null}function f(r,s,o,i){for(var c=null,d=null,u=s,f=s=0,v=null;null!==u&&f<o.length;f++){u.index>f?(v=u,u=null):v=u.sibling;var g=p(r,u,o[f],i);if(null===g){null===u&&(u=v);break}e&&u&&null===g.alternate&&t(r,u),s=l(g,s,f),null===d?c=g:d.sibling=g,d=g,u=v}if(f===o.length)return n(r,u),ss&&Zr(r,f),c;if(null===u){for(;f<o.length;f++)null!==(u=m(r,o[f],i))&&(s=l(u,s,f),null===d?c=u:d.sibling=u,d=u);return ss&&Zr(r,f),c}for(u=a(r,u);f<o.length;f++)null!==(v=h(u,r,f,o[f],i))&&(e&&null!==v.alternate&&u.delete(null===v.key?f:v.key),s=l(v,s,f),null===d?c=v:d.sibling=v,d=v);return e&&u.forEach(function(e){return t(r,e)}),ss&&Zr(r,f),c}function v(r,o,i,c){var d=O(i);if("function"!==typeof d)throw Error(s(150));if(null==(i=d.call(i)))throw Error(s(151));for(var u=d=null,f=o,v=o=0,g=null,y=i.next();null!==f&&!y.done;v++,y=i.next()){f.index>v?(g=f,f=null):g=f.sibling;var x=p(r,f,y.value,c);if(null===x){null===f&&(f=g);break}e&&f&&null===x.alternate&&t(r,f),o=l(x,o,v),null===u?d=x:u.sibling=x,u=x,f=g}if(y.done)return n(r,f),ss&&Zr(r,v),d;if(null===f){for(;!y.done;v++,y=i.next())null!==(y=m(r,y.value,c))&&(o=l(y,o,v),null===u?d=y:u.sibling=y,u=y);return ss&&Zr(r,v),d}for(f=a(r,f);!y.done;v++,y=i.next())null!==(y=h(f,r,v,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),o=l(y,o,v),null===u?d=y:u.sibling=y,u=y);return e&&f.forEach(function(e){return t(r,e)}),ss&&Zr(r,v),d}return function e(a,s,l,i){if("object"===typeof l&&null!==l&&l.type===w&&null===l.key&&(l=l.props.children),"object"===typeof l&&null!==l){switch(l.$$typeof){case j:e:{for(var c=l.key,d=s;null!==d;){if(d.key===c){if((c=l.type)===w){if(7===d.tag){n(a,d.sibling),(s=r(d,l.props.children)).return=a,a=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&xs(c)===d.type){n(a,d.sibling),(s=r(d,l.props)).ref=gs(a,d,l),s.return=a,a=s;break e}n(a,d);break}t(a,d),d=d.sibling}l.type===w?((s=Mc(l.props.children,a.mode,i,l.key)).return=a,a=s):((i=Oc(l.type,l.key,l.props,null,a.mode,i)).ref=gs(a,s,l),i.return=a,a=i)}return o(a);case N:e:{for(d=l.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===l.containerInfo&&s.stateNode.implementation===l.implementation){n(a,s.sibling),(s=r(s,l.children||[])).return=a,a=s;break e}n(a,s);break}t(a,s),s=s.sibling}(s=Fc(l,a.mode,i)).return=a,a=s}return o(a);case R:return e(a,s,(d=l._init)(l._payload),i)}if(te(l))return f(a,s,l,i);if(O(l))return v(a,s,l,i);ys(a,l)}return"string"===typeof l&&""!==l||"number"===typeof l?(l=""+l,null!==s&&6===s.tag?(n(a,s.sibling),(s=r(s,l)).return=a,a=s):(n(a,s),(s=zc(l,a.mode,i)).return=a,a=s),o(a)):n(a,s)}}var js=bs(!0),Ns=bs(!1),ws=Sr(null),ks=null,Ss=null,Es=null;function Cs(){Es=Ss=ks=null}function _s(e){var t=ws.current;Er(ws),e._currentValue=t}function Ts(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Ds(e,t){ks=e,Es=Ss=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function As(e){var t=e._currentValue;if(Es!==e)if(e={context:e,memoizedValue:t,next:null},null===Ss){if(null===ks)throw Error(s(308));Ss=e,ks.dependencies={lanes:0,firstContext:e}}else Ss=Ss.next=e;return t}var Rs=null;function Ps(e){null===Rs?Rs=[e]:Rs.push(e)}function Ls(e,t,n,a){var r=t.interleaved;return null===r?(n.next=n,Ps(t)):(n.next=r.next,r.next=n),t.interleaved=n,Os(e,a)}function Os(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ms=!1;function Is(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vs(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&Ti)){var r=a.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),a.pending=t,Os(e,n)}return null===(r=a.interleaved)?(t.next=t,Ps(a)):(t.next=r.next,r.next=t),a.interleaved=t,Os(e,n)}function Us(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Bs(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?r=s=l:s=s.next=l,n=n.next}while(null!==n);null===s?r=s=t:s=s.next=t}else r=s=t;return n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:a.shared,effects:a.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qs(e,t,n,a){var r=e.updateQueue;Ms=!1;var s=r.firstBaseUpdate,l=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var i=o,c=i.next;i.next=null,null===l?s=c:l.next=c,l=i;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==l&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=i))}if(null!==s){var u=r.baseState;for(l=0,d=c=i=null,o=s;;){var m=o.lane,p=o.eventTime;if((a&m)===m){null!==d&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=e,f=o;switch(m=t,p=n,f.tag){case 1:if("function"===typeof(h=f.payload)){u=h.call(p,u,m);break e}u=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(m="function"===typeof(h=f.payload)?h.call(p,u,m):h)||void 0===m)break e;u=I({},u,m);break e;case 2:Ms=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(m=r.effects)?r.effects=[o]:m.push(o))}else p={eventTime:p,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=p,i=u):d=d.next=p,l|=m;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(m=o).next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}if(null===d&&(i=u),r.baseState=i,r.firstBaseUpdate=c,r.lastBaseUpdate=d,null!==(t=r.shared.interleaved)){r=t;do{l|=r.lane,r=r.next}while(r!==t)}else null===s&&(r.shared.lanes=0);Ii|=l,e.lanes=l,e.memoizedState=u}}function Hs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],r=a.callback;if(null!==r){if(a.callback=null,a=n,"function"!==typeof r)throw Error(s(191,r));r.call(a)}}}var Ws={},$s=Sr(Ws),Js=Sr(Ws),Ks=Sr(Ws);function Qs(e){if(e===Ws)throw Error(s(174));return e}function Gs(e,t){switch(Cr(Ks,t),Cr(Js,e),Cr($s,Ws),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ie(null,"");break;default:t=ie(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Er($s),Cr($s,t)}function Ys(){Er($s),Er(Js),Er(Ks)}function Xs(e){Qs(Ks.current);var t=Qs($s.current),n=ie(t,e.type);t!==n&&(Cr(Js,e),Cr($s,n))}function Zs(e){Js.current===e&&(Er($s),Er(Js))}var el=Sr(0);function tl(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nl=[];function al(){for(var e=0;e<nl.length;e++)nl[e]._workInProgressVersionPrimary=null;nl.length=0}var rl=b.ReactCurrentDispatcher,sl=b.ReactCurrentBatchConfig,ll=0,ol=null,il=null,cl=null,dl=!1,ul=!1,ml=0,pl=0;function hl(){throw Error(s(321))}function fl(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!oa(e[n],t[n]))return!1;return!0}function vl(e,t,n,a,r,l){if(ll=l,ol=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rl.current=null===e||null===e.memoizedState?Zl:eo,e=n(a,r),ul){l=0;do{if(ul=!1,ml=0,25<=l)throw Error(s(301));l+=1,cl=il=null,t.updateQueue=null,rl.current=to,e=n(a,r)}while(ul)}if(rl.current=Xl,t=null!==il&&null!==il.next,ll=0,cl=il=ol=null,dl=!1,t)throw Error(s(300));return e}function gl(){var e=0!==ml;return ml=0,e}function yl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cl?ol.memoizedState=cl=e:cl=cl.next=e,cl}function xl(){if(null===il){var e=ol.alternate;e=null!==e?e.memoizedState:null}else e=il.next;var t=null===cl?ol.memoizedState:cl.next;if(null!==t)cl=t,il=e;else{if(null===e)throw Error(s(310));e={memoizedState:(il=e).memoizedState,baseState:il.baseState,baseQueue:il.baseQueue,queue:il.queue,next:null},null===cl?ol.memoizedState=cl=e:cl=cl.next=e}return cl}function bl(e,t){return"function"===typeof t?t(e):t}function jl(e){var t=xl(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var a=il,r=a.baseQueue,l=n.pending;if(null!==l){if(null!==r){var o=r.next;r.next=l.next,l.next=o}a.baseQueue=r=l,n.pending=null}if(null!==r){l=r.next,a=a.baseState;var i=o=null,c=null,d=l;do{var u=d.lane;if((ll&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(i=c=m,o=a):c=c.next=m,ol.lanes|=u,Ii|=u}d=d.next}while(null!==d&&d!==l);null===c?o=a:c.next=i,oa(a,t.memoizedState)||(bo=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=c,n.lastRenderedState=a}if(null!==(e=n.interleaved)){r=e;do{l=r.lane,ol.lanes|=l,Ii|=l,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Nl(e){var t=xl(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,l=t.memoizedState;if(null!==r){n.pending=null;var o=r=r.next;do{l=e(l,o.action),o=o.next}while(o!==r);oa(l,t.memoizedState)||(bo=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,a]}function wl(){}function kl(e,t){var n=ol,a=xl(),r=t(),l=!oa(a.memoizedState,r);if(l&&(a.memoizedState=r,bo=!0),a=a.queue,Ml(Cl.bind(null,n,a,e),[e]),a.getSnapshot!==t||l||null!==cl&&1&cl.memoizedState.tag){if(n.flags|=2048,Al(9,El.bind(null,n,a,r,t),void 0,null),null===Di)throw Error(s(349));0!==(30&ll)||Sl(n,t,r)}return r}function Sl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ol.updateQueue)?(t={lastEffect:null,stores:null},ol.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function El(e,t,n,a){t.value=n,t.getSnapshot=a,_l(t)&&Tl(e)}function Cl(e,t,n){return n(function(){_l(t)&&Tl(e)})}function _l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!oa(e,n)}catch(a){return!0}}function Tl(e){var t=Os(e,1);null!==t&&ac(t,e,1,-1)}function Dl(e){var t=yl();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:e},t.queue=e,e=e.dispatch=Kl.bind(null,ol,e),[t.memoizedState,e]}function Al(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},null===(t=ol.updateQueue)?(t={lastEffect:null,stores:null},ol.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Rl(){return xl().memoizedState}function Pl(e,t,n,a){var r=yl();ol.flags|=e,r.memoizedState=Al(1|t,n,void 0,void 0===a?null:a)}function Ll(e,t,n,a){var r=xl();a=void 0===a?null:a;var s=void 0;if(null!==il){var l=il.memoizedState;if(s=l.destroy,null!==a&&fl(a,l.deps))return void(r.memoizedState=Al(t,n,s,a))}ol.flags|=e,r.memoizedState=Al(1|t,n,s,a)}function Ol(e,t){return Pl(8390656,8,e,t)}function Ml(e,t){return Ll(2048,8,e,t)}function Il(e,t){return Ll(4,2,e,t)}function zl(e,t){return Ll(4,4,e,t)}function Fl(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vl(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ll(4,4,Fl.bind(null,t,e),n)}function Ul(){}function Bl(e,t){var n=xl();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&fl(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function ql(e,t){var n=xl();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&fl(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function Hl(e,t,n){return 0===(21&ll)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(oa(n,t)||(n=ft(),ol.lanes|=n,Ii|=n,e.baseState=!0),t)}function Wl(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var a=sl.transition;sl.transition={};try{e(!1),t()}finally{xt=n,sl.transition=a}}function $l(){return xl().memoizedState}function Jl(e,t,n){var a=nc(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},Ql(e))Gl(t,n);else if(null!==(n=Ls(e,t,n,a))){ac(n,e,a,tc()),Yl(n,t,a)}}function Kl(e,t,n){var a=nc(e),r={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ql(e))Gl(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var l=t.lastRenderedState,o=s(l,n);if(r.hasEagerState=!0,r.eagerState=o,oa(o,l)){var i=t.interleaved;return null===i?(r.next=r,Ps(t)):(r.next=i.next,i.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=Ls(e,t,r,a))&&(ac(n,e,a,r=tc()),Yl(n,t,a))}}function Ql(e){var t=e.alternate;return e===ol||null!==t&&t===ol}function Gl(e,t){ul=dl=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yl(e,t,n){if(0!==(4194240&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Xl={readContext:As,useCallback:hl,useContext:hl,useEffect:hl,useImperativeHandle:hl,useInsertionEffect:hl,useLayoutEffect:hl,useMemo:hl,useReducer:hl,useRef:hl,useState:hl,useDebugValue:hl,useDeferredValue:hl,useTransition:hl,useMutableSource:hl,useSyncExternalStore:hl,useId:hl,unstable_isNewReconciler:!1},Zl={readContext:As,useCallback:function(e,t){return yl().memoizedState=[e,void 0===t?null:t],e},useContext:As,useEffect:Ol,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pl(4194308,4,Fl.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pl(4,2,e,t)},useMemo:function(e,t){var n=yl();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=yl();return t=void 0!==n?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Jl.bind(null,ol,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},yl().memoizedState=e},useState:Dl,useDebugValue:Ul,useDeferredValue:function(e){return yl().memoizedState=e},useTransition:function(){var e=Dl(!1),t=e[0];return e=Wl.bind(null,e[1]),yl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=ol,r=yl();if(ss){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Di)throw Error(s(349));0!==(30&ll)||Sl(a,t,n)}r.memoizedState=n;var l={value:n,getSnapshot:t};return r.queue=l,Ol(Cl.bind(null,a,l,e),[e]),a.flags|=2048,Al(9,El.bind(null,a,l,n,t),void 0,null),n},useId:function(){var e=yl(),t=Di.identifierPrefix;if(ss){var n=Xr;t=":"+t+"R"+(n=(Yr&~(1<<32-lt(Yr)-1)).toString(32)+n),0<(n=ml++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=pl++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eo={readContext:As,useCallback:Bl,useContext:As,useEffect:Ml,useImperativeHandle:Vl,useInsertionEffect:Il,useLayoutEffect:zl,useMemo:ql,useReducer:jl,useRef:Rl,useState:function(){return jl(bl)},useDebugValue:Ul,useDeferredValue:function(e){return Hl(xl(),il.memoizedState,e)},useTransition:function(){return[jl(bl)[0],xl().memoizedState]},useMutableSource:wl,useSyncExternalStore:kl,useId:$l,unstable_isNewReconciler:!1},to={readContext:As,useCallback:Bl,useContext:As,useEffect:Ml,useImperativeHandle:Vl,useInsertionEffect:Il,useLayoutEffect:zl,useMemo:ql,useReducer:Nl,useRef:Rl,useState:function(){return Nl(bl)},useDebugValue:Ul,useDeferredValue:function(e){var t=xl();return null===il?t.memoizedState=e:Hl(t,il.memoizedState,e)},useTransition:function(){return[Nl(bl)[0],xl().memoizedState]},useMutableSource:wl,useSyncExternalStore:kl,useId:$l,unstable_isNewReconciler:!1};function no(e,t){if(e&&e.defaultProps){for(var n in t=I({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ao(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:I({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=tc(),r=nc(e),s=Fs(a,r);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Vs(e,s,r))&&(ac(t,e,r,a),Us(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=tc(),r=nc(e),s=Fs(a,r);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Vs(e,s,r))&&(ac(t,e,r,a),Us(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),a=nc(e),r=Fs(n,a);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Vs(e,r,a))&&(ac(t,e,a,n),Us(t,e,a))}};function so(e,t,n,a,r,s,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,s,l):!t.prototype||!t.prototype.isPureReactComponent||(!ia(n,a)||!ia(r,s))}function lo(e,t,n){var a=!1,r=_r,s=t.contextType;return"object"===typeof s&&null!==s?s=As(s):(r=Pr(t)?Ar:Tr.current,s=(a=null!==(a=t.contextTypes)&&void 0!==a)?Rr(e,r):_r),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function oo(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function io(e,t,n,a){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Is(e);var s=t.contextType;"object"===typeof s&&null!==s?r.context=As(s):(s=Pr(t)?Ar:Tr.current,r.context=Rr(e,s)),r.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ao(e,t,s,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&ro.enqueueReplaceState(r,r.state,null),qs(e,n,r,a),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function co(e,t){try{var n="",a=t;do{n+=U(a),a=a.return}while(a);var r=n}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:r,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function mo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var po="function"===typeof WeakMap?WeakMap:Map;function ho(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){Wi||(Wi=!0,$i=a),mo(0,t)},n}function fo(e,t,n){(n=Fs(-1,n)).tag=3;var a=e.type.getDerivedStateFromError;if("function"===typeof a){var r=t.value;n.payload=function(){return a(r)},n.callback=function(){mo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){mo(0,t),"function"!==typeof a&&(null===Ji?Ji=new Set([this]):Ji.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vo(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new po;var r=new Set;a.set(t,r)}else void 0===(r=a.get(t))&&(r=new Set,a.set(t,r));r.has(n)||(r.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,a,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,Vs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var xo=b.ReactCurrentOwner,bo=!1;function jo(e,t,n,a){t.child=null===e?Ns(t,null,n,a):js(t,e.child,n,a)}function No(e,t,n,a,r){n=n.render;var s=t.ref;return Ds(t,r),a=vl(e,t,n,a,s,r),n=gl(),null===e||bo?(ss&&n&&ts(t),t.flags|=1,jo(e,t,a,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Wo(e,t,r))}function wo(e,t,n,a,r){if(null===e){var s=n.type;return"function"!==typeof s||Pc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,a,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ko(e,t,s,a,r))}if(s=e.child,0===(e.lanes&r)){var l=s.memoizedProps;if((n=null!==(n=n.compare)?n:ia)(l,a)&&e.ref===t.ref)return Wo(e,t,r)}return t.flags|=1,(e=Lc(s,a)).ref=t.ref,e.return=t,t.child=e}function ko(e,t,n,a,r){if(null!==e){var s=e.memoizedProps;if(ia(s,a)&&e.ref===t.ref){if(bo=!1,t.pendingProps=a=s,0===(e.lanes&r))return t.lanes=e.lanes,Wo(e,t,r);0!==(131072&e.flags)&&(bo=!0)}}return Co(e,t,n,a,r)}function So(e,t,n){var a=t.pendingProps,r=a.children,s=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cr(Li,Pi),Pi|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cr(Li,Pi),Pi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==s?s.baseLanes:n,Cr(Li,Pi),Pi|=a}else null!==s?(a=s.baseLanes|n,t.memoizedState=null):a=n,Cr(Li,Pi),Pi|=a;return jo(e,t,r,n),t.child}function Eo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,a,r){var s=Pr(n)?Ar:Tr.current;return s=Rr(t,s),Ds(t,r),n=vl(e,t,n,a,s,r),a=gl(),null===e||bo?(ss&&a&&ts(t),t.flags|=1,jo(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Wo(e,t,r))}function _o(e,t,n,a,r){if(Pr(n)){var s=!0;Ir(t)}else s=!1;if(Ds(t,r),null===t.stateNode)Ho(e,t),lo(t,n,a),io(t,n,a,r),a=!0;else if(null===e){var l=t.stateNode,o=t.memoizedProps;l.props=o;var i=l.context,c=n.contextType;"object"===typeof c&&null!==c?c=As(c):c=Rr(t,c=Pr(n)?Ar:Tr.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof l.getSnapshotBeforeUpdate;u||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(o!==a||i!==c)&&oo(t,l,a,c),Ms=!1;var m=t.memoizedState;l.state=m,qs(t,a,l,r),i=t.memoizedState,o!==a||m!==i||Dr.current||Ms?("function"===typeof d&&(ao(t,n,d,a),i=t.memoizedState),(o=Ms||so(t,n,o,a,m,i,c))?(u||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=i),l.props=a,l.state=i,l.context=c,a=o):("function"===typeof l.componentDidMount&&(t.flags|=4194308),a=!1)}else{l=t.stateNode,zs(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:no(t.type,o),l.props=c,u=t.pendingProps,m=l.context,"object"===typeof(i=n.contextType)&&null!==i?i=As(i):i=Rr(t,i=Pr(n)?Ar:Tr.current);var p=n.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(o!==u||m!==i)&&oo(t,l,a,i),Ms=!1,m=t.memoizedState,l.state=m,qs(t,a,l,r);var h=t.memoizedState;o!==u||m!==h||Dr.current||Ms?("function"===typeof p&&(ao(t,n,p,a),h=t.memoizedState),(c=Ms||so(t,n,c,a,m,h,i)||!1)?(d||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(a,h,i),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(a,h,i)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=h),l.props=a,l.state=h,l.context=i,a=c):("function"!==typeof l.componentDidUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return To(e,t,n,a,s,r)}function To(e,t,n,a,r,s){Eo(e,t);var l=0!==(128&t.flags);if(!a&&!l)return r&&zr(t,n,!1),Wo(e,t,s);a=t.stateNode,xo.current=t;var o=l&&"function"!==typeof n.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&l?(t.child=js(t,e.child,null,s),t.child=js(t,null,o,s)):jo(e,t,o,s),t.memoizedState=a.state,r&&zr(t,n,!0),t.child}function Do(e){var t=e.stateNode;t.pendingContext?Or(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Or(0,t.context,!1),Gs(e,t.containerInfo)}function Ao(e,t,n,a,r){return hs(),fs(r),t.flags|=256,jo(e,t,n,a),t.child}var Ro,Po,Lo,Oo,Mo={dehydrated:null,treeContext:null,retryLane:0};function Io(e){return{baseLanes:e,cachePool:null,transitions:null}}function zo(e,t,n){var a,r=t.pendingProps,l=el.current,o=!1,i=0!==(128&t.flags);if((a=i)||(a=(null===e||null!==e.memoizedState)&&0!==(2&l)),a?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(l|=1),Cr(el,1&l),null===e)return ds(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},0===(1&r)&&null!==o?(o.childLanes=0,o.pendingProps=i):o=Ic(i,r,0,null),e=Mc(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Io(n),t.memoizedState=Mo,e):Fo(t,i));if(null!==(l=e.memoizedState)&&null!==(a=l.dehydrated))return function(e,t,n,a,r,l,o){if(n)return 256&t.flags?(t.flags&=-257,Vo(e,t,o,a=uo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(l=a.fallback,r=t.mode,a=Ic({mode:"visible",children:a.children},r,0,null),(l=Mc(l,r,o,null)).flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,0!==(1&t.mode)&&js(t,e.child,null,o),t.child.memoizedState=Io(o),t.memoizedState=Mo,l);if(0===(1&t.mode))return Vo(e,t,o,null);if("$!"===r.data){if(a=r.nextSibling&&r.nextSibling.dataset)var i=a.dgst;return a=i,Vo(e,t,o,a=uo(l=Error(s(419)),a,void 0))}if(i=0!==(o&e.childLanes),bo||i){if(null!==(a=Di)){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(a.suspendedLanes|o))?0:r)&&r!==l.retryLane&&(l.retryLane=r,Os(e,r),ac(a,e,r,-1))}return vc(),Vo(e,t,o,a=uo(Error(s(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),r._reactRetry=t,null):(e=l.treeContext,rs=dr(r.nextSibling),as=t,ss=!0,ls=null,null!==e&&(Kr[Qr++]=Yr,Kr[Qr++]=Xr,Kr[Qr++]=Gr,Yr=e.id,Xr=e.overflow,Gr=t),t=Fo(t,a.children),t.flags|=4096,t)}(e,t,i,r,a,l,n);if(o){o=r.fallback,i=t.mode,a=(l=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&i)&&t.child!==l?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Lc(l,c)).subtreeFlags=14680064&l.subtreeFlags,null!==a?o=Lc(a,o):(o=Mc(o,i,n,null)).flags|=2,o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=null===(i=e.child.memoizedState)?Io(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Mo,r}return e=(o=e.child).sibling,r=Lc(o,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Fo(e,t){return(t=Ic({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vo(e,t,n,a){return null!==a&&fs(a),js(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uo(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Ts(e.return,t,n)}function Bo(e,t,n,a,r){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=r)}function qo(e,t,n){var a=t.pendingProps,r=a.revealOrder,s=a.tail;if(jo(e,t,a.children,n),0!==(2&(a=el.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uo(e,n,t);else if(19===e.tag)Uo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Cr(el,a),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===tl(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Bo(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===tl(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Bo(t,!0,n,null,s);break;case"together":Bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ii|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Lc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $o(e,t){if(!ss)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Jo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=14680064&r.subtreeFlags,a|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Ko(e,t,n){var a=t.pendingProps;switch(ns(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jo(t),null;case 1:case 17:return Pr(t.type)&&Lr(),Jo(t),null;case 3:return a=t.stateNode,Ys(),Er(Dr),Er(Tr),al(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(ms(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ls&&(oc(ls),ls=null))),Po(e,t),Jo(t),null;case 5:Zs(t);var r=Qs(Ks.current);if(n=t.type,null!==e&&null!=t.stateNode)Lo(e,t,n,a,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(s(166));return Jo(t),null}if(e=Qs($s.current),ms(t)){a=t.stateNode,n=t.type;var l=t.memoizedProps;switch(a[pr]=t,a[hr]=l,e=0!==(1&t.mode),n){case"dialog":Va("cancel",a),Va("close",a);break;case"iframe":case"object":case"embed":Va("load",a);break;case"video":case"audio":for(r=0;r<Ma.length;r++)Va(Ma[r],a);break;case"source":Va("error",a);break;case"img":case"image":case"link":Va("error",a),Va("load",a);break;case"details":Va("toggle",a);break;case"input":G(a,l),Va("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!l.multiple},Va("invalid",a);break;case"textarea":re(a,l),Va("invalid",a)}for(var i in ye(n,l),r=null,l)if(l.hasOwnProperty(i)){var c=l[i];"children"===i?"string"===typeof c?a.textContent!==c&&(!0!==l.suppressHydrationWarning&&Za(a.textContent,c,e),r=["children",c]):"number"===typeof c&&a.textContent!==""+c&&(!0!==l.suppressHydrationWarning&&Za(a.textContent,c,e),r=["children",""+c]):o.hasOwnProperty(i)&&null!=c&&"onScroll"===i&&Va("scroll",a)}switch(n){case"input":$(a),Z(a,l,!0);break;case"textarea":$(a),le(a);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(a.onclick=er)}a=r,t.updateQueue=a,null!==a&&(t.flags|=4)}else{i=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof a.is?e=i.createElement(n,{is:a.is}):(e=i.createElement(n),"select"===n&&(i=e,a.multiple?i.multiple=!0:a.size&&(i.size=a.size))):e=i.createElementNS(e,n),e[pr]=t,e[hr]=a,Ro(e,t,!1,!1),t.stateNode=e;e:{switch(i=xe(n,a),n){case"dialog":Va("cancel",e),Va("close",e),r=a;break;case"iframe":case"object":case"embed":Va("load",e),r=a;break;case"video":case"audio":for(r=0;r<Ma.length;r++)Va(Ma[r],e);r=a;break;case"source":Va("error",e),r=a;break;case"img":case"image":case"link":Va("error",e),Va("load",e),r=a;break;case"details":Va("toggle",e),r=a;break;case"input":G(e,a),r=Q(e,a),Va("invalid",e);break;case"option":default:r=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},r=I({},a,{value:void 0}),Va("invalid",e);break;case"textarea":re(e,a),r=ae(e,a),Va("invalid",e)}for(l in ye(n,r),c=r)if(c.hasOwnProperty(l)){var d=c[l];"style"===l?ve(e,d):"dangerouslySetInnerHTML"===l?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===l?"string"===typeof d?("textarea"!==n||""!==d)&&me(e,d):"number"===typeof d&&me(e,""+d):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(o.hasOwnProperty(l)?null!=d&&"onScroll"===l&&Va("scroll",e):null!=d&&x(e,l,d,i))}switch(n){case"input":$(e),Z(e,a,!1);break;case"textarea":$(e),le(e);break;case"option":null!=a.value&&e.setAttribute("value",""+H(a.value));break;case"select":e.multiple=!!a.multiple,null!=(l=a.value)?ne(e,!!a.multiple,l,!1):null!=a.defaultValue&&ne(e,!!a.multiple,a.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=er)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Jo(t),null;case 6:if(e&&null!=t.stateNode)Oo(e,t,e.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(s(166));if(n=Qs(Ks.current),Qs($s.current),ms(t)){if(a=t.stateNode,n=t.memoizedProps,a[pr]=t,(l=a.nodeValue!==n)&&null!==(e=as))switch(e.tag){case 3:Za(a.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Za(a.nodeValue,n,0!==(1&e.mode))}l&&(t.flags|=4)}else(a=(9===n.nodeType?n:n.ownerDocument).createTextNode(a))[pr]=t,t.stateNode=a}return Jo(t),null;case 13:if(Er(el),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ss&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ps(),hs(),t.flags|=98560,l=!1;else if(l=ms(t),null!==a&&null!==a.dehydrated){if(null===e){if(!l)throw Error(s(318));if(!(l=null!==(l=t.memoizedState)?l.dehydrated:null))throw Error(s(317));l[pr]=t}else hs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Jo(t),l=!1}else null!==ls&&(oc(ls),ls=null),l=!0;if(!l)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&el.current)?0===Oi&&(Oi=3):vc())),null!==t.updateQueue&&(t.flags|=4),Jo(t),null);case 4:return Ys(),Po(e,t),null===e&&qa(t.stateNode.containerInfo),Jo(t),null;case 10:return _s(t.type._context),Jo(t),null;case 19:if(Er(el),null===(l=t.memoizedState))return Jo(t),null;if(a=0!==(128&t.flags),null===(i=l.rendering))if(a)$o(l,!1);else{if(0!==Oi||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=tl(e))){for(t.flags|=128,$o(l,!1),null!==(a=i.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;null!==n;)e=a,(l=n).flags&=14680066,null===(i=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Cr(el,1&el.current|2),t.child}e=e.sibling}null!==l.tail&&Ye()>qi&&(t.flags|=128,a=!0,$o(l,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=tl(i))){if(t.flags|=128,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),$o(l,!0),null===l.tail&&"hidden"===l.tailMode&&!i.alternate&&!ss)return Jo(t),null}else 2*Ye()-l.renderingStartTime>qi&&1073741824!==n&&(t.flags|=128,a=!0,$o(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(null!==(n=l.last)?n.sibling=i:t.child=i,l.last=i)}return null!==l.tail?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ye(),t.sibling=null,n=el.current,Cr(el,a?1&n|2:1&n),t):(Jo(t),null);case 22:case 23:return mc(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&0!==(1&t.mode)?0!==(1073741824&Pi)&&(Jo(t),6&t.subtreeFlags&&(t.flags|=8192)):Jo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Qo(e,t){switch(ns(t),t.tag){case 1:return Pr(t.type)&&Lr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ys(),Er(Dr),Er(Tr),al(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zs(t),null;case 13:if(Er(el),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));hs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Er(el),null;case 4:return Ys(),null;case 10:return _s(t.type._context),null;case 22:case 23:return mc(),null;default:return null}}Ro=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Po=function(){},Lo=function(e,t,n,a){var r=e.memoizedProps;if(r!==a){e=t.stateNode,Qs($s.current);var s,l=null;switch(n){case"input":r=Q(e,r),a=Q(e,a),l=[];break;case"select":r=I({},r,{value:void 0}),a=I({},a,{value:void 0}),l=[];break;case"textarea":r=ae(e,r),a=ae(e,a),l=[];break;default:"function"!==typeof r.onClick&&"function"===typeof a.onClick&&(e.onclick=er)}for(d in ye(n,a),n=null,r)if(!a.hasOwnProperty(d)&&r.hasOwnProperty(d)&&null!=r[d])if("style"===d){var i=r[d];for(s in i)i.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in a){var c=a[d];if(i=null!=r?r[d]:void 0,a.hasOwnProperty(d)&&c!==i&&(null!=c||null!=i))if("style"===d)if(i){for(s in i)!i.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&i[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(l||(l=[]),l.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,i=i?i.__html:void 0,null!=c&&i!==c&&(l=l||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(l=l||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Va("scroll",e),l||i===c||(l=[])):(l=l||[]).push(d,c))}n&&(l=l||[]).push("style",n);var d=l;(t.updateQueue=d)&&(t.flags|=4)}},Oo=function(e,t,n,a){n!==a&&(t.flags|=4)};var Go=!1,Yo=!1,Xo="function"===typeof WeakSet?WeakSet:Set,Zo=null;function ei(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(a){Sc(e,t,a)}else n.current=null}function ti(e,t,n){try{n()}catch(a){Sc(e,t,a)}}var ni=!1;function ai(e,t,n){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var r=a=a.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,void 0!==s&&ti(t,n,s)}r=r.next}while(r!==a)}}function ri(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function si(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function li(e){var t=e.alternate;null!==t&&(e.alternate=null,li(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pr],delete t[hr],delete t[vr],delete t[gr],delete t[yr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function oi(e){return 5===e.tag||3===e.tag||4===e.tag}function ii(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||oi(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ci(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=er));else if(4!==a&&null!==(e=e.child))for(ci(e,t,n),e=e.sibling;null!==e;)ci(e,t,n),e=e.sibling}function di(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&null!==(e=e.child))for(di(e,t,n),e=e.sibling;null!==e;)di(e,t,n),e=e.sibling}var ui=null,mi=!1;function pi(e,t,n){for(n=n.child;null!==n;)hi(e,t,n),n=n.sibling}function hi(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(rt,n)}catch(o){}switch(n.tag){case 5:Yo||ei(n,t);case 6:var a=ui,r=mi;ui=null,pi(e,t,n),mi=r,null!==(ui=a)&&(mi?(e=ui,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ui.removeChild(n.stateNode));break;case 18:null!==ui&&(mi?(e=ui,n=n.stateNode,8===e.nodeType?cr(e.parentNode,n):1===e.nodeType&&cr(e,n),Bt(e)):cr(ui,n.stateNode));break;case 4:a=ui,r=mi,ui=n.stateNode.containerInfo,mi=!0,pi(e,t,n),ui=a,mi=r;break;case 0:case 11:case 14:case 15:if(!Yo&&(null!==(a=n.updateQueue)&&null!==(a=a.lastEffect))){r=a=a.next;do{var s=r,l=s.destroy;s=s.tag,void 0!==l&&(0!==(2&s)||0!==(4&s))&&ti(n,t,l),r=r.next}while(r!==a)}pi(e,t,n);break;case 1:if(!Yo&&(ei(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(o){Sc(n,t,o)}pi(e,t,n);break;case 21:pi(e,t,n);break;case 22:1&n.mode?(Yo=(a=Yo)||null!==n.memoizedState,pi(e,t,n),Yo=a):pi(e,t,n);break;default:pi(e,t,n)}}function fi(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xo),t.forEach(function(t){var a=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))})}}function vi(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var r=n[a];try{var l=e,o=t,i=o;e:for(;null!==i;){switch(i.tag){case 5:ui=i.stateNode,mi=!1;break e;case 3:case 4:ui=i.stateNode.containerInfo,mi=!0;break e}i=i.return}if(null===ui)throw Error(s(160));hi(l,o,r),ui=null,mi=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(d){Sc(r,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gi(t,e),t=t.sibling}function gi(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vi(t,e),yi(e),4&a){try{ai(3,e,e.return),ri(3,e)}catch(v){Sc(e,e.return,v)}try{ai(5,e,e.return)}catch(v){Sc(e,e.return,v)}}break;case 1:vi(t,e),yi(e),512&a&&null!==n&&ei(n,n.return);break;case 5:if(vi(t,e),yi(e),512&a&&null!==n&&ei(n,n.return),32&e.flags){var r=e.stateNode;try{me(r,"")}catch(v){Sc(e,e.return,v)}}if(4&a&&null!=(r=e.stateNode)){var l=e.memoizedProps,o=null!==n?n.memoizedProps:l,i=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===i&&"radio"===l.type&&null!=l.name&&Y(r,l),xe(i,o);var d=xe(i,l);for(o=0;o<c.length;o+=2){var u=c[o],m=c[o+1];"style"===u?ve(r,m):"dangerouslySetInnerHTML"===u?ue(r,m):"children"===u?me(r,m):x(r,u,m,d)}switch(i){case"input":X(r,l);break;case"textarea":se(r,l);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!l.multiple;var h=l.value;null!=h?ne(r,!!l.multiple,h,!1):p!==!!l.multiple&&(null!=l.defaultValue?ne(r,!!l.multiple,l.defaultValue,!0):ne(r,!!l.multiple,l.multiple?[]:"",!1))}r[hr]=l}catch(v){Sc(e,e.return,v)}}break;case 6:if(vi(t,e),yi(e),4&a){if(null===e.stateNode)throw Error(s(162));r=e.stateNode,l=e.memoizedProps;try{r.nodeValue=l}catch(v){Sc(e,e.return,v)}}break;case 3:if(vi(t,e),yi(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(v){Sc(e,e.return,v)}break;case 4:default:vi(t,e),yi(e);break;case 13:vi(t,e),yi(e),8192&(r=e.child).flags&&(l=null!==r.memoizedState,r.stateNode.isHidden=l,!l||null!==r.alternate&&null!==r.alternate.memoizedState||(Bi=Ye())),4&a&&fi(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Yo=(d=Yo)||u,vi(t,e),Yo=d):vi(t,e),yi(e),8192&a){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Zo=e,u=e.child;null!==u;){for(m=Zo=u;null!==Zo;){switch(h=(p=Zo).child,p.tag){case 0:case 11:case 14:case 15:ai(4,p,p.return);break;case 1:ei(p,p.return);var f=p.stateNode;if("function"===typeof f.componentWillUnmount){a=p,n=p.return;try{t=a,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(v){Sc(a,n,v)}}break;case 5:ei(p,p.return);break;case 22:if(null!==p.memoizedState){Ni(m);continue}}null!==h?(h.return=p,Zo=h):Ni(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{r=m.stateNode,d?"function"===typeof(l=r.style).setProperty?l.setProperty("display","none","important"):l.display="none":(i=m.stateNode,o=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,i.style.display=fe("display",o))}catch(v){Sc(e,e.return,v)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(v){Sc(e,e.return,v)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:vi(t,e),yi(e),4&a&&fi(e);case 21:}}function yi(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(oi(n)){var a=n;break e}n=n.return}throw Error(s(160))}switch(a.tag){case 5:var r=a.stateNode;32&a.flags&&(me(r,""),a.flags&=-33),di(e,ii(e),r);break;case 3:case 4:var l=a.stateNode.containerInfo;ci(e,ii(e),l);break;default:throw Error(s(161))}}catch(o){Sc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xi(e,t,n){Zo=e,bi(e,t,n)}function bi(e,t,n){for(var a=0!==(1&e.mode);null!==Zo;){var r=Zo,s=r.child;if(22===r.tag&&a){var l=null!==r.memoizedState||Go;if(!l){var o=r.alternate,i=null!==o&&null!==o.memoizedState||Yo;o=Go;var c=Yo;if(Go=l,(Yo=i)&&!c)for(Zo=r;null!==Zo;)i=(l=Zo).child,22===l.tag&&null!==l.memoizedState?wi(r):null!==i?(i.return=l,Zo=i):wi(r);for(;null!==s;)Zo=s,bi(s,t,n),s=s.sibling;Zo=r,Go=o,Yo=c}ji(e)}else 0!==(8772&r.subtreeFlags)&&null!==s?(s.return=r,Zo=s):ji(e)}}function ji(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yo||ri(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!Yo)if(null===n)a.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:no(t.type,n.memoizedProps);a.componentDidUpdate(r,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;null!==l&&Hs(t,l,a);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hs(t,o,n)}break;case 5:var i=t.stateNode;if(null===n&&4&t.flags){n=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&Bt(m)}}}break;default:throw Error(s(163))}Yo||512&t.flags&&si(t)}catch(p){Sc(t,t.return,p)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function Ni(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function wi(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ri(4,t)}catch(i){Sc(t,n,i)}break;case 1:var a=t.stateNode;if("function"===typeof a.componentDidMount){var r=t.return;try{a.componentDidMount()}catch(i){Sc(t,r,i)}}var s=t.return;try{si(t)}catch(i){Sc(t,s,i)}break;case 5:var l=t.return;try{si(t)}catch(i){Sc(t,l,i)}}}catch(i){Sc(t,t.return,i)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var ki,Si=Math.ceil,Ei=b.ReactCurrentDispatcher,Ci=b.ReactCurrentOwner,_i=b.ReactCurrentBatchConfig,Ti=0,Di=null,Ai=null,Ri=0,Pi=0,Li=Sr(0),Oi=0,Mi=null,Ii=0,zi=0,Fi=0,Vi=null,Ui=null,Bi=0,qi=1/0,Hi=null,Wi=!1,$i=null,Ji=null,Ki=!1,Qi=null,Gi=0,Yi=0,Xi=null,Zi=-1,ec=0;function tc(){return 0!==(6&Ti)?Ye():-1!==Zi?Zi:Zi=Ye()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Ti)&&0!==Ri?Ri&-Ri:null!==vs.transition?(0===ec&&(ec=ft()),ec):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function ac(e,t,n,a){if(50<Yi)throw Yi=0,Xi=null,Error(s(185));gt(e,n,a),0!==(2&Ti)&&e===Di||(e===Di&&(0===(2&Ti)&&(zi|=n),4===Oi&&ic(e,Ri)),rc(e,a),1===n&&0===Ti&&0===(1&t.mode)&&(qi=Ye()+500,Vr&&qr()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-lt(s),o=1<<l,i=r[l];-1===i?0!==(o&n)&&0===(o&a)||(r[l]=pt(o,t)):i<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var a=mt(e,e===Di?Ri:0);if(0===a)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Vr=!0,Br(e)}(cc.bind(null,e)):Br(cc.bind(null,e)),or(function(){0===(6&Ti)&&qr()}),n=null;else{switch(bt(a)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=at}n=Dc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zi=-1,ec=0,0!==(6&Ti))throw Error(s(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var a=mt(e,e===Di?Ri:0);if(0===a)return null;if(0!==(30&a)||0!==(a&e.expiredLanes)||t)t=gc(e,a);else{t=a;var r=Ti;Ti|=2;var l=fc();for(Di===e&&Ri===t||(Hi=null,qi=Ye()+500,pc(e,t));;)try{xc();break}catch(i){hc(e,i)}Cs(),Ei.current=l,Ti=r,null!==Ai?t=0:(Di=null,Ri=0,t=Oi)}if(0!==t){if(2===t&&(0!==(r=ht(e))&&(a=r,t=lc(e,r))),1===t)throw n=Mi,pc(e,0),ic(e,a),rc(e,Ye()),n;if(6===t)ic(e,a);else{if(r=e.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var a=0;a<n.length;a++){var r=n[a],s=r.getSnapshot;r=r.value;try{if(!oa(s(),r))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=gc(e,a))&&(0!==(l=ht(e))&&(a=l,t=lc(e,l))),1===t))throw n=Mi,pc(e,0),ic(e,a),rc(e,Ye()),n;switch(e.finishedWork=r,e.finishedLanes=a,t){case 0:case 1:throw Error(s(345));case 2:case 5:Nc(e,Ui,Hi);break;case 3:if(ic(e,a),(130023424&a)===a&&10<(t=Bi+500-Ye())){if(0!==mt(e,0))break;if(((r=e.suspendedLanes)&a)!==a){tc(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=rr(Nc.bind(null,e,Ui,Hi),t);break}Nc(e,Ui,Hi);break;case 4:if(ic(e,a),(4194240&a)===a)break;for(t=e.eventTimes,r=-1;0<a;){var o=31-lt(a);l=1<<o,(o=t[o])>r&&(r=o),a&=~l}if(a=r,10<(a=(120>(a=Ye()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Si(a/1960))-a)){e.timeoutHandle=rr(Nc.bind(null,e,Ui,Hi),a);break}Nc(e,Ui,Hi);break;default:throw Error(s(329))}}}return rc(e,Ye()),e.callbackNode===n?sc.bind(null,e):null}function lc(e,t){var n=Vi;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ui,Ui=n,null!==t&&oc(t)),e}function oc(e){null===Ui?Ui=e:Ui.push.apply(Ui,e)}function ic(e,t){for(t&=~Fi,t&=~zi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-lt(t),a=1<<n;e[n]=-1,t&=~a}}function cc(e){if(0!==(6&Ti))throw Error(s(327));wc();var t=mt(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var a=ht(e);0!==a&&(t=a,n=lc(e,a))}if(1===n)throw n=Mi,pc(e,0),ic(e,t),rc(e,Ye()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nc(e,Ui,Hi),rc(e,Ye()),null}function dc(e,t){var n=Ti;Ti|=1;try{return e(t)}finally{0===(Ti=n)&&(qi=Ye()+500,Vr&&qr())}}function uc(e){null!==Qi&&0===Qi.tag&&0===(6&Ti)&&wc();var t=Ti;Ti|=1;var n=_i.transition,a=xt;try{if(_i.transition=null,xt=1,e)return e()}finally{xt=a,_i.transition=n,0===(6&(Ti=t))&&qr()}}function mc(){Pi=Li.current,Er(Li)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,sr(n)),null!==Ai)for(n=Ai.return;null!==n;){var a=n;switch(ns(a),a.tag){case 1:null!==(a=a.type.childContextTypes)&&void 0!==a&&Lr();break;case 3:Ys(),Er(Dr),Er(Tr),al();break;case 5:Zs(a);break;case 4:Ys();break;case 13:case 19:Er(el);break;case 10:_s(a.type._context);break;case 22:case 23:mc()}n=n.return}if(Di=e,Ai=e=Lc(e.current,null),Ri=Pi=t,Oi=0,Mi=null,Fi=zi=Ii=0,Ui=Vi=null,null!==Rs){for(t=0;t<Rs.length;t++)if(null!==(a=(n=Rs[t]).interleaved)){n.interleaved=null;var r=a.next,s=n.pending;if(null!==s){var l=s.next;s.next=r,a.next=l}n.pending=a}Rs=null}return e}function hc(e,t){for(;;){var n=Ai;try{if(Cs(),rl.current=Xl,dl){for(var a=ol.memoizedState;null!==a;){var r=a.queue;null!==r&&(r.pending=null),a=a.next}dl=!1}if(ll=0,cl=il=ol=null,ul=!1,ml=0,Ci.current=null,null===n||null===n.return){Oi=1,Mi=t,Ai=null;break}e:{var l=e,o=n.return,i=n,c=t;if(t=Ri,i.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=i,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=go(o);if(null!==h){h.flags&=-257,yo(h,o,i,0,t),1&h.mode&&vo(l,d,t),c=d;var f=(t=h).updateQueue;if(null===f){var v=new Set;v.add(c),t.updateQueue=v}else f.add(c);break e}if(0===(1&t)){vo(l,d,t),vc();break e}c=Error(s(426))}else if(ss&&1&i.mode){var g=go(o);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),yo(g,o,i,0,t),fs(co(c,i));break e}}l=c=co(c,i),4!==Oi&&(Oi=2),null===Vi?Vi=[l]:Vi.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,Bs(l,ho(0,c,t));break e;case 1:i=c;var y=l.type,x=l.stateNode;if(0===(128&l.flags)&&("function"===typeof y.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Ji||!Ji.has(x)))){l.flags|=65536,t&=-t,l.lanes|=t,Bs(l,fo(l,i,t));break e}}l=l.return}while(null!==l)}jc(n)}catch(b){t=b,Ai===n&&null!==n&&(Ai=n=n.return);continue}break}}function fc(){var e=Ei.current;return Ei.current=Xl,null===e?Xl:e}function vc(){0!==Oi&&3!==Oi&&2!==Oi||(Oi=4),null===Di||0===(268435455&Ii)&&0===(268435455&zi)||ic(Di,Ri)}function gc(e,t){var n=Ti;Ti|=2;var a=fc();for(Di===e&&Ri===t||(Hi=null,pc(e,t));;)try{yc();break}catch(r){hc(e,r)}if(Cs(),Ti=n,Ei.current=a,null!==Ai)throw Error(s(261));return Di=null,Ri=0,Oi}function yc(){for(;null!==Ai;)bc(Ai)}function xc(){for(;null!==Ai&&!Qe();)bc(Ai)}function bc(e){var t=ki(e.alternate,e,Pi);e.memoizedProps=e.pendingProps,null===t?jc(e):Ai=t,Ci.current=null}function jc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ko(n,t,Pi)))return void(Ai=n)}else{if(null!==(n=Qo(n,t)))return n.flags&=32767,void(Ai=n);if(null===e)return Oi=6,void(Ai=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ai=t);Ai=t=e}while(null!==t);0===Oi&&(Oi=5)}function Nc(e,t,n){var a=xt,r=_i.transition;try{_i.transition=null,xt=1,function(e,t,n,a){do{wc()}while(null!==Qi);if(0!==(6&Ti))throw Error(s(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-lt(n),s=1<<r;t[r]=0,a[r]=-1,e[r]=-1,n&=~s}}(e,l),e===Di&&(Ai=Di=null,Ri=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ki||(Ki=!0,Dc(tt,function(){return wc(),null})),l=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||l){l=_i.transition,_i.transition=null;var o=xt;xt=1;var i=Ti;Ti|=4,Ci.current=null,function(e,t){if(tr=Ht,pa(e=ma())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var r=a.anchorOffset,l=a.focusNode;a=a.focusOffset;try{n.nodeType,l.nodeType}catch(Ta){n=null;break e}var o=0,i=-1,c=-1,d=0,u=0,m=e,p=null;t:for(;;){for(var h;m!==n||0!==r&&3!==m.nodeType||(i=o+r),m!==l||0!==a&&3!==m.nodeType||(c=o+a),3===m.nodeType&&(o+=m.nodeValue.length),null!==(h=m.firstChild);)p=m,m=h;for(;;){if(m===e)break t;if(p===n&&++d===r&&(i=o),p===l&&++u===a&&(c=o),null!==(h=m.nextSibling))break;p=(m=p).parentNode}m=h}n=-1===i||-1===c?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nr={focusedElem:e,selectionRange:n},Ht=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var v=f.memoizedProps,g=f.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:no(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(Ta){Sc(t,t.return,Ta)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}f=ni,ni=!1}(e,n),gi(n,e),ha(nr),Ht=!!tr,nr=tr=null,e.current=n,xi(n,e,r),Ge(),Ti=i,xt=o,_i.transition=l}else e.current=n;if(Ki&&(Ki=!1,Qi=e,Gi=r),l=e.pendingLanes,0===l&&(Ji=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(a=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],a(r.value,{componentStack:r.stack,digest:r.digest});if(Wi)throw Wi=!1,e=$i,$i=null,e;0!==(1&Gi)&&0!==e.tag&&wc(),l=e.pendingLanes,0!==(1&l)?e===Xi?Yi++:(Yi=0,Xi=e):Yi=0,qr()}(e,t,n,a)}finally{_i.transition=r,xt=a}return null}function wc(){if(null!==Qi){var e=bt(Gi),t=_i.transition,n=xt;try{if(_i.transition=null,xt=16>e?16:e,null===Qi)var a=!1;else{if(e=Qi,Qi=null,Gi=0,0!==(6&Ti))throw Error(s(331));var r=Ti;for(Ti|=4,Zo=e.current;null!==Zo;){var l=Zo,o=l.child;if(0!==(16&Zo.flags)){var i=l.deletions;if(null!==i){for(var c=0;c<i.length;c++){var d=i[c];for(Zo=d;null!==Zo;){var u=Zo;switch(u.tag){case 0:case 11:case 15:ai(8,u,l)}var m=u.child;if(null!==m)m.return=u,Zo=m;else for(;null!==Zo;){var p=(u=Zo).sibling,h=u.return;if(li(u),u===d){Zo=null;break}if(null!==p){p.return=h,Zo=p;break}Zo=h}}}var f=l.alternate;if(null!==f){var v=f.child;if(null!==v){f.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}Zo=l}}if(0!==(2064&l.subtreeFlags)&&null!==o)o.return=l,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(l=Zo).flags))switch(l.tag){case 0:case 11:case 15:ai(9,l,l.return)}var y=l.sibling;if(null!==y){y.return=l.return,Zo=y;break e}Zo=l.return}}var x=e.current;for(Zo=x;null!==Zo;){var b=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Zo=b;else e:for(o=x;null!==Zo;){if(0!==(2048&(i=Zo).flags))try{switch(i.tag){case 0:case 11:case 15:ri(9,i)}}catch(N){Sc(i,i.return,N)}if(i===o){Zo=null;break e}var j=i.sibling;if(null!==j){j.return=i.return,Zo=j;break e}Zo=i.return}}if(Ti=r,qr(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(rt,e)}catch(N){}a=!0}return a}finally{xt=n,_i.transition=t}}return!1}function kc(e,t,n){e=Vs(e,t=ho(0,t=co(n,t),1),1),t=tc(),null!==e&&(gt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Ji||!Ji.has(a))){t=Vs(t,e=fo(t,e=co(n,e),1),1),e=tc(),null!==t&&(gt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Di===e&&(Ri&n)===n&&(4===Oi||3===Oi&&(130023424&Ri)===Ri&&500>Ye()-Bi?pc(e,0):Fi|=n),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=tc();null!==(e=Os(e,t))&&(gt(e,t,n),rc(e,n))}function _c(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(s(314))}null!==a&&a.delete(t),Cc(e,n)}function Dc(e,t){return Je(e,t)}function Ac(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,a){return new Ac(e,t,n,a)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,a,r,l){var o=2;if(a=e,"function"===typeof e)Pc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case w:return Mc(n.children,r,l,t);case k:o=8,r|=8;break;case S:return(e=Rc(12,n,t,2|r)).elementType=S,e.lanes=l,e;case T:return(e=Rc(13,n,t,r)).elementType=T,e.lanes=l,e;case D:return(e=Rc(19,n,t,r)).elementType=D,e.lanes=l,e;case P:return Ic(n,r,l,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:o=10;break e;case C:o=9;break e;case _:o=11;break e;case A:o=14;break e;case R:o=16,a=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Rc(o,n,t,r)).elementType=e,t.type=a,t.lanes=l,t}function Mc(e,t,n,a){return(e=Rc(7,e,a,t)).lanes=n,e}function Ic(e,t,n,a){return(e=Rc(22,e,a,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function zc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,a,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=a,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,a,r,s,l,o,i){return e=new Vc(e,t,n,o,i),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Rc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Is(s),e}function Bc(e){if(!e)return _r;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Pr(n))return Mr(e,n,t)}return t}function qc(e,t,n,a,r,s,l,o,i){return(e=Uc(n,a,!0,e,0,s,0,o,i)).context=Bc(null),n=e.current,(s=Fs(a=tc(),r=nc(n))).callback=void 0!==t&&null!==t?t:null,Vs(n,s,r),e.current.lanes=r,gt(e,r,a),rc(e,a),e}function Hc(e,t,n,a){var r=t.current,s=tc(),l=nc(r);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,l)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=Vs(r,t,l))&&(ac(e,r,l,s),Us(e,r,l)),l}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $c(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Jc(e,t){$c(e,t),(e=e.alternate)&&$c(e,t)}ki=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Dr.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Do(t),hs();break;case 5:Xs(t);break;case 1:Pr(t.type)&&Ir(t);break;case 4:Gs(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,r=t.memoizedProps.value;Cr(ws,a._currentValue),a._currentValue=r;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(Cr(el,1&el.current),t.flags|=128,null):0!==(n&t.child.childLanes)?zo(e,t,n):(Cr(el,1&el.current),null!==(e=Wo(e,t,n))?e.sibling:null);Cr(el,1&el.current);break;case 19:if(a=0!==(n&t.childLanes),0!==(128&e.flags)){if(a)return qo(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Cr(el,el.current),a)break;return null;case 22:case 23:return t.lanes=0,So(e,t,n)}return Wo(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,ss&&0!==(1048576&t.flags)&&es(t,Jr,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Ho(e,t),e=t.pendingProps;var r=Rr(t,Tr.current);Ds(t,n),r=vl(null,t,a,e,r,n);var l=gl();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pr(a)?(l=!0,Ir(t)):l=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Is(t),r.updater=ro,t.stateNode=r,r._reactInternals=t,io(t,a,e,n),t=To(null,t,a,!0,l,n)):(t.tag=0,ss&&l&&ts(t),jo(null,t,r,n),t=t.child),t;case 16:a=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,a=(r=a._init)(a._payload),t.type=a,r=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===A)return 14}return 2}(a),e=no(a,e),r){case 0:t=Co(null,t,a,e,n);break e;case 1:t=_o(null,t,a,e,n);break e;case 11:t=No(null,t,a,e,n);break e;case 14:t=wo(null,t,a,no(a.type,e),n);break e}throw Error(s(306,a,""))}return t;case 0:return a=t.type,r=t.pendingProps,Co(e,t,a,r=t.elementType===a?r:no(a,r),n);case 1:return a=t.type,r=t.pendingProps,_o(e,t,a,r=t.elementType===a?r:no(a,r),n);case 3:e:{if(Do(t),null===e)throw Error(s(387));a=t.pendingProps,r=(l=t.memoizedState).element,zs(e,t),qs(t,a,null,n);var o=t.memoizedState;if(a=o.element,l.isDehydrated){if(l={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Ao(e,t,a,n,r=co(Error(s(423)),t));break e}if(a!==r){t=Ao(e,t,a,n,r=co(Error(s(424)),t));break e}for(rs=dr(t.stateNode.containerInfo.firstChild),as=t,ss=!0,ls=null,n=Ns(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hs(),a===r){t=Wo(e,t,n);break e}jo(e,t,a,n)}t=t.child}return t;case 5:return Xs(t),null===e&&ds(t),a=t.type,r=t.pendingProps,l=null!==e?e.memoizedProps:null,o=r.children,ar(a,r)?o=null:null!==l&&ar(a,l)&&(t.flags|=32),Eo(e,t),jo(e,t,o,n),t.child;case 6:return null===e&&ds(t),null;case 13:return zo(e,t,n);case 4:return Gs(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=js(t,null,a,n):jo(e,t,a,n),t.child;case 11:return a=t.type,r=t.pendingProps,No(e,t,a,r=t.elementType===a?r:no(a,r),n);case 7:return jo(e,t,t.pendingProps,n),t.child;case 8:case 12:return jo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,r=t.pendingProps,l=t.memoizedProps,o=r.value,Cr(ws,a._currentValue),a._currentValue=o,null!==l)if(oa(l.value,o)){if(l.children===r.children&&!Dr.current){t=Wo(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var i=l.dependencies;if(null!==i){o=l.child;for(var c=i.firstContext;null!==c;){if(c.context===a){if(1===l.tag){(c=Fs(-1,n&-n)).tag=2;var d=l.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),Ts(l.return,n,t),i.lanes|=n;break}c=c.next}}else if(10===l.tag)o=l.type===t.type?null:l.child;else if(18===l.tag){if(null===(o=l.return))throw Error(s(341));o.lanes|=n,null!==(i=o.alternate)&&(i.lanes|=n),Ts(o,n,t),o=l.sibling}else o=l.child;if(null!==o)o.return=l;else for(o=l;null!==o;){if(o===t){o=null;break}if(null!==(l=o.sibling)){l.return=o.return,o=l;break}o=o.return}l=o}jo(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,a=t.pendingProps.children,Ds(t,n),a=a(r=As(r)),t.flags|=1,jo(e,t,a,n),t.child;case 14:return r=no(a=t.type,t.pendingProps),wo(e,t,a,r=no(a.type,r),n);case 15:return ko(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,r=t.pendingProps,r=t.elementType===a?r:no(a,r),Ho(e,t),t.tag=1,Pr(a)?(e=!0,Ir(t)):e=!1,Ds(t,n),lo(t,a,r),io(t,a,r,n),To(null,t,a,!0,e,n);case 19:return qo(e,t,n);case 22:return So(e,t,n)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function ed(e,t,n,a,r){var s=n._reactRootContainer;if(s){var l=s;if("function"===typeof r){var o=r;r=function(){var e=Wc(l);o.call(e)}}Hc(t,l,e,r)}else l=function(e,t,n,a,r){if(r){if("function"===typeof a){var s=a;a=function(){var e=Wc(l);s.call(e)}}var l=qc(t,a,e,0,null,!1,0,"",Zc);return e._reactRootContainer=l,e[fr]=l.current,qa(8===e.nodeType?e.parentNode:e),uc(),l}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof a){var o=a;a=function(){var e=Wc(i);o.call(e)}}var i=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=i,e[fr]=i.current,qa(8===e.nodeType?e.parentNode:e),uc(function(){Hc(t,i,n,a)}),i}(n,t,e,r,a);return Wc(l)}Gc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hc(e,t,null,null)},Gc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Hc(null,e,null,null)}),t[fr]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&It(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Ye()),0===(6&Ti)&&(qi=Ye()+500,qr()))}break;case 13:uc(function(){var t=Os(e,1);if(null!==t){var n=tc();ac(t,e,1,n)}}),Jc(e,1)}},Nt=function(e){if(13===e.tag){var t=Os(e,134217728);if(null!==t)ac(t,e,134217728,tc());Jc(e,134217728)}},wt=function(e){if(13===e.tag){var t=nc(e),n=Os(e,t);if(null!==n)ac(n,e,t,tc());Jc(e,t)}},kt=function(){return xt},St=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},Ne=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=Nr(a);if(!r)throw Error(s(90));J(a),X(a,r)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},_e=dc,Te=uc;var td={usingClientEntryPoint:!1,Events:[br,jr,Nr,Ee,Ce,dc]},nd={findFiberByHostInstance:xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ad={bundleType:nd.bundleType,version:nd.version,rendererPackageName:nd.rendererPackageName,rendererConfig:nd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{rt=rd.inject(ad),st=rd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=td,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(s(200));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(s(299));var n=!1,a="",r=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,a,r),e[fr]=t.current,qa(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(s(200));return ed(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(s(405));var a=null!=n&&n.hydratedSources||null,r=!1,l="",o=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(l=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,r,0,l,o),e[fr]=t.current,qa(e),a)for(e=0;e<a.length;e++)r=(r=(n=a[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Gc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(s(200));return ed(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc(function(){ed(null,null,e,!1,function(){e._reactRootContainer=null,e[fr]=null})}),!0)},t.unstable_batchedUpdates=dc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Xc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return ed(e,t,n,!1,a)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(a,r){if(1&r&&(a=this(a)),8&r)return a;if("object"===typeof a&&a){if(4&r&&a.__esModule)return a;if(16&r&&"function"===typeof a.then)return a}var s=Object.create(null);n.r(s);var l={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&a;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>l[e]=()=>a[e]);return l.default=()=>a,n.d(s,l),s}})(),n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};n.r(a),n.d(a,{hasBrowserEnv:()=>Jt,hasStandardBrowserEnv:()=>Qt,hasStandardBrowserWebWorkerEnv:()=>Gt,navigator:()=>Kt,origin:()=>Yt});var r,s=n(43),l=n.t(s,2),o=n(391);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const c="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function m(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,a){return void 0===n&&(n=null),i({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:n,key:t&&t.key||a||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function v(e,t,n,a){void 0===a&&(a={});let{window:s=document.defaultView,v5Compat:l=!1}=a,o=s.history,u=r.Pop,f=null,v=g();function g(){return(o.state||{idx:null}).idx}function y(){u=r.Pop;let e=g(),t=null==e?null:e-v;v=e,f&&f({action:u,location:b.location,delta:t})}function x(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:h(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==v&&(v=0,o.replaceState(i({},o.state,{idx:v}),""));let b={get action(){return u},get location(){return e(s,o)},listen(e){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(c,y),f=e,()=>{s.removeEventListener(c,y),f=null}},createHref:e=>t(s,e),createURL:x,encodeLocation(e){let t=x(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u=r.Push;let a=p(b.location,e,t);n&&n(a,e),v=g()+1;let i=m(a,v),c=b.createHref(a);try{o.pushState(i,"",c)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;s.location.assign(c)}l&&f&&f({action:u,location:b.location,delta:1})},replace:function(e,t){u=r.Replace;let a=p(b.location,e,t);n&&n(a,e),v=g();let s=m(a,v),i=b.createHref(a);o.replaceState(s,"",i),l&&f&&f({action:u,location:b.location,delta:0})},go:e=>o.go(e)};return b}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){return void 0===n&&(n="/"),x(e,t,n,!1)}function x(e,t,n,a){let r=P(("string"===typeof t?f(t):t).pathname||"/",n);if(null==r)return null;let s=b(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let l=null;for(let o=0;null==l&&o<s.length;++o){let e=R(r);l=D(s[o],e,a)}return l}function b(e,t,n,a){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===a&&(a="");let r=(e,r,s)=>{let l={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};l.relativePath.startsWith("/")&&(d(l.relativePath.startsWith(a),'Absolute route path "'+l.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),l.relativePath=l.relativePath.slice(a.length));let o=z([a,l.relativePath]),i=n.concat(l);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),b(e.children,t,i,o)),(null!=e.path||e.index)&&t.push({path:o,score:T(o,e.index),routesMeta:i})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let a of j(e.path))r(e,t,a);else r(e,t)}),t}function j(e){let t=e.split("/");if(0===t.length)return[];let[n,...a]=t,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===a.length)return r?[s,""]:[s];let l=j(a.join("/")),o=[];return o.push(...l.map(e=>""===e?s:[s,e].join("/"))),r&&o.push(...l),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const N=/^:[\w-]+$/,w=3,k=2,S=1,E=10,C=-2,_=e=>"*"===e;function T(e,t){let n=e.split("/"),a=n.length;return n.some(_)&&(a+=C),t&&(a+=k),n.filter(e=>!_(e)).reduce((e,t)=>e+(N.test(t)?w:""===t?S:E),a)}function D(e,t,n){void 0===n&&(n=!1);let{routesMeta:a}=e,r={},s="/",l=[];for(let o=0;o<a.length;++o){let e=a[o],i=o===a.length-1,c="/"===s?t:t.slice(s.length)||"/",d=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:i},c),u=e.route;if(!d&&i&&n&&!a[a.length-1].route.index&&(d=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(r,d.params),l.push({params:r,pathname:z([s,d.pathname]),pathnameBase:F(z([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=z([s,d.pathnameBase]))}return l}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let a=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(a.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(a.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let s=new RegExp(r,t?void 0:"i");return[s,a]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let s=r[0],l=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:a.reduce((e,t,n)=>{let{paramName:a,isOptional:r}=t;if("*"===a){let e=o[n]||"";l=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const i=o[n];return e[a]=r&&!i?void 0:(i||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:l,pattern:e}}function R(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&"/"!==a?null:e.slice(n)||"/"}function L(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function M(e,t){let n=O(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function I(e,t,n,a){let r;void 0===a&&(a=!1),"string"===typeof e?r=f(e):(r=i({},e),d(!r.pathname||!r.pathname.includes("?"),L("?","pathname","search",r)),d(!r.pathname||!r.pathname.includes("#"),L("#","pathname","hash",r)),d(!r.search||!r.search.includes("#"),L("#","search","hash",r)));let s,l=""===e||""===r.pathname,o=l?"/":r.pathname;if(null==o)s=n;else{let e=t.length-1;if(!a&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:a="",hash:r=""}="string"===typeof e?f(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:V(a),hash:U(r)}}(r,s),u=o&&"/"!==o&&o.endsWith("/"),m=(l||"."===o)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!m||(c.pathname+="/"),c}const z=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],H=(new Set(q),["get",...q]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},W.apply(this,arguments)}const $=s.createContext(null);const J=s.createContext(null);const K=s.createContext(null);const Q=s.createContext(null);const G=s.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=s.createContext(null);function X(){return null!=s.useContext(Q)}function Z(){return X()||d(!1),s.useContext(Q).location}function ee(e){s.useContext(K).static||s.useLayoutEffect(e)}function te(){let{isDataRoute:e}=s.useContext(G);return e?function(){let{router:e}=ue(ce.UseNavigateStable),t=pe(de.UseNavigateStable),n=s.useRef(!1);return ee(()=>{n.current=!0}),s.useCallback(function(a,r){void 0===r&&(r={}),n.current&&("number"===typeof a?e.navigate(a):e.navigate(a,W({fromRouteId:t},r)))},[e,t])}():function(){X()||d(!1);let e=s.useContext($),{basename:t,future:n,navigator:a}=s.useContext(K),{matches:r}=s.useContext(G),{pathname:l}=Z(),o=JSON.stringify(M(r,n.v7_relativeSplatPath)),i=s.useRef(!1);return ee(()=>{i.current=!0}),s.useCallback(function(n,r){if(void 0===r&&(r={}),!i.current)return;if("number"===typeof n)return void a.go(n);let s=I(n,JSON.parse(o),l,"path"===r.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:z([t,s.pathname])),(r.replace?a.replace:a.push)(s,r.state,r)},[t,a,o,l,e])}()}function ne(e,t){let{relative:n}=void 0===t?{}:t,{future:a}=s.useContext(K),{matches:r}=s.useContext(G),{pathname:l}=Z(),o=JSON.stringify(M(r,a.v7_relativeSplatPath));return s.useMemo(()=>I(e,JSON.parse(o),l,"path"===n),[e,o,l,n])}function ae(e,t,n,a){X()||d(!1);let{navigator:l}=s.useContext(K),{matches:o}=s.useContext(G),i=o[o.length-1],c=i?i.params:{},u=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;let m,p=Z();if(t){var h;let e="string"===typeof t?f(t):t;"/"===u||(null==(h=e.pathname)?void 0:h.startsWith(u))||d(!1),m=e}else m=p;let v=m.pathname||"/",g=v;if("/"!==u){let e=u.replace(/^\//,"").split("/");g="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=y(e,{pathname:g});let b=ie(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:z([u,l.encodeLocation?l.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:z([u,l.encodeLocation?l.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,a);return t&&b?s.createElement(Q.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:r.Pop}},b):b}function re(){let e=function(){var e;let t=s.useContext(Y),n=me(de.UseRouteError),a=pe(de.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[a]}(),t=B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:a};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),n?s.createElement("pre",{style:r},n):null,null)}const se=s.createElement(re,null);class le extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement(G.Provider,{value:this.props.routeContext},s.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:t,match:n,children:a}=e,r=s.useContext($);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),s.createElement(G.Provider,{value:t},a)}function ie(e,t,n,a){var r;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===a&&(a=null),null==e){var l;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(l=a)&&l.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,i=null==(r=n)?void 0:r.errors;if(null!=i){let e=o.findIndex(e=>e.route.id&&void 0!==(null==i?void 0:i[e.route.id]));e>=0||d(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(n&&a&&a.v7_partialHydration)for(let s=0;s<o.length;s++){let e=o[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=s),e.route.id){let{loaderData:t,errors:a}=n,r=e.route.loader&&void 0===t[e.route.id]&&(!a||void 0===a[e.route.id]);if(e.route.lazy||r){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,a,r)=>{let l,d=!1,m=null,p=null;var h;n&&(l=i&&a.route.id?i[a.route.id]:void 0,m=a.route.errorElement||se,c&&(u<0&&0===r?(h="route-fallback",!1||he[h]||(he[h]=!0),d=!0,p=null):u===r&&(d=!0,p=a.route.hydrateFallbackElement||null)));let f=t.concat(o.slice(0,r+1)),v=()=>{let t;return t=l?m:d?p:a.route.Component?s.createElement(a.route.Component,null):a.route.element?a.route.element:e,s.createElement(oe,{match:a,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(a.route.ErrorBoundary||a.route.errorElement||0===r)?s.createElement(le,{location:n.location,revalidation:n.revalidation,component:m,error:l,children:v(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):v()},null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function ue(e){let t=s.useContext($);return t||d(!1),t}function me(e){let t=s.useContext(J);return t||d(!1),t}function pe(e){let t=function(){let e=s.useContext(G);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const he={};function fe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}l.startTransition;function ve(e){let{to:t,replace:n,state:a,relative:r}=e;X()||d(!1);let{future:l,static:o}=s.useContext(K),{matches:i}=s.useContext(G),{pathname:c}=Z(),u=te(),m=I(t,M(i,l.v7_relativeSplatPath),c,"path"===r),p=JSON.stringify(m);return s.useEffect(()=>u(JSON.parse(p),{replace:n,state:a,relative:r}),[u,p,r,n,a]),null}function ge(e){d(!1)}function ye(e){let{basename:t="/",children:n=null,location:a,navigationType:l=r.Pop,navigator:o,static:i=!1,future:c}=e;X()&&d(!1);let u=t.replace(/^\/*/,"/"),m=s.useMemo(()=>({basename:u,navigator:o,static:i,future:W({v7_relativeSplatPath:!1},c)}),[u,c,o,i]);"string"===typeof a&&(a=f(a));let{pathname:p="/",search:h="",hash:v="",state:g=null,key:y="default"}=a,x=s.useMemo(()=>{let e=P(p,u);return null==e?null:{location:{pathname:e,search:h,hash:v,state:g,key:y},navigationType:l}},[u,p,h,v,g,y,l]);return null==x?null:s.createElement(K.Provider,{value:m},s.createElement(Q.Provider,{children:n,value:x}))}function xe(e){let{children:t,location:n}=e;return ae(be(t),n)}new Promise(()=>{});s.Component;function be(e,t){void 0===t&&(t=[]);let n=[];return s.Children.forEach(e,(e,a)=>{if(!s.isValidElement(e))return;let r=[...t,a];if(e.type===s.Fragment)return void n.push.apply(n,be(e.props.children,r));e.type!==ge&&d(!1),e.props.index&&e.props.children&&d(!1);let l={id:e.props.id||r.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(l.children=be(e.props.children,r)),n.push(l)}),n}var je=n(950),Ne=n.t(je,2);function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},we.apply(this,arguments)}function ke(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Se=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(yr){}new Map;const Ee=l.startTransition;Ne.flushSync,l.useId;function Ce(e){let{basename:t,children:n,future:a,window:r}=e,l=s.useRef();var o;null==l.current&&(l.current=(void 0===(o={window:r,v5Compat:!0})&&(o={}),v(function(e,t){let{pathname:n,search:a,hash:r}=e.location;return p("",{pathname:n,search:a,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:h(t)},null,o)));let i=l.current,[c,d]=s.useState({action:i.action,location:i.location}),{v7_startTransition:u}=a||{},m=s.useCallback(e=>{u&&Ee?Ee(()=>d(e)):d(e)},[d,u]);return s.useLayoutEffect(()=>i.listen(m),[i,m]),s.useEffect(()=>fe(a),[a]),s.createElement(ye,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:i,future:a})}const _e="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Te=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,De=s.forwardRef(function(e,t){let n,{onClick:a,relative:r,reloadDocument:l,replace:o,state:i,target:c,to:u,preventScrollReset:m,viewTransition:p}=e,f=ke(e,Se),{basename:v}=s.useContext(K),g=!1;if("string"===typeof u&&Te.test(u)&&(n=u,_e))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=P(t.pathname,v);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:g=!0}catch(yr){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;X()||d(!1);let{basename:a,navigator:r}=s.useContext(K),{hash:l,pathname:o,search:i}=ne(e,{relative:n}),c=o;return"/"!==a&&(c="/"===o?a:z([a,o])),r.createHref({pathname:c,search:i,hash:l})}(u,{relative:r}),x=function(e,t){let{target:n,replace:a,state:r,preventScrollReset:l,relative:o,viewTransition:i}=void 0===t?{}:t,c=te(),d=Z(),u=ne(e,{relative:o});return s.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==a?a:h(d)===h(u);c(e,{replace:n,state:r,preventScrollReset:l,relative:o,viewTransition:i})}},[d,c,u,a,r,n,e,l,o,i])}(u,{replace:o,state:i,target:c,preventScrollReset:m,relative:r,viewTransition:p});return s.createElement("a",we({},f,{href:n||y,onClick:g||l?a:function(e){a&&a(e),e.defaultPrevented||x(e)},ref:t,target:c}))});var Ae,Re;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ae||(Ae={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Re||(Re={}));var Pe=n(579);const Le=(0,s.createContext)(),Oe=()=>{const e=(0,s.useContext)(Le);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Me=e=>{let{children:t}=e;const[n,a]=(0,s.useState)(null),[r,l]=(0,s.useState)(!0);(0,s.useEffect)(()=>{const e=localStorage.getItem("userRole");if(console.log("\ud83d\udd10 V\xe9rification utilisateur sauvegard\xe9:",e),e)try{const t=JSON.parse(e);console.log("\u2705 Utilisateur r\xe9cup\xe9r\xe9:",t),a(t)}catch(t){console.error("\u274c Erreur lors du parsing des donn\xe9es utilisateur:",t),localStorage.removeItem("userRole")}else console.log("\u26a0\ufe0f Aucun utilisateur sauvegard\xe9");l(!1)},[]);const o={user:n,login:e=>{console.log("\ud83d\udd10 Connexion utilisateur:",e),a(e),localStorage.setItem("userRole",JSON.stringify(e)),console.log("\u2705 Utilisateur connect\xe9 et sauvegard\xe9")},logout:()=>{a(null),localStorage.removeItem("userRole")},hasPermission:e=>!!n&&(!!n.permissions.includes("all")||n.permissions.includes(e)),isAdmin:()=>n&&"admin"===n.role,isEmployee:()=>n&&"employee"===n.role,loading:r};return(0,Pe.jsx)(Le.Provider,{value:o,children:t})};function Ie(e,t){return function(){return e.apply(t,arguments)}}const{toString:ze}=Object.prototype,{getPrototypeOf:Fe}=Object,{iterator:Ve,toStringTag:Ue}=Symbol,Be=(qe=Object.create(null),e=>{const t=ze.call(e);return qe[t]||(qe[t]=t.slice(8,-1).toLowerCase())});var qe;const He=e=>(e=e.toLowerCase(),t=>Be(t)===e),We=e=>t=>typeof t===e,{isArray:$e}=Array,Je=We("undefined");function Ke(e){return null!==e&&!Je(e)&&null!==e.constructor&&!Je(e.constructor)&&Ye(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Qe=He("ArrayBuffer");const Ge=We("string"),Ye=We("function"),Xe=We("number"),Ze=e=>null!==e&&"object"===typeof e,et=e=>{if("object"!==Be(e))return!1;const t=Fe(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Ue in e)&&!(Ve in e)},tt=He("Date"),nt=He("File"),at=He("Blob"),rt=He("FileList"),st=He("URLSearchParams"),[lt,ot,it,ct]=["ReadableStream","Request","Response","Headers"].map(He);function dt(e,t){let n,a,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),$e(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Ke(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let l;for(n=0;n<s;n++)l=a[n],t.call(null,e[l],l,e)}}function ut(e,t){if(Ke(e))return null;t=t.toLowerCase();const n=Object.keys(e);let a,r=n.length;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const mt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,pt=e=>!Je(e)&&e!==mt;const ht=(ft="undefined"!==typeof Uint8Array&&Fe(Uint8Array),e=>ft&&e instanceof ft);var ft;const vt=He("HTMLFormElement"),gt=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),yt=He("RegExp"),xt=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),a={};dt(n,(n,r)=>{let s;!1!==(s=t(n,r,e))&&(a[r]=s||n)}),Object.defineProperties(e,a)};const bt=He("AsyncFunction"),jt=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),a=[],mt.addEventListener("message",e=>{let{source:t,data:r}=e;t===mt&&r===n&&a.length&&a.shift()()},!1),e=>{a.push(e),mt.postMessage(n,"*")}):e=>setTimeout(e);var n,a})("function"===typeof setImmediate,Ye(mt.postMessage)),Nt="undefined"!==typeof queueMicrotask?queueMicrotask.bind(mt):"undefined"!==typeof process&&process.nextTick||jt,wt={isArray:$e,isArrayBuffer:Qe,isBuffer:Ke,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Ye(e.append)&&("formdata"===(t=Be(e))||"object"===t&&Ye(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Qe(e.buffer),t},isString:Ge,isNumber:Xe,isBoolean:e=>!0===e||!1===e,isObject:Ze,isPlainObject:et,isEmptyObject:e=>{if(!Ze(e)||Ke(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(yr){return!1}},isReadableStream:lt,isRequest:ot,isResponse:it,isHeaders:ct,isUndefined:Je,isDate:tt,isFile:nt,isBlob:at,isRegExp:yt,isFunction:Ye,isStream:e=>Ze(e)&&Ye(e.pipe),isURLSearchParams:st,isTypedArray:ht,isFileList:rt,forEach:dt,merge:function e(){const{caseless:t}=pt(this)&&this||{},n={},a=(a,r)=>{const s=t&&ut(n,r)||r;et(n[s])&&et(a)?n[s]=e(n[s],a):et(a)?n[s]=e({},a):$e(a)?n[s]=a.slice():n[s]=a};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&dt(arguments[r],a);return n},extend:function(e,t,n){let{allOwnKeys:a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return dt(t,(t,a)=>{n&&Ye(t)?e[a]=Ie(t,n):e[a]=t},{allOwnKeys:a}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,a)=>{let r,s,l;const o={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),s=r.length;s-- >0;)l=r[s],a&&!a(l,e,t)||o[l]||(t[l]=e[l],o[l]=!0);e=!1!==n&&Fe(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Be,kindOfTest:He,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const a=e.indexOf(t,n);return-1!==a&&a===n},toArray:e=>{if(!e)return null;if($e(e))return e;let t=e.length;if(!Xe(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Ve]).call(e);let a;for(;(a=n.next())&&!a.done;){const n=a.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const a=[];for(;null!==(n=e.exec(t));)a.push(n);return a},isHTMLForm:vt,hasOwnProperty:gt,hasOwnProp:gt,reduceDescriptors:xt,freezeMethods:e=>{xt(e,(t,n)=>{if(Ye(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const a=e[n];Ye(a)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},a=e=>{e.forEach(e=>{n[e]=!0})};return $e(e)?a(e):a(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:ut,global:mt,isContextDefined:pt,isSpecCompliantForm:function(e){return!!(e&&Ye(e.append)&&"FormData"===e[Ue]&&e[Ve])},toJSONObject:e=>{const t=new Array(10),n=(e,a)=>{if(Ze(e)){if(t.indexOf(e)>=0)return;if(Ke(e))return e;if(!("toJSON"in e)){t[a]=e;const r=$e(e)?[]:{};return dt(e,(e,t)=>{const s=n(e,a+1);!Je(s)&&(r[t]=s)}),t[a]=void 0,r}}return e};return n(e,0)},isAsyncFn:bt,isThenable:e=>e&&(Ze(e)||Ye(e))&&Ye(e.then)&&Ye(e.catch),setImmediate:jt,asap:Nt,isIterable:e=>null!=e&&Ye(e[Ve])};function kt(e,t,n,a,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),r&&(this.response=r,this.status=r.status?r.status:null)}wt.inherits(kt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:wt.toJSONObject(this.config),code:this.code,status:this.status}}});const St=kt.prototype,Et={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Et[e]={value:e}}),Object.defineProperties(kt,Et),Object.defineProperty(St,"isAxiosError",{value:!0}),kt.from=(e,t,n,a,r,s)=>{const l=Object.create(St);return wt.toFlatObject(e,l,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),kt.call(l,e.message,t,n,a,r),l.cause=e,l.name=e.name,s&&Object.assign(l,s),l};const Ct=kt;function _t(e){return wt.isPlainObject(e)||wt.isArray(e)}function Tt(e){return wt.endsWith(e,"[]")?e.slice(0,-2):e}function Dt(e,t,n){return e?e.concat(t).map(function(e,t){return e=Tt(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const At=wt.toFlatObject(wt,{},null,function(e){return/^is[A-Z]/.test(e)});const Rt=function(e,t,n){if(!wt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const a=(n=wt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!wt.isUndefined(t[e])})).metaTokens,r=n.visitor||c,s=n.dots,l=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&wt.isSpecCompliantForm(t);if(!wt.isFunction(r))throw new TypeError("visitor must be a function");function i(e){if(null===e)return"";if(wt.isDate(e))return e.toISOString();if(wt.isBoolean(e))return e.toString();if(!o&&wt.isBlob(e))throw new Ct("Blob is not supported. Use a Buffer instead.");return wt.isArrayBuffer(e)||wt.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,r){let o=e;if(e&&!r&&"object"===typeof e)if(wt.endsWith(n,"{}"))n=a?n:n.slice(0,-2),e=JSON.stringify(e);else if(wt.isArray(e)&&function(e){return wt.isArray(e)&&!e.some(_t)}(e)||(wt.isFileList(e)||wt.endsWith(n,"[]"))&&(o=wt.toArray(e)))return n=Tt(n),o.forEach(function(e,a){!wt.isUndefined(e)&&null!==e&&t.append(!0===l?Dt([n],a,s):null===l?n:n+"[]",i(e))}),!1;return!!_t(e)||(t.append(Dt(r,n,s),i(e)),!1)}const d=[],u=Object.assign(At,{defaultVisitor:c,convertValue:i,isVisitable:_t});if(!wt.isObject(e))throw new TypeError("data must be an object");return function e(n,a){if(!wt.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+a.join("."));d.push(n),wt.forEach(n,function(n,s){!0===(!(wt.isUndefined(n)||null===n)&&r.call(t,n,wt.isString(s)?s.trim():s,a,u))&&e(n,a?a.concat(s):[s])}),d.pop()}}(e),t};function Pt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Lt(e,t){this._pairs=[],e&&Rt(e,this,t)}const Ot=Lt.prototype;Ot.append=function(e,t){this._pairs.push([e,t])},Ot.toString=function(e){const t=e?function(t){return e.call(this,t,Pt)}:Pt;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Mt=Lt;function It(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function zt(e,t,n){if(!t)return e;const a=n&&n.encode||It;wt.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let s;if(s=r?r(t,n):wt.isURLSearchParams(t)?t.toString():new Mt(t,n).toString(a),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const Ft=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){wt.forEach(this.handlers,function(t){null!==t&&e(t)})}},Vt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};function Ut(e){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ut(e)}function Bt(e){var t=function(e,t){if("object"!=Ut(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Ut(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ut(t)?t:t+""}function qt(e,t,n){return(t=Bt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(n),!0).forEach(function(t){qt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const $t={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Mt,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Jt="undefined"!==typeof window&&"undefined"!==typeof document,Kt="object"===typeof navigator&&navigator||void 0,Qt=Jt&&(!Kt||["ReactNative","NativeScript","NS"].indexOf(Kt.product)<0),Gt="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Yt=Jt&&window.location.href||"http://localhost",Xt=Wt(Wt({},a),$t);const Zt=function(e){function t(e,n,a,r){let s=e[r++];if("__proto__"===s)return!0;const l=Number.isFinite(+s),o=r>=e.length;if(s=!s&&wt.isArray(a)?a.length:s,o)return wt.hasOwnProp(a,s)?a[s]=[a[s],n]:a[s]=n,!l;a[s]&&wt.isObject(a[s])||(a[s]=[]);return t(e,n,a[s],r)&&wt.isArray(a[s])&&(a[s]=function(e){const t={},n=Object.keys(e);let a;const r=n.length;let s;for(a=0;a<r;a++)s=n[a],t[s]=e[s];return t}(a[s])),!l}if(wt.isFormData(e)&&wt.isFunction(e.entries)){const n={};return wt.forEachEntry(e,(e,a)=>{t(function(e){return wt.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),a,n,0)}),n}return null};const en={transitional:Vt,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",a=n.indexOf("application/json")>-1,r=wt.isObject(e);r&&wt.isHTMLForm(e)&&(e=new FormData(e));if(wt.isFormData(e))return a?JSON.stringify(Zt(e)):e;if(wt.isArrayBuffer(e)||wt.isBuffer(e)||wt.isStream(e)||wt.isFile(e)||wt.isBlob(e)||wt.isReadableStream(e))return e;if(wt.isArrayBufferView(e))return e.buffer;if(wt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Rt(e,new Xt.classes.URLSearchParams,Wt({visitor:function(e,t,n,a){return Xt.isNode&&wt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=wt.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Rt(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||a?(t.setContentType("application/json",!1),function(e,t,n){if(wt.isString(e))try{return(t||JSON.parse)(e),wt.trim(e)}catch(yr){if("SyntaxError"!==yr.name)throw yr}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||en.transitional,n=t&&t.forcedJSONParsing,a="json"===this.responseType;if(wt.isResponse(e)||wt.isReadableStream(e))return e;if(e&&wt.isString(e)&&(n&&!this.responseType||a)){const n=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(yr){if(n){if("SyntaxError"===yr.name)throw Ct.from(yr,Ct.ERR_BAD_RESPONSE,this,null,this.response);throw yr}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xt.classes.FormData,Blob:Xt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};wt.forEach(["delete","get","head","post","put","patch"],e=>{en.headers[e]={}});const tn=en,nn=wt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),an=Symbol("internals");function rn(e){return e&&String(e).trim().toLowerCase()}function sn(e){return!1===e||null==e?e:wt.isArray(e)?e.map(sn):String(e)}function ln(e,t,n,a,r){return wt.isFunction(a)?a.call(this,t,n):(r&&(t=n),wt.isString(t)?wt.isString(a)?-1!==t.indexOf(a):wt.isRegExp(a)?a.test(t):void 0:void 0)}class on{constructor(e){e&&this.set(e)}set(e,t,n){const a=this;function r(e,t,n){const r=rn(t);if(!r)throw new Error("header name must be a non-empty string");const s=wt.findKey(a,r);(!s||void 0===a[s]||!0===n||void 0===n&&!1!==a[s])&&(a[s||t]=sn(e))}const s=(e,t)=>wt.forEach(e,(e,n)=>r(e,n,t));if(wt.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(wt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,a,r;return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),a=e.substring(r+1).trim(),!n||t[n]&&nn[n]||("set-cookie"===n?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)}),t})(e),t);else if(wt.isObject(e)&&wt.isIterable(e)){let n,a,r={};for(const t of e){if(!wt.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[a=t[0]]=(n=r[a])?wt.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}s(r,t)}else null!=e&&r(t,e,n);return this}get(e,t){if(e=rn(e)){const n=wt.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)t[a[1]]=a[2];return t}(e);if(wt.isFunction(t))return t.call(this,e,n);if(wt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=rn(e)){const n=wt.findKey(this,e);return!(!n||void 0===this[n]||t&&!ln(0,this[n],n,t))}return!1}delete(e,t){const n=this;let a=!1;function r(e){if(e=rn(e)){const r=wt.findKey(n,e);!r||t&&!ln(0,n[r],r,t)||(delete n[r],a=!0)}}return wt.isArray(e)?e.forEach(r):r(e),a}clear(e){const t=Object.keys(this);let n=t.length,a=!1;for(;n--;){const r=t[n];e&&!ln(0,this[r],r,e,!0)||(delete this[r],a=!0)}return a}normalize(e){const t=this,n={};return wt.forEach(this,(a,r)=>{const s=wt.findKey(n,r);if(s)return t[s]=sn(a),void delete t[r];const l=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(r):String(r).trim();l!==r&&delete t[r],t[l]=sn(a),n[l]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return wt.forEach(this,(n,a)=>{null!=n&&!1!==n&&(t[a]=e&&wt.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return a.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[an]=this[an]={accessors:{}}).accessors,n=this.prototype;function a(e){const a=rn(e);t[a]||(!function(e,t){const n=wt.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+n,{value:function(e,n,r){return this[a].call(this,t,e,n,r)},configurable:!0})})}(n,e),t[a]=!0)}return wt.isArray(e)?e.forEach(a):a(e),this}}on.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),wt.reduceDescriptors(on.prototype,(e,t)=>{let{value:n}=e,a=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[a]=e}}}),wt.freezeMethods(on);const cn=on;function dn(e,t){const n=this||tn,a=t||n,r=cn.from(a.headers);let s=a.data;return wt.forEach(e,function(e){s=e.call(n,s,r.normalize(),t?t.status:void 0)}),r.normalize(),s}function un(e){return!(!e||!e.__CANCEL__)}function mn(e,t,n){Ct.call(this,null==e?"canceled":e,Ct.ERR_CANCELED,t,n),this.name="CanceledError"}wt.inherits(mn,Ct,{__CANCEL__:!0});const pn=mn;function hn(e,t,n){const a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(new Ct("Request failed with status code "+n.status,[Ct.ERR_BAD_REQUEST,Ct.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const fn=function(e,t){e=e||10;const n=new Array(e),a=new Array(e);let r,s=0,l=0;return t=void 0!==t?t:1e3,function(o){const i=Date.now(),c=a[l];r||(r=i),n[s]=o,a[s]=i;let d=l,u=0;for(;d!==s;)u+=n[d++],d%=e;if(s=(s+1)%e,s===l&&(l=(l+1)%e),i-r<t)return;const m=c&&i-c;return m?Math.round(1e3*u/m):void 0}};const vn=function(e,t){let n,a,r=0,s=1e3/t;const l=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=s,n=null,a&&(clearTimeout(a),a=null),e(...t)};return[function(){const e=Date.now(),t=e-r;for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];t>=s?l(i,e):(n=i,a||(a=setTimeout(()=>{a=null,l(n)},s-t)))},()=>n&&l(n)]},gn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=0;const r=fn(50,250);return vn(n=>{const s=n.loaded,l=n.lengthComputable?n.total:void 0,o=s-a,i=r(o);a=s;e({loaded:s,total:l,progress:l?s/l:void 0,bytes:o,rate:i||void 0,estimated:i&&l&&s<=l?(l-s)/i:void 0,event:n,lengthComputable:null!=l,[t?"download":"upload"]:!0})},n)},yn=(e,t)=>{const n=null!=e;return[a=>t[0]({lengthComputable:n,total:e,loaded:a}),t[1]]},xn=e=>function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return wt.asap(()=>e(...n))},bn=Xt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Xt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Xt.origin),Xt.navigator&&/(msie|trident)/i.test(Xt.navigator.userAgent)):()=>!0,jn=Xt.hasStandardBrowserEnv?{write(e,t,n,a,r,s){const l=[e+"="+encodeURIComponent(t)];wt.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),wt.isString(a)&&l.push("path="+a),wt.isString(r)&&l.push("domain="+r),!0===s&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Nn(e,t,n){let a=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(a||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const wn=e=>e instanceof cn?Wt({},e):e;function kn(e,t){t=t||{};const n={};function a(e,t,n,a){return wt.isPlainObject(e)&&wt.isPlainObject(t)?wt.merge.call({caseless:a},e,t):wt.isPlainObject(t)?wt.merge({},t):wt.isArray(t)?t.slice():t}function r(e,t,n,r){return wt.isUndefined(t)?wt.isUndefined(e)?void 0:a(void 0,e,0,r):a(e,t,0,r)}function s(e,t){if(!wt.isUndefined(t))return a(void 0,t)}function l(e,t){return wt.isUndefined(t)?wt.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function o(n,r,s){return s in t?a(n,r):s in e?a(void 0,n):void 0}const i={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(e,t,n)=>r(wn(e),wn(t),0,!0)};return wt.forEach(Object.keys(Wt(Wt({},e),t)),function(a){const s=i[a]||r,l=s(e[a],t[a],a);wt.isUndefined(l)&&s!==o||(n[a]=l)}),n}const Sn=e=>{const t=kn({},e);let n,{data:a,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:l,headers:o,auth:i}=t;if(t.headers=o=cn.from(o),t.url=zt(Nn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&o.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):""))),wt.isFormData(a))if(Xt.hasStandardBrowserEnv||Xt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(n=o.getContentType())){const[e,...t]=n?n.split(";").map(e=>e.trim()).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(Xt.hasStandardBrowserEnv&&(r&&wt.isFunction(r)&&(r=r(t)),r||!1!==r&&bn(t.url))){const e=s&&l&&jn.read(l);e&&o.set(s,e)}return t},En="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const a=Sn(e);let r=a.data;const s=cn.from(a.headers).normalize();let l,o,i,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:p}=a;function h(){c&&c(),d&&d(),a.cancelToken&&a.cancelToken.unsubscribe(l),a.signal&&a.signal.removeEventListener("abort",l)}let f=new XMLHttpRequest;function v(){if(!f)return;const a=cn.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());hn(function(e){t(e),h()},function(e){n(e),h()},{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:a,config:e,request:f}),f=null}f.open(a.method.toUpperCase(),a.url,!0),f.timeout=a.timeout,"onloadend"in f?f.onloadend=v:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(v)},f.onabort=function(){f&&(n(new Ct("Request aborted",Ct.ECONNABORTED,e,f)),f=null)},f.onerror=function(){n(new Ct("Network Error",Ct.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const r=a.transitional||Vt;a.timeoutErrorMessage&&(t=a.timeoutErrorMessage),n(new Ct(t,r.clarifyTimeoutError?Ct.ETIMEDOUT:Ct.ECONNABORTED,e,f)),f=null},void 0===r&&s.setContentType(null),"setRequestHeader"in f&&wt.forEach(s.toJSON(),function(e,t){f.setRequestHeader(t,e)}),wt.isUndefined(a.withCredentials)||(f.withCredentials=!!a.withCredentials),u&&"json"!==u&&(f.responseType=a.responseType),p&&([i,d]=gn(p,!0),f.addEventListener("progress",i)),m&&f.upload&&([o,c]=gn(m),f.upload.addEventListener("progress",o),f.upload.addEventListener("loadend",c)),(a.cancelToken||a.signal)&&(l=t=>{f&&(n(!t||t.type?new pn(null,e,f):t),f.abort(),f=null)},a.cancelToken&&a.cancelToken.subscribe(l),a.signal&&(a.signal.aborted?l():a.signal.addEventListener("abort",l)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(a.url);g&&-1===Xt.protocols.indexOf(g)?n(new Ct("Unsupported protocol "+g+":",Ct.ERR_BAD_REQUEST,e)):f.send(r||null)})},Cn=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,a=new AbortController;const r=function(e){if(!n){n=!0,l();const t=e instanceof Error?e:this.reason;a.abort(t instanceof Ct?t:new pn(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,r(new Ct("timeout ".concat(t," of ms exceeded"),Ct.ETIMEDOUT))},t);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)}),e=null)};e.forEach(e=>e.addEventListener("abort",r));const{signal:o}=a;return o.unsubscribe=()=>wt.asap(l),o}};function _n(e,t){this.v=e,this.k=t}function Tn(e){return function(){return new Dn(e.apply(this,arguments))}}function Dn(e){var t,n;function a(t,n){try{var s=e[t](n),l=s.value,o=l instanceof _n;Promise.resolve(o?l.v:l).then(function(n){if(o){var i="return"===t?"return":"next";if(!l.k||n.done)return a(i,n);n=e[i](n).value}r(s.done?"return":"normal",n)},function(e){a("throw",e)})}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?a(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise(function(s,l){var o={key:e,arg:r,resolve:s,reject:l,next:null};n?n=n.next=o:(t=n=o,a(e,r))})},"function"!=typeof e.return&&(this.return=void 0)}function An(e){return new _n(e,0)}function Rn(e){var t={},n=!1;function a(t,a){return n=!0,a=new Promise(function(n){n(e[t](a))}),{done:!1,value:new _n(a,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):a("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return a("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):a("return",e)}),t}function Pn(e){var t,n,a,r=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,a=Symbol.iterator);r--;){if(n&&null!=(t=e[n]))return t.call(e);if(a&&null!=(t=e[a]))return new Ln(t.call(e));n="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function Ln(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Ln=function(e){this.s=e,this.n=e.next},Ln.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Ln(e)}Dn.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Dn.prototype.next=function(e){return this._invoke("next",e)},Dn.prototype.throw=function(e){return this._invoke("throw",e)},Dn.prototype.return=function(e){return this._invoke("return",e)};const On=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let a,r=0;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},Mn=function(){var e=Tn(function*(e,t){var n,a=!1,r=!1;try{for(var s,l=Pn(In(e));a=!(s=yield An(l.next())).done;a=!1){const e=s.value;yield*Rn(Pn(On(e,t)))}}catch(o){r=!0,n=o}finally{try{a&&null!=l.return&&(yield An(l.return()))}finally{if(r)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),In=function(){var e=Tn(function*(e){if(e[Symbol.asyncIterator])return void(yield*Rn(Pn(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield An(t.read());if(e)break;yield n}}finally{yield An(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),zn=(e,t,n,a)=>{const r=Mn(e,t);let s,l=0,o=e=>{s||(s=!0,a&&a(e))};return new ReadableStream({async pull(e){try{const{done:t,value:a}=await r.next();if(t)return o(),void e.close();let s=a.byteLength;if(n){let e=l+=s;n(e)}e.enqueue(new Uint8Array(a))}catch(t){throw o(t),t}},cancel:e=>(o(e),r.return())},{highWaterMark:2})},Fn="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Vn=Fn&&"function"===typeof ReadableStream,Un=Fn&&("function"===typeof TextEncoder?(Bn=new TextEncoder,e=>Bn.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Bn;const qn=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return!!e(...n)}catch(yr){return!1}},Hn=Vn&&qn(()=>{let e=!1;const t=new Request(Xt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Wn=Vn&&qn(()=>wt.isReadableStream(new Response("").body)),$n={stream:Wn&&(e=>e.body)};var Jn;Fn&&(Jn=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!$n[e]&&($n[e]=wt.isFunction(Jn[e])?t=>t[e]():(t,n)=>{throw new Ct("Response type '".concat(e,"' is not supported"),Ct.ERR_NOT_SUPPORT,n)})}));const Kn=async(e,t)=>{const n=wt.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(wt.isBlob(e))return e.size;if(wt.isSpecCompliantForm(e)){const t=new Request(Xt.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return wt.isArrayBufferView(e)||wt.isArrayBuffer(e)?e.byteLength:(wt.isURLSearchParams(e)&&(e+=""),wt.isString(e)?(await Un(e)).byteLength:void 0)})(t):n},Qn=Fn&&(async e=>{let{url:t,method:n,data:a,signal:r,cancelToken:s,timeout:l,onDownloadProgress:o,onUploadProgress:i,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:m}=Sn(e);c=c?(c+"").toLowerCase():"text";let p,h=Cn([r,s&&s.toAbortSignal()],l);const f=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let v;try{if(i&&Hn&&"get"!==n&&"head"!==n&&0!==(v=await Kn(d,a))){let e,n=new Request(t,{method:"POST",body:a,duplex:"half"});if(wt.isFormData(a)&&(e=n.headers.get("content-type"))&&d.setContentType(e),n.body){const[e,t]=yn(v,gn(xn(i)));a=zn(n.body,65536,e,t)}}wt.isString(u)||(u=u?"include":"omit");const r="credentials"in Request.prototype;p=new Request(t,Wt(Wt({},m),{},{signal:h,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:a,duplex:"half",credentials:r?u:void 0}));let s=await fetch(p,m);const l=Wn&&("stream"===c||"response"===c);if(Wn&&(o||l&&f)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=s[t]});const t=wt.toFiniteNumber(s.headers.get("content-length")),[n,a]=o&&yn(t,gn(xn(o),!0))||[];s=new Response(zn(s.body,65536,n,()=>{a&&a(),f&&f()}),e)}c=c||"text";let g=await $n[wt.findKey($n,c)||"text"](s,e);return!l&&f&&f(),await new Promise((t,n)=>{hn(t,n,{data:g,headers:cn.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:p})})}catch(g){if(f&&f(),g&&"TypeError"===g.name&&/Load failed|fetch/i.test(g.message))throw Object.assign(new Ct("Network Error",Ct.ERR_NETWORK,e,p),{cause:g.cause||g});throw Ct.from(g,g&&g.code,e,p)}}),Gn={http:null,xhr:En,fetch:Qn};wt.forEach(Gn,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(yr){}Object.defineProperty(e,"adapterName",{value:t})}});const Yn=e=>"- ".concat(e),Xn=e=>wt.isFunction(e)||null===e||!1===e,Zn=e=>{e=wt.isArray(e)?e:[e];const{length:t}=e;let n,a;const r={};for(let s=0;s<t;s++){let t;if(n=e[s],a=n,!Xn(n)&&(a=Gn[(t=String(n)).toLowerCase()],void 0===a))throw new Ct("Unknown adapter '".concat(t,"'"));if(a)break;r[t||"#"+s]=a}if(!a){const e=Object.entries(r).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let n=t?e.length>1?"since :\n"+e.map(Yn).join("\n"):" "+Yn(e[0]):"as no adapter specified";throw new Ct("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return a};function ea(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new pn(null,e)}function ta(e){ea(e),e.headers=cn.from(e.headers),e.data=dn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Zn(e.adapter||tn.adapter)(e).then(function(t){return ea(e),t.data=dn.call(e,e.transformResponse,t),t.headers=cn.from(t.headers),t},function(t){return un(t)||(ea(e),t&&t.response&&(t.response.data=dn.call(e,e.transformResponse,t.response),t.response.headers=cn.from(t.response.headers))),Promise.reject(t)})}const na="1.11.0",aa={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{aa[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const ra={};aa.transitional=function(e,t,n){function a(e,t){return"[Axios v"+na+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,r,s)=>{if(!1===e)throw new Ct(a(r," has been removed"+(t?" in "+t:"")),Ct.ERR_DEPRECATED);return t&&!ra[r]&&(ra[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},aa.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const sa={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Ct("options must be an object",Ct.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let r=a.length;for(;r-- >0;){const s=a[r],l=t[s];if(l){const t=e[s],n=void 0===t||l(t,s,e);if(!0!==n)throw new Ct("option "+s+" must be "+n,Ct.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Ct("Unknown option "+s,Ct.ERR_BAD_OPTION)}},validators:aa},la=sa.validators;class oa{constructor(e){this.defaults=e||{},this.interceptors={request:new Ft,response:new Ft}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(yr){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=kn(this.defaults,t);const{transitional:n,paramsSerializer:a,headers:r}=t;void 0!==n&&sa.assertOptions(n,{silentJSONParsing:la.transitional(la.boolean),forcedJSONParsing:la.transitional(la.boolean),clarifyTimeoutError:la.transitional(la.boolean)},!1),null!=a&&(wt.isFunction(a)?t.paramsSerializer={serialize:a}:sa.assertOptions(a,{encode:la.function,serialize:la.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),sa.assertOptions(t,{baseUrl:la.spelling("baseURL"),withXsrfToken:la.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=r&&wt.merge(r.common,r[t.method]);r&&wt.forEach(["delete","get","head","post","put","patch","common"],e=>{delete r[e]}),t.headers=cn.concat(s,r);const l=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,l.unshift(e.fulfilled,e.rejected))});const i=[];let c;this.interceptors.response.forEach(function(e){i.push(e.fulfilled,e.rejected)});let d,u=0;if(!o){const e=[ta.bind(this),void 0];for(e.unshift(...l),e.push(...i),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=l.length;let m=t;for(u=0;u<d;){const e=l[u++],t=l[u++];try{m=e(m)}catch(p){t.call(this,p);break}}try{c=ta.call(this,m)}catch(p){return Promise.reject(p)}for(u=0,d=i.length;u<d;)c=c.then(i[u++],i[u++]);return c}getUri(e){return zt(Nn((e=kn(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}wt.forEach(["delete","get","head","options"],function(e){oa.prototype[e]=function(t,n){return this.request(kn(n||{},{method:e,url:t,data:(n||{}).data}))}}),wt.forEach(["post","put","patch"],function(e){function t(t){return function(n,a,r){return this.request(kn(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:a}))}}oa.prototype[e]=t(),oa.prototype[e+"Form"]=t(!0)});const ia=oa;class ca{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const a=new Promise(e=>{n.subscribe(e),t=e}).then(e);return a.cancel=function(){n.unsubscribe(t)},a},e(function(e,a,r){n.reason||(n.reason=new pn(e,a,r),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new ca(function(t){e=t}),cancel:e}}}const da=ca;const ua={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ua).forEach(e=>{let[t,n]=e;ua[n]=t});const ma=ua;const pa=function e(t){const n=new ia(t),a=Ie(ia.prototype.request,n);return wt.extend(a,ia.prototype,n,{allOwnKeys:!0}),wt.extend(a,n,null,{allOwnKeys:!0}),a.create=function(n){return e(kn(t,n))},a}(tn);pa.Axios=ia,pa.CanceledError=pn,pa.CancelToken=da,pa.isCancel=un,pa.VERSION=na,pa.toFormData=Rt,pa.AxiosError=Ct,pa.Cancel=pa.CanceledError,pa.all=function(e){return Promise.all(e)},pa.spread=function(e){return function(t){return e.apply(null,t)}},pa.isAxiosError=function(e){return wt.isObject(e)&&!0===e.isAxiosError},pa.mergeConfig=kn,pa.AxiosHeaders=cn,pa.formToJSON=e=>Zt(wt.isHTMLForm(e)?new FormData(e):e),pa.getAdapter=Zn,pa.HttpStatusCode=ma,pa.default=pa;const ha=pa,fa=ha.create({baseURL:"https://boulangerie-planning-api-4-pbfy.onrender.com/api",timeout:12e4,headers:{"Content-Type":"application/json"}});fa.interceptors.response.use(e=>e,e=>{var t,n;return"ECONNABORTED"===e.code?console.warn("\u26a0\ufe0f Timeout API - Render en mode sleep, veuillez patienter..."):401===(null===(t=e.response)||void 0===t?void 0:t.status)?console.error("Erreur d'authentification"):(null===(n=e.response)||void 0===n?void 0:n.status)>=500?console.error("Erreur serveur:",e.response.data):e.response||console.warn("\u26a0\ufe0f Pas de r\xe9ponse du serveur - Render peut \xeatre en mode sleep"),Promise.reject(e)});const va=fa,ga=()=>{const{user:e,logout:t,isAdmin:n}=Oe(),[a,r]=(0,s.useState)("");return(0,s.useEffect)(()=>{(async()=>{try{const e=await va.get("/site");e.data&&e.data.city&&r(e.data.city)}catch(e){console.error("Erreur lors du chargement du nom du site:",e)}})()},[]),(0,Pe.jsx)("header",{className:"header",children:(0,Pe.jsxs)("div",{className:"header-content",children:[(0,Pe.jsx)("div",{className:"header-left",children:(0,Pe.jsxs)("h1",{className:"header-title",children:["Planning Boulangerie ",a&&a]})}),(0,Pe.jsx)("div",{className:"header-right",children:e&&(0,Pe.jsxs)("div",{className:"user-info",children:[(0,Pe.jsxs)("div",{className:"user-details",children:[(0,Pe.jsx)("span",{className:"user-icon",children:n()?"\ud83d\udc51":"\ud83d\udc64"}),(0,Pe.jsx)("span",{className:"user-name",children:e.name}),(0,Pe.jsxs)("span",{className:"user-role",children:["(","admin"===e.role?"Administrateur":"Salari\xe9",")"]})]}),(0,Pe.jsxs)("button",{onClick:()=>{t()},className:"logout-btn",title:"Se d\xe9connecter",children:[(0,Pe.jsx)("span",{className:"logout-icon",children:"\ud83d\udeaa"}),(0,Pe.jsx)("span",{className:"logout-text",children:"D\xe9connexion"})]})]})})]})})},ya=()=>{const[e,t]=(0,s.useState)(!1),[n,a]=(0,s.useState)([]),r=Z(),{user:l,isAdmin:o,isEmployee:i}=Oe(),c=e=>"admin"===e?[{menuId:"dashboard",isVisibleToAdmin:!0,isVisibleToEmployee:!1},{menuId:"employees",isVisibleToAdmin:!0,isVisibleToEmployee:!1},{menuId:"constraints",isVisibleToAdmin:!0,isVisibleToEmployee:!1},{menuId:"planning",isVisibleToAdmin:!0,isVisibleToEmployee:!0},{menuId:"sales-stats",isVisibleToAdmin:!0,isVisibleToEmployee:!0},{menuId:"absences",isVisibleToAdmin:!0,isVisibleToEmployee:!0},{menuId:"meal-expenses",isVisibleToAdmin:!0,isVisibleToEmployee:!0},{menuId:"km-expenses",isVisibleToAdmin:!0,isVisibleToEmployee:!0},{menuId:"employee-status-print",isVisibleToAdmin:!0,isVisibleToEmployee:!1},{menuId:"parameters",isVisibleToAdmin:!0,isVisibleToEmployee:!1},{menuId:"sick-leave-management",isVisibleToAdmin:!0,isVisibleToEmployee:!1},{menuId:"vacation-management",isVisibleToAdmin:!0,isVisibleToEmployee:!1},{menuId:"ticket-restaurant",isVisibleToAdmin:!0,isVisibleToEmployee:!0},{menuId:"advance-requests",isVisibleToAdmin:!0,isVisibleToEmployee:!1},{menuId:"employee-dashboard",isVisibleToAdmin:!1,isVisibleToEmployee:!0}]:[{menuId:"dashboard",isVisibleToAdmin:!1,isVisibleToEmployee:!0},{menuId:"planning",isVisibleToAdmin:!1,isVisibleToEmployee:!0},{menuId:"sales-stats",isVisibleToAdmin:!1,isVisibleToEmployee:!0},{menuId:"absences",isVisibleToAdmin:!1,isVisibleToEmployee:!0},{menuId:"meal-expenses",isVisibleToAdmin:!1,isVisibleToEmployee:!0},{menuId:"km-expenses",isVisibleToAdmin:!1,isVisibleToEmployee:!0},{menuId:"ticket-restaurant",isVisibleToAdmin:!1,isVisibleToEmployee:!0}];(0,s.useEffect)(()=>{(async()=>{if(l)try{const e=await fetch("https://boulangerie-planning-api-4-pbfy.onrender.com/api/menu-permissions?role=".concat(l.role)),t=e.headers.get("content-type");if(!t||!t.includes("application/json"))return console.warn("\u26a0\ufe0f API non disponible, utilisation des permissions par d\xe9faut"),void a(c(l.role));const n=await e.json();n.success?(a(n.menuPermissions),console.log("\ud83d\udccb Permissions de menu charg\xe9es:",n.menuPermissions)):(console.warn("\u26a0\ufe0f Erreur API, utilisation des permissions par d\xe9faut"),a(c(l.role)))}catch(e){console.error("\u274c Erreur lors du chargement des permissions:",e),console.warn("\u26a0\ufe0f Utilisation des permissions par d\xe9faut"),a(c(l.role))}})()},[l]);const d=[{path:"/dashboard",label:"Tableau de bord",icon:"\ud83d\udcca",menuId:"dashboard"},{path:"/employees",label:"Gestion des employ\xe9s",icon:"\ud83d\udc65",menuId:"employees"},{path:"/constraints",label:"Contraintes hebdomadaires",icon:"\ud83d\udccb",menuId:"constraints"},{path:"/planning",label:"G\xe9n\xe9ration du planning",icon:"\ud83c\udfaf",menuId:"planning"},{path:"/sales-stats",label:"Stats Vente",icon:"\ud83d\udcb0",menuId:"sales-stats"},{path:"/absences",label:"\xc9tat des absences",icon:"\ud83d\udcc8",menuId:"absences"},{path:"/meal-expenses",label:"Frais Repas",icon:"\ud83c\udf7d\ufe0f",menuId:"meal-expenses"},{path:"/km-expenses",label:"Frais KM",icon:"\ud83d\ude97",menuId:"km-expenses"},{path:"/employee-status-print",label:"Imprimer \xc9tat",icon:"\ud83d\udda8\ufe0f",menuId:"employee-status-print"},{path:"/parameters",label:"Param\xe8tres",icon:"\u2699\ufe0f",menuId:"parameters"},{path:"/sick-leave-management",label:"Gestion des Arr\xeats Maladie",icon:"\ud83c\udfe5",menuId:"sick-leave-management"},{path:"/vacation-management",label:"Gestion des Cong\xe9s",icon:"\ud83c\udfd6\ufe0f",menuId:"vacation-management"},{path:"/ticket-restaurant",label:"Ticket restaurant",icon:"\ud83c\udfab",menuId:"ticket-restaurant"},{path:"/advance-requests",label:"Demandes d'Acompte",icon:"\ud83d\udcb0",menuId:"advance-requests"},{path:"/employee-dashboard",label:"Mes Documents",icon:"\ud83d\udcc1",menuId:"employee-dashboard"}];return(0,Pe.jsxs)("div",{className:"sidebar ".concat(e?"expanded":"collapsed"),onMouseEnter:()=>{t(!0)},onMouseLeave:()=>{t(!1)},children:[(0,Pe.jsxs)("div",{className:"sidebar-header",children:[(0,Pe.jsx)("div",{className:"logo-container",children:(0,Pe.jsxs)("div",{className:"filmara-logo-sidebar",children:[(0,Pe.jsxs)("div",{className:"logo-symbol",children:[(0,Pe.jsx)("div",{className:"orca-element"}),(0,Pe.jsx)("div",{className:"fox-element"})]}),(0,Pe.jsx)("div",{className:"logo-text",children:"FILMARA"})]})}),(0,Pe.jsx)("div",{className:"sidebar-title",children:"Boulangerie"})]}),(0,Pe.jsx)("nav",{className:"sidebar-nav",children:(()=>{if(!l)return console.log("\u26a0\ufe0f Pas d'utilisateur connect\xe9"),[];if(0===n.length)return console.log("\u26a0\ufe0f Permissions vides, utilisation des permissions par d\xe9faut"),d.filter(e=>{const t=c(l.role).find(t=>t.menuId===e.menuId);return!!t&&(o()?t.isVisibleToAdmin:!!i()&&t.isVisibleToEmployee)});console.log("\ud83d\udd0d Filtrage des menus pour:",l.role),console.log("\ud83d\udccb Permissions disponibles:",n),console.log("\ud83d\udc51 isAdmin():",o()),console.log("\ud83d\udc64 isEmployee():",i());const e=d.filter(e=>{const t=n.find(t=>t.menuId===e.menuId);if(console.log("\ud83d\udd0d Menu ".concat(e.menuId,":"),{permission:t,isAdmin:o(),isEmployee:i()}),!t)return console.log("\u274c Pas de permission pour ".concat(e.menuId)),!1;if(o()){const n=t.isVisibleToAdmin;return console.log("\ud83d\udc51 Admin - ".concat(e.menuId,": ").concat(n)),n}if(i()){const n=t.isVisibleToEmployee;return console.log("\ud83d\udc64 Employee - ".concat(e.menuId,": ").concat(n)),n}return!1});return console.log("\u2705 Menus filtr\xe9s:",e.map(e=>e.menuId)),e})().map(e=>(0,Pe.jsxs)(De,{to:e.path,className:"nav-item ".concat(r.pathname===e.path?"active":""),children:[(0,Pe.jsx)("span",{className:"nav-icon",children:e.icon}),(0,Pe.jsx)("span",{className:"nav-label",children:e.label})]},e.path))}),(0,Pe.jsxs)("div",{className:"sidebar-footer",children:[(0,Pe.jsx)("div",{className:"user-info",children:l&&(0,Pe.jsxs)("div",{className:"user-role",children:[(0,Pe.jsx)("span",{className:"user-icon",children:o()?"\ud83d\udc51":"\ud83d\udc64"}),(0,Pe.jsx)("span",{className:"user-name",children:l.name})]})}),(0,Pe.jsx)("div",{className:"version-info",children:"v2.0"})]})]})},xa=e=>{let{children:t,requiredPermission:n=null,adminOnly:a=!1}=e;const{user:r,hasPermission:s,isAdmin:l,loading:o}=Oe(),i=Z();return o?(0,Pe.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"1.2rem",color:"#666"},children:"Chargement..."}):r?a&&!l()?(0,Pe.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",padding:"20px",textAlign:"center"},children:[(0,Pe.jsx)("div",{style:{fontSize:"4rem",marginBottom:"20px"},children:"\ud83d\udeab"}),(0,Pe.jsx)("h2",{style:{color:"#e74c3c",marginBottom:"10px"},children:"Acc\xe8s refus\xe9"}),(0,Pe.jsx)("p",{style:{color:"#666",marginBottom:"20px"},children:"Cette page est r\xe9serv\xe9e aux administrateurs."}),(0,Pe.jsx)("button",{onClick:()=>window.history.back(),style:{padding:"10px 20px",backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"1rem"},children:"Retour"})]}):n&&!s(n)?(0,Pe.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",padding:"20px",textAlign:"center"},children:[(0,Pe.jsx)("div",{style:{fontSize:"4rem",marginBottom:"20px"},children:"\ud83d\udd12"}),(0,Pe.jsx)("h2",{style:{color:"#e74c3c",marginBottom:"10px"},children:"Permission insuffisante"}),(0,Pe.jsx)("p",{style:{color:"#666",marginBottom:"20px"},children:"Vous n'avez pas les permissions n\xe9cessaires pour acc\xe9der \xe0 cette page."}),(0,Pe.jsx)("button",{onClick:()=>window.history.back(),style:{padding:"10px 20px",backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"1rem"},children:"Retour"})]}):t:(0,Pe.jsx)(ve,{to:"/login",state:{from:i},replace:!0})},ba=()=>{const[e,t]=(0,s.useState)(""),[n,a]=(0,s.useState)(""),r=te(),{login:l}=Oe(),o=()=>{if("admin2024"===e){l({role:"admin",name:"Administrateur",permissions:["all"]}),r("/")}else a("Mot de passe administrateur incorrect")};return(0,Pe.jsx)("div",{className:"login-container",children:(0,Pe.jsxs)("div",{className:"login-card",children:[(0,Pe.jsx)("div",{className:"logo-section",children:(0,Pe.jsxs)("div",{className:"logo",children:[(0,Pe.jsxs)("div",{className:"logo-animals",children:[(0,Pe.jsx)("div",{className:"orca"}),(0,Pe.jsx)("div",{className:"fox"})]}),(0,Pe.jsx)("h1",{className:"logo-text",children:"FILMARA"}),(0,Pe.jsx)("p",{className:"logo-subtitle",children:"HOLDING COMPANY \u2022 & TWO BAKERS"})]})}),(0,Pe.jsxs)("div",{className:"login-section",children:[(0,Pe.jsx)("h2",{children:"Connexion au Planning"}),(0,Pe.jsx)("div",{className:"password-input",children:(0,Pe.jsx)("input",{type:"password",placeholder:"Mot de passe",value:e,onChange:e=>t(e.target.value),onKeyPress:e=>((e,t)=>{"Enter"===e.key&&t()})(e,o),className:"password-field"})}),n&&(0,Pe.jsx)("div",{className:"error-message",children:n}),(0,Pe.jsxs)("div",{className:"login-buttons",children:[(0,Pe.jsxs)("button",{onClick:o,className:"login-btn admin-btn",disabled:!e,children:[(0,Pe.jsx)("span",{className:"btn-icon",children:"\ud83d\udc51"}),"Administrateur"]}),(0,Pe.jsxs)("button",{onClick:()=>{if("salarie2024"===e){l({role:"employee",name:"Salari\xe9",permissions:["view_planning","view_absences","view_sales_stats","view_meal_expenses","view_km_expenses"]}),r("/")}else a("Mot de passe salari\xe9 incorrect")},className:"login-btn employee-btn",disabled:!e,children:[(0,Pe.jsx)("span",{className:"btn-icon",children:"\ud83d\udc64"}),"Salari\xe9"]})]}),(0,Pe.jsxs)("div",{className:"login-info",children:[(0,Pe.jsxs)("p",{children:[(0,Pe.jsx)("strong",{children:"Administrateur :"})," Acc\xe8s complet \xe0 toutes les fonctionnalit\xe9s"]}),(0,Pe.jsxs)("p",{children:[(0,Pe.jsx)("strong",{children:"Salari\xe9 :"})," Acc\xe8s limit\xe9 aux fonctions de consultation et saisie"]})]})]})]})})};!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var ja=e=>"number"==typeof e&&!isNaN(e),Na=e=>"string"==typeof e,wa=e=>"function"==typeof e,ka=e=>(0,s.isValidElement)(e)||Na(e)||wa(e)||ja(e);function Sa(e){let{enter:t,exit:n,appendPosition:a=!1,collapse:r=!0,collapseDuration:l=300}=e;return function(e){let{children:o,position:i,preventExitTransition:c,done:d,nodeRef:u,isIn:m,playToast:p}=e,h=a?"".concat(t,"--").concat(i):t,f=a?"".concat(n,"--").concat(i):n,v=(0,s.useRef)(0);return(0,s.useLayoutEffect)(()=>{let e=u.current,t=h.split(" "),n=a=>{a.target===u.current&&(p(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===v.current&&"animationcancel"!==a.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)},[]),(0,s.useEffect)(()=>{let e=u.current,t=()=>{e.removeEventListener("animationend",t),r?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,{scrollHeight:a,style:r}=e;requestAnimationFrame(()=>{r.minHeight="initial",r.height=a+"px",r.transition="all ".concat(n,"ms"),requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(t,n)})})}(e,d,l):d()};m||(c?t():(v.current=1,e.className+=" ".concat(f),e.addEventListener("animationend",t)))},[m]),s.createElement(s.Fragment,null,o)}}var Ea=1,Ca=()=>"".concat(Ea++);var _a=new Map,Ta=[],Da=new Set,Aa=()=>_a.size>0;function Ra(e,t){var n;if(t)return!(null==(n=_a.get(t))||!n.isToastActive(e));let a=!1;return _a.forEach(t=>{t.isToastActive(e)&&(a=!0)}),a}function Pa(e){if(Aa()){if(null==e||(e=>Na(e)||ja(e))(e))_a.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=_a.get(e.containerId);t?t.removeToast(e.id):_a.forEach(t=>{t.removeToast(e.id)})}}else Ta=Ta.filter(t=>null!=e&&t.options.toastId!==e)}function La(e,t){ka(e)&&(Aa()||Ta.push({content:e,options:t}),_a.forEach(n=>{n.buildToast(e,t)}))}function Oa(e,t){_a.forEach(n=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===n.id)&&n.toggle(e,null==t?void 0:t.id)})}function Ma(e){return e&&(Na(e.toastId)||ja(e.toastId))?e.toastId:Ca()}function Ia(e,t){return La(e,t),t.toastId}function za(e,t){return Wt(Wt({},t),{},{type:t&&t.type||e,toastId:Ma(t)})}function Fa(e){return(t,n)=>Ia(t,za(e,n))}function Va(e,t){return Ia(e,za("default",t))}Va.loading=(e,t)=>Ia(e,za("default",Wt({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t))),Va.promise=function(e,t,n){let a,{pending:r,error:s,success:l}=t;r&&(a=Na(r)?Va.loading(r,n):Va.loading(r.render,Wt(Wt({},n),r)));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},i=(e,t,r)=>{if(null==t)return void Va.dismiss(a);let s=Wt(Wt(Wt({type:e},o),n),{},{data:r}),l=Na(t)?{render:t}:t;return a?Va.update(a,Wt(Wt({},s),l)):Va(l.render,Wt(Wt({},s),l)),r},c=wa(e)?e():e;return c.then(e=>i("success",l,e)).catch(e=>i("error",s,e)),c},Va.success=Fa("success"),Va.info=Fa("info"),Va.error=Fa("error"),Va.warning=Fa("warning"),Va.warn=Va.warning,Va.dark=(e,t)=>Ia(e,za("default",Wt({theme:"dark"},t))),Va.dismiss=function(e){Pa(e)},Va.clearWaitingQueue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_a.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})},Va.isActive=Ra,Va.update=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=((e,t)=>{let{containerId:n}=t;var a;return null==(a=_a.get(n||1))?void 0:a.toasts.get(e)})(e,t);if(n){let{props:a,content:r}=n,s=Wt(Wt(Wt({delay:100},a),t),{},{toastId:t.toastId||e,updateId:Ca()});s.toastId!==e&&(s.staleId=e);let l=s.render||r;delete s.render,Ia(l,s)}},Va.done=e=>{Va.update(e,{progress:1})},Va.onChange=function(e){return Da.add(e),()=>{Da.delete(e)}},Va.play=e=>Oa(!0,e),Va.pause=e=>Oa(!1,e);"undefined"!=typeof window?s.useLayoutEffect:s.useEffect;var Ua=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}};Sa(Ua("bounce",!0)),Sa(Ua("slide",!0)),Sa(Ua("zoom")),Sa(Ua("flip"));const Ba=e=>{let{employee:t,onSave:n,onClose:a,employees:r=[]}=e;const[l,o]=(0,s.useState)({name:"",contractType:"CDI",age:"",skills:[],role:"vendeuse",weeklyHours:35,trainingDays:[],contractEndDate:"",tutor:"",email:"",isActive:!0,emergencyContact:{lastName:"",firstName:"",phone:"",email:""}});(0,s.useEffect)(()=>{t&&o({name:t.name||"",contractType:t.contractType||"CDI",age:t.age||"",skills:t.skills||[],role:t.role||"vendeuse",weeklyHours:t.weeklyHours||35,trainingDays:t.trainingDays||[],contractEndDate:t.contractEndDate?new Date(t.contractEndDate).toISOString().split("T")[0]:"",tutorName:t.tutorName||"",email:t.email||"",isActive:void 0===t.isActive||t.isActive,emergencyContact:t.emergencyContact||{lastName:"",firstName:"",phone:"",email:""}})},[t]);const i=e=>{const{name:t,value:n,type:a,checked:r}=e.target;if(t.startsWith("emergencyContact.")){const e=t.split(".")[1];o(t=>Wt(Wt({},t),{},{emergencyContact:Wt(Wt({},t.emergencyContact),{},{[e]:n})}))}else o(e=>Wt(Wt({},e),{},{[t]:"checkbox"===a?r:n}))},c=e=>{if(e.preventDefault(),console.log("\ud83d\udd0d Donn\xe9es du formulaire avant validation:",l),!l.name.trim())return void alert("Le nom est obligatoire");if(!l.age)return void alert("L'\xe2ge est obligatoire");if(l.age<16||l.age>65)return void alert("L'\xe2ge doit \xeatre entre 16 et 65 ans");if(l.weeklyHours<20||l.weeklyHours>39)return void alert("Le volume hebdomadaire doit \xeatre entre 20 et 39 heures");if("Apprentissage"===l.contractType){if(0===l.trainingDays.length)return void alert("Les apprentis doivent avoir au moins un jour de formation");if(!l.contractEndDate)return void alert("Les apprentis doivent avoir une date de fin de contrat")}const t=Wt(Wt({},l),{},{age:parseInt(l.age),weeklyHours:parseInt(l.weeklyHours),contractEndDate:l.contractEndDate||void 0,tutor:l.tutor||void 0,email:l.email||void 0});console.log("\ud83d\udce4 Donn\xe9es pr\xe9par\xe9es pour l'envoi:",t),n(t)};return(0,Pe.jsxs)("div",{children:[(0,Pe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[(0,Pe.jsx)("h2",{style:{margin:0,color:"#333"},children:t?"\ud83d\udc64 Modifier l'employ\xe9":"\u2795 Ajouter un employ\xe9"}),(0,Pe.jsx)("button",{onClick:a,style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#666",padding:"0.5rem"},children:"\u2715"})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsxs)("form",{onSubmit:c,className:"declaration-form",children:[(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{className:"form-label",children:"Nom complet *"}),(0,Pe.jsx)("input",{type:"text",name:"name",value:l.name,onChange:i,className:"form-control",required:!0})]}),(0,Pe.jsxs)("div",{className:"form-row",children:[(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{className:"form-label",children:"Contrat *"}),(0,Pe.jsxs)("select",{name:"contractType",value:l.contractType,onChange:i,className:"form-control",required:!0,children:[(0,Pe.jsx)("option",{value:"CDI",children:"CDI"}),(0,Pe.jsx)("option",{value:"Apprentissage",children:"Contrat d'apprentissage"})]})]}),("Apprentissage"===l.contractType||"Apprenti Vendeuse"===l.role||"Apprenti Boulanger"===l.role||"Apprenti Pr\xe9parateur"===l.role)&&(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{className:"form-label",children:"Fin du contrat d'apprentissage *"}),(0,Pe.jsx)("input",{type:"date",name:"contractEndDate",value:l.contractEndDate,onChange:i,className:"form-control",required:!0})]}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{className:"form-label",children:"Nom du tuteur *"}),(0,Pe.jsx)("input",{type:"text",name:"tutorName",value:l.tutorName,onChange:i,className:"form-control",placeholder:"Nom du ma\xeetre d'apprentissage",required:!0})]})]}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{className:"form-label",children:"\xc2ge *"}),(0,Pe.jsx)("input",{type:"number",name:"age",value:l.age,onChange:i,className:"form-control",min:"16",max:"65",required:!0})]}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{className:"form-label",children:"Email"}),(0,Pe.jsx)("input",{type:"email",name:"email",value:l.email,onChange:i,className:"form-control",placeholder:"exemple@email.com"}),(0,Pe.jsx)("small",{className:"form-text",children:"Email pour l'envoi des identifiants de connexion"})]})]}),(0,Pe.jsxs)("div",{className:"form-row",children:[(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{className:"form-label",children:"R\xf4le *"}),(0,Pe.jsx)("select",{name:"role",value:l.role,onChange:i,className:"form-control",required:!0,children:[{value:"vendeuse",label:"Vendeuse"},{value:"responsable",label:"Responsable"},{value:"manager",label:"Manager"},{value:"Apprenti Vendeuse",label:"Apprenti Vendeuse"},{value:"chef prod",label:"Chef Prod"},{value:"boulanger",label:"Boulanger"},{value:"pr\xe9parateur",label:"Pr\xe9parateur"},{value:"Apprenti Boulanger",label:"Apprenti Boulanger"},{value:"Apprenti Pr\xe9parateur",label:"Apprenti Pr\xe9parateur"}].map(e=>(0,Pe.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{className:"form-label",children:"Volume hebdomadaire (h) *"}),(0,Pe.jsx)("input",{type:"number",name:"weeklyHours",value:l.weeklyHours,onChange:i,className:"form-control",min:"20",max:"39",required:!0})]})]}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{className:"form-label",children:"Comp\xe9tences"}),(0,Pe.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:["Ouverture","Fermeture","Management"].map(e=>(0,Pe.jsxs)("label",{style:{display:"flex",alignItems:"center",marginRight:"1rem"},children:[(0,Pe.jsx)("input",{type:"checkbox",checked:l.skills.includes(e),onChange:()=>(e=>{o(t=>Wt(Wt({},t),{},{skills:t.skills.includes(e)?t.skills.filter(t=>t!==e):[...t.skills,e]}))})(e),style:{marginRight:"0.5rem"}}),e]},e))})]}),"Apprentissage"===l.contractType&&(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{className:"form-label",children:"Tuteur *"}),(0,Pe.jsxs)("select",{name:"tutor",value:l.tutor,onChange:i,className:"form-control",required:!0,children:[(0,Pe.jsx)("option",{value:"",children:"S\xe9lectionner un tuteur"}),r.filter(e=>e._id!==(null===t||void 0===t?void 0:t._id)&&e.isActive).map(e=>(0,Pe.jsxs)("option",{value:e._id,children:[e.name," - ",e.role]},e._id))]})]}),"Apprentissage"===l.contractType&&(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{className:"form-label",children:"Jours de formation *"}),(0,Pe.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"].map(e=>(0,Pe.jsxs)("label",{style:{display:"flex",alignItems:"center",marginRight:"1rem"},children:[(0,Pe.jsx)("input",{type:"checkbox",checked:l.trainingDays.includes(e),onChange:()=>(e=>{o(t=>Wt(Wt({},t),{},{trainingDays:t.trainingDays.includes(e)?t.trainingDays.filter(t=>t!==e):[...t.trainingDays,e]}))})(e),style:{marginRight:"0.5rem"}}),e]},e))})]}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{className:"form-label",children:"Date de fin de contrat *"}),(0,Pe.jsx)("input",{type:"date",name:"contractEndDate",value:l.contractEndDate,onChange:i,className:"form-control",required:!0})]})]}),(0,Pe.jsxs)("div",{style:{marginTop:"2rem",paddingTop:"1.5rem",borderTop:"2px solid #e0e0e0"},children:[(0,Pe.jsx)("h3",{style:{marginBottom:"1rem",color:"#333",fontSize:"1.1rem"},children:"\ud83d\udea8 Personne \xe0 Contacter en Cas d'Urgence"}),(0,Pe.jsxs)("div",{className:"form-row",children:[(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{className:"form-label",children:"Nom"}),(0,Pe.jsx)("input",{type:"text",name:"emergencyContact.lastName",value:l.emergencyContact.lastName,onChange:i,className:"form-control",placeholder:"Nom de la personne"})]}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{className:"form-label",children:"Pr\xe9nom"}),(0,Pe.jsx)("input",{type:"text",name:"emergencyContact.firstName",value:l.emergencyContact.firstName,onChange:i,className:"form-control",placeholder:"Pr\xe9nom de la personne"})]})]}),(0,Pe.jsxs)("div",{className:"form-row",children:[(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{className:"form-label",children:"Num\xe9ro de t\xe9l\xe9phone"}),(0,Pe.jsx)("input",{type:"tel",name:"emergencyContact.phone",value:l.emergencyContact.phone,onChange:i,className:"form-control",placeholder:"06 12 34 56 78"})]}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{className:"form-label",children:"Email"}),(0,Pe.jsx)("input",{type:"email",name:"emergencyContact.email",value:l.emergencyContact.email,onChange:i,className:"form-control",placeholder:"contact@exemple.com"})]})]})]})]}),(0,Pe.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"1.5rem"},children:[(0,Pe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:a,children:"Annuler"}),t&&(0,Pe.jsx)("button",{type:"button",className:"btn btn-info",onClick:async()=>{if(!t||!t.email)return void alert("\u274c Aucun email configur\xe9 pour cet employ\xe9");const e="\ud83d\udce7 Envoyer les informations de connexion \xe0 ".concat(t.email," ?\n\n")+"- Email: ".concat(t.email,"\n")+"- URL de connexion: https://www.filmara.fr/salarie-connexion\n- Mot de passe: [G\xe9n\xe9r\xe9 automatiquement]\n\nConfirmer l'envoi ?";if(window.confirm(e))try{console.log("\ud83d\udce7 Envoi du mot de passe via backend API pour:",t.name,t.email);const e=await fetch("".concat("https://boulangerie-planning-api-4-pbfy.onrender.com/api","/auth/send-password/").concat(t._id),{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok){const t=await e.json();throw new Error(t.error||"Erreur backend")}await e.json();console.log("\u2705 Mot de passe sauvegard\xe9 et email envoy\xe9 via backend (Modal)"),alert("\u2705 Mot de passe envoy\xe9 avec succ\xe8s \xe0 ".concat(t.email)),console.log("\u2705 Mot de passe envoy\xe9 via backend API (Modal)")}catch(n){console.error("\u274c Erreur envoi mot de passe:",n),alert("\u274c Erreur lors de l'envoi: ".concat(n.message))}},title:"Envoyer les informations de connexion par email",children:"\ud83d\udce7 Envoyer mot de passe"}),(0,Pe.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:c,children:t?"Modifier l'employ\xe9":"Ajouter l'employ\xe9"})]})]})]})},qa=e=>{let{show:t,onClose:n,onSave:a,employees:r}=e;const[l,o]=(0,s.useState)("maladie"),[i,c]=(0,s.useState)(""),[d,u]=(0,s.useState)(""),[m,p]=(0,s.useState)(""),[h,f]=(0,s.useState)(""),[v,g]=(0,s.useState)(!1),y=async e=>{if(e.preventDefault(),i&&d&&m){g(!0);try{await a({type:l,employeeId:i,startDate:d,endDate:m,reason:h||("maladie"===l?"Arr\xeat maladie":"Absence")}),c(""),u(""),p(""),f(""),n()}catch(t){console.error("Erreur lors de la sauvegarde:",t)}finally{g(!1)}}else alert("Veuillez remplir tous les champs obligatoires")};return t?(0,Pe.jsx)("div",{className:"modal show",onClick:n,children:(0,Pe.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Pe.jsxs)("div",{className:"modal-header",children:[(0,Pe.jsx)("h2",{className:"modal-title",children:"maladie"===l?"\ud83c\udfe5 D\xe9clarer un arr\xeat maladie":"\ud83d\udccb D\xe9clarer une absence"}),(0,Pe.jsx)("button",{className:"modal-close",onClick:n,children:(0,Pe.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"close-icon",children:(0,Pe.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),(0,Pe.jsx)("div",{className:"modal-body",children:(0,Pe.jsxs)("form",{onSubmit:y,className:"declaration-form",children:[(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{className:"form-label",children:"Type de d\xe9claration"}),(0,Pe.jsxs)("div",{className:"type-selector",children:[(0,Pe.jsxs)("button",{type:"button",className:"type-option ".concat("maladie"===l?"active":""),onClick:()=>o("maladie"),children:[(0,Pe.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"type-icon",children:(0,Pe.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14h-2v-2h2v2zm0-4h-2V7h2v6z"})}),"Arr\xeat maladie"]}),(0,Pe.jsxs)("button",{type:"button",className:"type-option ".concat("absence"===l?"active":""),onClick:()=>o("absence"),children:[(0,Pe.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"type-icon",children:(0,Pe.jsx)("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"})}),"Absence"]})]})]}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{className:"form-label",children:"Employ\xe9 *"}),(0,Pe.jsxs)("select",{className:"form-control",value:i,onChange:e=>c(e.target.value),required:!0,children:[(0,Pe.jsx)("option",{value:"",children:"S\xe9lectionner un employ\xe9"}),r.map(e=>(0,Pe.jsxs)("option",{value:e._id,children:[e.name," - ",e.role]},e._id))]})]}),(0,Pe.jsxs)("div",{className:"form-row",children:[(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{className:"form-label",children:"Date de d\xe9but *"}),(0,Pe.jsx)("input",{type:"date",className:"form-control",value:d,onChange:e=>u(e.target.value),required:!0})]}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{className:"form-label",children:"Date de fin *"}),(0,Pe.jsx)("input",{type:"date",className:"form-control",value:m,onChange:e=>p(e.target.value),required:!0,min:d})]})]}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{className:"form-label",children:"Raison (optionnel)"}),(0,Pe.jsx)("textarea",{className:"form-control",value:h,onChange:e=>f(e.target.value),placeholder:"D\xe9tails sur ".concat("maladie"===l?"l'arr\xeat maladie":"l'absence","..."),rows:"3"})]}),(0,Pe.jsxs)("div",{className:"info-box",children:[(0,Pe.jsx)("div",{className:"info-icon",children:(0,Pe.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,Pe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),(0,Pe.jsxs)("div",{className:"info-content",children:[(0,Pe.jsx)("h4",{children:"Informations importantes"}),(0,Pe.jsxs)("ul",{children:[(0,Pe.jsx)("li",{children:"Les dates sont inclusives"}),(0,Pe.jsx)("li",{children:"L'employ\xe9 sera automatiquement marqu\xe9 comme indisponible"}),(0,Pe.jsx)("li",{children:"Le planning sera mis \xe0 jour en cons\xe9quence"})]})]})]})]})}),(0,Pe.jsxs)("div",{className:"modal-footer",children:[(0,Pe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:n,disabled:v,children:"Annuler"}),(0,Pe.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:y,disabled:v,children:v?(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsx)("svg",{className:"loading-spinner",viewBox:"0 0 24 24",children:(0,Pe.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"})}),"Enregistrement..."]}):"D\xe9clarer ".concat("maladie"===l?"l'arr\xeat maladie":"l'absence")})]})]})}):null},Ha=e=>{let{show:t,onClose:n,onSave:a,employees:r}=e;const[l,o]=(0,s.useState)(""),[i,c]=(0,s.useState)(""),[d,u]=(0,s.useState)(""),[m,p]=(0,s.useState)(""),[h,f]=(0,s.useState)(!1),v=async e=>{if(e.preventDefault(),l&&i&&d)if(parseInt(d)<1)alert("La dur\xe9e du retard doit \xeatre d'au moins 1 minute");else{f(!0);try{await a({employeeId:l,date:i,duration:parseInt(d),reason:m||""}),o(""),c(""),u(""),p(""),n()}catch(t){console.error("Erreur lors de la sauvegarde:",t)}finally{f(!1)}}else alert("Veuillez remplir tous les champs obligatoires")};return t?(0,Pe.jsx)("div",{className:"modal show",onClick:n,children:(0,Pe.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Pe.jsxs)("div",{className:"modal-header",children:[(0,Pe.jsx)("h2",{className:"modal-title",children:"\ud83d\udd50 D\xe9clarer un retard"}),(0,Pe.jsx)("button",{className:"modal-close",onClick:n,children:(0,Pe.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"close-icon",children:(0,Pe.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),(0,Pe.jsx)("div",{className:"modal-body",children:(0,Pe.jsxs)("form",{onSubmit:v,className:"delay-form",children:[(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{className:"form-label",children:"Employ\xe9 *"}),(0,Pe.jsxs)("select",{className:"form-control",value:l,onChange:e=>o(e.target.value),required:!0,children:[(0,Pe.jsx)("option",{value:"",children:"S\xe9lectionner un employ\xe9"}),r.map(e=>(0,Pe.jsxs)("option",{value:e._id,children:[e.name," - ",e.role]},e._id))]})]}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{className:"form-label",children:"Date du retard *"}),(0,Pe.jsx)("input",{type:"date",className:"form-control",value:i,onChange:e=>c(e.target.value),required:!0,max:(new Date).toISOString().split("T")[0]})]}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{className:"form-label",children:"Dur\xe9e du retard (minutes) *"}),(0,Pe.jsxs)("div",{className:"duration-input",children:[(0,Pe.jsx)("input",{type:"number",className:"form-control",value:d,onChange:e=>u(e.target.value),placeholder:"Ex: 15",min:"1",max:"480",required:!0}),(0,Pe.jsx)("span",{className:"duration-unit",children:"minutes"})]}),(0,Pe.jsx)("div",{className:"duration-help",children:(0,Pe.jsx)("small",{children:"Dur\xe9e en minutes (ex: 15 pour 15 minutes, 90 pour 1h30)"})})]}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{className:"form-label",children:"Raison du retard (optionnel)"}),(0,Pe.jsx)("textarea",{className:"form-control",value:m,onChange:e=>p(e.target.value),placeholder:"Ex: Probl\xe8me de transport, r\xe9veil tardif, embouteillage...",rows:"3"})]}),(0,Pe.jsxs)("div",{className:"info-box",children:[(0,Pe.jsx)("div",{className:"info-icon",children:(0,Pe.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,Pe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),(0,Pe.jsxs)("div",{className:"info-content",children:[(0,Pe.jsx)("h4",{children:"Informations importantes"}),(0,Pe.jsxs)("ul",{children:[(0,Pe.jsx)("li",{children:"Le retard sera enregistr\xe9 pour la date s\xe9lectionn\xe9e"}),(0,Pe.jsx)("li",{children:"La dur\xe9e doit \xeatre en minutes (minimum 1 minute)"}),(0,Pe.jsx)("li",{children:"Les retards sont visibles dans les statistiques d'absences"}),(0,Pe.jsx)("li",{children:"Vous ne pouvez pas d\xe9clarer un retard pour une date future"})]})]})]})]})}),(0,Pe.jsxs)("div",{className:"modal-footer",children:[(0,Pe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:n,disabled:h,children:"Annuler"}),(0,Pe.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:v,disabled:h,children:h?(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsx)("svg",{className:"loading-spinner",viewBox:"0 0 24 24",children:(0,Pe.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"})}),"Enregistrement..."]}):"D\xe9clarer le retard"})]})]})}):null},Wa=e=>{let{isOpen:t,onClose:n,employees:a}=e;const[r,l]=(0,s.useState)(""),[o,i]=(0,s.useState)(null),[c,d]=(0,s.useState)("entree"),[u,m]=(0,s.useState)(!1),[p,h]=(0,s.useState)(!1),[f,v]=(0,s.useState)({contratSigne:{done:!1,date:"",comment:""},dpae:{done:!1,date:"",comment:""},declarationMedecineTravail:{done:!1,date:"",comment:""},demandeMutuelle:{done:!1,date:"",comment:"",refused:!1,attestationFournie:!1},visiteMedicale:{done:!1,date:"",comment:""},formationSecurite:{done:!1,date:"",comment:""},charteDiscrimination:{done:!1,date:"",comment:""},rib:{done:!1,date:"",comment:""},registrePresenceEntree:{done:!1,date:"",comment:""},gabriel:{done:!1,date:"",comment:""}}),[g,y]=(0,s.useState)({arretMutuel:{done:!1,date:"",comment:""},gabrielSortie:{done:!1,date:"",comment:""},mutuelleSortie:{done:!1,date:"",comment:""},retourTenues:{done:!1,date:"",comment:""},retourCles:{done:!1,date:"",comment:""},registrePresenceSortie:{done:!1,date:"",comment:""}}),[x,b]=(0,s.useState)(""),[j,N]=(0,s.useState)("");(0,s.useEffect)(()=>{if(r&&a.length>0){const e=a.find(e=>e._id===r);i(e),k(r)}},[r,a]);const w=e=>{if(!e)return"";try{const t=new Date(e);return isNaN(t.getTime())?"":t.toISOString().split("T")[0]}catch(t){return console.error("Erreur formatage date:",t),""}},k=async e=>{try{m(!0);const a=await va.get("/onboarding-offboarding/employee/".concat(e));if(a.data.success&&a.data.data){const e=a.data.data,r=e=>({done:(null===e||void 0===e?void 0:e.done)||!1,date:w(null===e||void 0===e?void 0:e.date)||"",comment:(null===e||void 0===e?void 0:e.comment)||""});var t,n;if(e.onboarding)v({contratSigne:r(e.onboarding.contratSigne),dpae:r(e.onboarding.dpae),declarationMedecineTravail:r(e.onboarding.declarationMedecineTravail),demandeMutuelle:Wt(Wt({},r(e.onboarding.demandeMutuelle)),{},{refused:(null===(t=e.onboarding.demandeMutuelle)||void 0===t?void 0:t.refused)||!1,attestationFournie:(null===(n=e.onboarding.demandeMutuelle)||void 0===n?void 0:n.attestationFournie)||!1}),visiteMedicale:r(e.onboarding.visiteMedicale),formationSecurite:r(e.onboarding.formationSecurite),charteDiscrimination:r(e.onboarding.charteDiscrimination),rib:r(e.onboarding.rib),registrePresenceEntree:r(e.onboarding.registrePresenceEntree),gabriel:r(e.onboarding.gabriel)});e.offboarding&&y({arretMutuel:r(e.offboarding.arretMutuel),gabrielSortie:r(e.offboarding.gabrielSortie),mutuelleSortie:r(e.offboarding.mutuelleSortie),retourTenues:r(e.offboarding.retourTenues),retourCles:r(e.offboarding.retourCles),registrePresenceSortie:r(e.offboarding.registrePresenceSortie)}),b(w(e.entryDate)),N(w(e.exitDate))}}catch(a){console.error("Erreur lors du chargement des donn\xe9es:",a),Va.error("Erreur lors du chargement des donn\xe9es")}finally{m(!1)}},S=(e,t,n)=>{v(a=>Wt(Wt({},a),{},{[e]:Wt(Wt({},a[e]),{},{[t]:n})}))},E=(e,t,n)=>{y(a=>Wt(Wt({},a),{},{[e]:Wt(Wt({},a[e]),{},{[t]:n})}))};return t?(0,Pe.jsx)("div",{className:"onboarding-modal-overlay",children:(0,Pe.jsxs)("div",{className:"onboarding-modal",children:[(0,Pe.jsxs)("div",{className:"onboarding-modal-header",children:[(0,Pe.jsx)("h2",{children:"\ud83d\udccb Entr\xe9e/Sortie - D\xe9marches Administratives"}),(0,Pe.jsx)("button",{className:"close-btn",onClick:n,children:"\u2715"})]}),(0,Pe.jsxs)("div",{className:"onboarding-modal-body",children:[(0,Pe.jsxs)("div",{className:"employee-selector",children:[(0,Pe.jsx)("label",{children:"S\xe9lectionner un employ\xe9 :"}),(0,Pe.jsxs)("select",{value:r,onChange:e=>l(e.target.value),className:"form-control",children:[(0,Pe.jsx)("option",{value:"",children:"-- Choisir un employ\xe9 --"}),a.map(e=>(0,Pe.jsxs)("option",{value:e._id,children:[e.name," (",e.role||"Non sp\xe9cifi\xe9",")"]},e._id))]})]}),r&&(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("div",{className:"tabs",children:[(0,Pe.jsx)("button",{className:"tab ".concat("entree"===c?"active":""),onClick:()=>d("entree"),children:"\ud83d\udce5 Entr\xe9e"}),(0,Pe.jsx)("button",{className:"tab ".concat("sortie"===c?"active":""),onClick:()=>d("sortie"),children:"\ud83d\udce4 Sortie"})]}),u?(0,Pe.jsxs)("div",{className:"loading-container",children:[(0,Pe.jsx)("div",{className:"loading"}),(0,Pe.jsx)("p",{children:"Chargement des donn\xe9es..."})]}):(0,Pe.jsx)("div",{className:"tab-content",children:"entree"===c?(0,Pe.jsxs)("div",{className:"onboarding-form",children:[(0,Pe.jsx)("h3",{children:"\ud83d\udccb D\xe9marches d'entr\xe9e"}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{children:"Date d'entr\xe9e"}),(0,Pe.jsx)("input",{type:"date",value:x,onChange:e=>b(e.target.value),className:"form-control"})]}),[{key:"contratSigne",label:"Contrat de travail sign\xe9 des deux parties"},{key:"dpae",label:"DPAE"},{key:"declarationMedecineTravail",label:"D\xe9claration M\xe9decine du travail"},{key:"demandeMutuelle",label:"Demande de Mutuelle Entreprise",hasRefusal:!0},{key:"visiteMedicale",label:"Visite m\xe9dicale effectu\xe9e"},{key:"formationSecurite",label:"Formation S\xe9curit\xe9 Magasin"},{key:"charteDiscrimination",label:"Charte Discrimination sign\xe9e"},{key:"rib",label:"RIB"},{key:"registrePresenceEntree",label:"Registre de Pr\xe9sence"},{key:"gabriel",label:"Gabriel"}].map(e=>{var t,n,a,r,s,l,o,i;return(0,Pe.jsxs)("div",{className:"task-item",children:[(0,Pe.jsx)("div",{className:"task-header",children:(0,Pe.jsxs)("label",{className:"checkbox-label",children:[(0,Pe.jsx)("input",{type:"checkbox",checked:(null===(t=f[e.key])||void 0===t?void 0:t.done)||!1,onChange:t=>S(e.key,"done",t.target.checked)}),(0,Pe.jsx)("span",{className:null!==(n=f[e.key])&&void 0!==n&&n.done?"task-done":"",children:e.label})]})}),e.hasRefusal&&(0,Pe.jsxs)("div",{className:"mutuelle-refusal",children:[(0,Pe.jsxs)("label",{className:"checkbox-label",children:[(0,Pe.jsx)("input",{type:"checkbox",checked:(null===(a=f[e.key])||void 0===a?void 0:a.refused)||!1,onChange:t=>S(e.key,"refused",t.target.checked)}),(0,Pe.jsx)("span",{children:"Refus de la mutuelle"})]}),(null===(r=f[e.key])||void 0===r?void 0:r.refused)&&(0,Pe.jsxs)("label",{className:"checkbox-label",children:[(0,Pe.jsx)("input",{type:"checkbox",checked:(null===(s=f[e.key])||void 0===s?void 0:s.attestationFournie)||!1,onChange:t=>S(e.key,"attestationFournie",t.target.checked)}),(0,Pe.jsx)("span",{children:"Attestation de refus fournie"})]})]}),(null===(l=f[e.key])||void 0===l?void 0:l.done)&&(0,Pe.jsxs)("div",{className:"task-details",children:[(0,Pe.jsx)("input",{type:"date",value:(null===(o=f[e.key])||void 0===o?void 0:o.date)||"",onChange:t=>S(e.key,"date",t.target.value),className:"form-control form-control-sm",placeholder:"Date"}),(0,Pe.jsx)("input",{type:"text",value:(null===(i=f[e.key])||void 0===i?void 0:i.comment)||"",onChange:t=>S(e.key,"comment",t.target.value),className:"form-control form-control-sm",placeholder:"Commentaire (optionnel)"})]})]},e.key)})]}):(0,Pe.jsxs)("div",{className:"offboarding-form",children:[(0,Pe.jsx)("h3",{children:"\ud83d\udce4 D\xe9marches de sortie"}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{children:"Date de sortie"}),(0,Pe.jsx)("input",{type:"date",value:j,onChange:e=>N(e.target.value),className:"form-control"})]}),[{key:"arretMutuel",label:"Arr\xeat Mutuel"},{key:"gabrielSortie",label:"Gabriel"},{key:"mutuelleSortie",label:"Mutuelle (si demand\xe9e)"},{key:"retourTenues",label:"Retour tenues"},{key:"retourCles",label:"Retour cl\xe9s"},{key:"registrePresenceSortie",label:"Registre de pr\xe9sence"}].map(e=>{var t,n,a,r,s;return(0,Pe.jsxs)("div",{className:"task-item",children:[(0,Pe.jsx)("div",{className:"task-header",children:(0,Pe.jsxs)("label",{className:"checkbox-label",children:[(0,Pe.jsx)("input",{type:"checkbox",checked:(null===(t=g[e.key])||void 0===t?void 0:t.done)||!1,onChange:t=>E(e.key,"done",t.target.checked)}),(0,Pe.jsx)("span",{className:null!==(n=g[e.key])&&void 0!==n&&n.done?"task-done":"",children:e.label})]})}),(null===(a=g[e.key])||void 0===a?void 0:a.done)&&(0,Pe.jsxs)("div",{className:"task-details",children:[(0,Pe.jsx)("input",{type:"date",value:(null===(r=g[e.key])||void 0===r?void 0:r.date)||"",onChange:t=>E(e.key,"date",t.target.value),className:"form-control form-control-sm",placeholder:"Date"}),(0,Pe.jsx)("input",{type:"text",value:(null===(s=g[e.key])||void 0===s?void 0:s.comment)||"",onChange:t=>E(e.key,"comment",t.target.value),className:"form-control form-control-sm",placeholder:"Commentaire (optionnel)"})]})]},e.key)})]})})]})]}),(0,Pe.jsxs)("div",{className:"onboarding-modal-footer",children:[(0,Pe.jsx)("button",{className:"btn btn-secondary",onClick:n,children:"Annuler"}),(0,Pe.jsx)("button",{className:"btn btn-primary",onClick:async()=>{if(console.log("\ud83d\udd35 handleSave appel\xe9"),console.log("\ud83d\udd35 selectedEmployeeId:",r),console.log("\ud83d\udd35 selectedEmployee:",o),!r||!o)return console.log("\u274c Validation \xe9chou\xe9e: pas d'employ\xe9 s\xe9lectionn\xe9"),void Va.error("Veuillez s\xe9lectionner un employ\xe9");try{h(!0);const e={};Object.keys(f).forEach(t=>{e[t]=Wt(Wt({},f[t]),{},{date:f[t].date||null})});const t={};Object.keys(g).forEach(e=>{t[e]=Wt(Wt({},g[e]),{},{date:g[e].date||null})});const n={employeeId:r,employeeName:o.name,onboarding:e,offboarding:t,entryDate:x||null,exitDate:j||null};console.log("\ud83d\udce4 Envoi payload:",n);const a=await va.post("/onboarding-offboarding",n);console.log("\u2705 R\xe9ponse re\xe7ue:",a.data),a.data.success&&(Va.success("\u2705 D\xe9marches sauvegard\xe9es avec succ\xe8s"),window.location.pathname.includes("dashboard")&&window.location.reload())}catch(e){console.error("\u274c Erreur lors de la sauvegarde:",e),e.response?(console.error("D\xe9tails erreur:",e.response.data),Va.error("\u274c Erreur: ".concat(e.response.data.message||"Erreur serveur"))):Va.error("\u274c Erreur lors de la sauvegarde des d\xe9marches")}finally{h(!1)}},disabled:!r||p,children:p?"Sauvegarde...":"\ud83d\udcbe Sauvegarder"})]})]})}):null},$a=e=>{let{isOpen:t,onClose:n,employees:a}=e;const[r,l]=(0,s.useState)(""),[o,i]=(0,s.useState)(null),[c,d]=(0,s.useState)("entree"),[u,m]=(0,s.useState)(!1),[p,h]=(0,s.useState)([]),[f,v]=(0,s.useState)({itemType:"pantalon",size:"",quantity:1,comment:""}),g=[{value:"pantalon",label:"Pantalon"},{value:"casquette",label:"Casquette"},{value:"chaussures",label:"Chaussures"},{value:"teeshirt",label:"T-shirt"},{value:"polaire",label:"Polaire"},{value:"carte_wengel",label:"Carte Wengel"},{value:"cle_entree",label:"Cl\xe9 Entr\xe9e"},{value:"cle_volet",label:"Cl\xe9 Volet"},{value:"code_alarme",label:"Code Alarme"}];(0,s.useEffect)(()=>{if(r&&a.length>0){const e=a.find(e=>e._id===r);i(e),y(r)}},[r,a]);const y=async e=>{try{m(!0);const t=await va.get("/uniforms/employee/".concat(e));t.data.success&&t.data.data&&h(t.data.data.items||[])}catch(t){console.error("Erreur lors du chargement des tenues:",t),Va.error("Erreur lors du chargement des tenues")}finally{m(!1)}},x=async()=>{if(r&&o)if(f.itemType)try{const e={employeeId:r,employeeName:o.name,itemType:f.itemType,size:f.size,quantity:parseInt(f.quantity)||1,comment:f.comment};(await va.post("/uniforms",e)).data.success&&(Va.success("\u2705 Tenue ajout\xe9e avec succ\xe8s"),v({itemType:"pantalon",size:"",quantity:1,comment:""}),await y(r))}catch(e){console.error("Erreur lors de l'ajout de la tenue:",e),Va.error("\u274c Erreur lors de l'ajout de la tenue")}else Va.error("Veuillez s\xe9lectionner un type de tenue");else Va.error("Veuillez s\xe9lectionner un employ\xe9")},b=async e=>{if(window.confirm("Confirmer le retour de cette tenue ?"))try{(await va.patch("/uniforms/".concat(r,"/").concat(e,"/return"),{returnDate:(new Date).toISOString(),returnComment:"Retourn\xe9"})).data.success&&(Va.success("\u2705 Tenue marqu\xe9e comme retourn\xe9e"),await y(r))}catch(t){console.error("Erreur lors du retour de la tenue:",t),Va.error("\u274c Erreur lors du retour de la tenue")}},j=e=>{const t=g.find(t=>t.value===e);return t?t.label:e},N=e=>e?new Date(e).toLocaleDateString("fr-FR"):"-";return t?(0,Pe.jsx)("div",{className:"uniform-modal-overlay",children:(0,Pe.jsxs)("div",{className:"uniform-modal",children:[(0,Pe.jsxs)("div",{className:"uniform-modal-header",children:[(0,Pe.jsx)("h2",{children:"\ud83d\udc55 Gestion des Tenues"}),(0,Pe.jsx)("button",{className:"close-btn",onClick:n,children:"\u2715"})]}),(0,Pe.jsxs)("div",{className:"uniform-modal-body",children:[(0,Pe.jsxs)("div",{className:"employee-selector",children:[(0,Pe.jsx)("label",{children:"S\xe9lectionner un employ\xe9 :"}),(0,Pe.jsxs)("select",{value:r,onChange:e=>l(e.target.value),className:"form-control",children:[(0,Pe.jsx)("option",{value:"",children:"-- Choisir un employ\xe9 --"}),a.map(e=>(0,Pe.jsxs)("option",{value:e._id,children:[e.name," (",e.role||"Non sp\xe9cifi\xe9",")"]},e._id))]})]}),r&&(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("div",{className:"tabs",children:[(0,Pe.jsx)("button",{className:"tab ".concat("entree"===c?"active":""),onClick:()=>d("entree"),children:"\u2795 Entr\xe9e / Historique"}),(0,Pe.jsx)("button",{className:"tab ".concat("sortie"===c?"active":""),onClick:()=>d("sortie"),children:"\ud83d\udce4 Sortie / Retours"})]}),u?(0,Pe.jsxs)("div",{className:"loading-container",children:[(0,Pe.jsx)("div",{className:"loading"}),(0,Pe.jsx)("p",{children:"Chargement des donn\xe9es..."})]}):(0,Pe.jsx)("div",{className:"tab-content",children:"entree"===c?(0,Pe.jsxs)("div",{className:"uniform-entry-form",children:[(0,Pe.jsx)("h3",{children:"\u2795 Ajouter une tenue"}),(0,Pe.jsxs)("div",{className:"form-row",children:[(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{children:"Type de tenue *"}),(0,Pe.jsx)("select",{value:f.itemType,onChange:e=>v(Wt(Wt({},f),{},{itemType:e.target.value})),className:"form-control",children:g.map(e=>(0,Pe.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{children:"Taille / Descriptif"}),(0,Pe.jsx)("input",{type:"text",value:f.size,onChange:e=>v(Wt(Wt({},f),{},{size:e.target.value})),className:"form-control",placeholder:"Ex: L, 42, etc."})]}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{children:"Quantit\xe9"}),(0,Pe.jsx)("input",{type:"number",min:"1",value:f.quantity,onChange:e=>v(Wt(Wt({},f),{},{quantity:e.target.value})),className:"form-control"})]})]}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{children:"Commentaire"}),(0,Pe.jsx)("input",{type:"text",value:f.comment,onChange:e=>v(Wt(Wt({},f),{},{comment:e.target.value})),className:"form-control",placeholder:"Optionnel"})]}),(0,Pe.jsx)("button",{className:"btn btn-primary",onClick:x,children:"\u2795 Ajouter cette tenue"}),(0,Pe.jsx)("hr",{style:{margin:"2rem 0"}}),(0,Pe.jsx)("h3",{children:"\ud83d\udccb Historique des tenues attribu\xe9es"}),0===p.length?(0,Pe.jsx)("p",{className:"no-data",children:"Aucune tenue enregistr\xe9e"}):(0,Pe.jsx)("div",{className:"uniform-list",children:p.sort((e,t)=>new Date(t.issueDate)-new Date(e.issueDate)).map(e=>(0,Pe.jsxs)("div",{className:"uniform-item ".concat(e.returned?"returned":""),children:[(0,Pe.jsxs)("div",{className:"item-header",children:[(0,Pe.jsx)("span",{className:"item-type",children:j(e.itemType)}),(0,Pe.jsx)("span",{className:"item-status ".concat(e.returned?"status-returned":"status-active"),children:e.returned?"\u2705 Retourn\xe9":"\ud83d\udd35 En cours"})]}),(0,Pe.jsxs)("div",{className:"item-details",children:[(0,Pe.jsxs)("div",{className:"detail-row",children:[(0,Pe.jsx)("strong",{children:"Taille:"})," ",e.size||"-"]}),(0,Pe.jsxs)("div",{className:"detail-row",children:[(0,Pe.jsx)("strong",{children:"Quantit\xe9:"})," ",e.quantity]}),(0,Pe.jsxs)("div",{className:"detail-row",children:[(0,Pe.jsx)("strong",{children:"Date d'attribution:"})," ",N(e.issueDate)]}),e.comment&&(0,Pe.jsxs)("div",{className:"detail-row",children:[(0,Pe.jsx)("strong",{children:"Commentaire:"})," ",e.comment]}),e.returned&&(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("div",{className:"detail-row",children:[(0,Pe.jsx)("strong",{children:"Date de retour:"})," ",N(e.returnDate)]}),e.returnComment&&(0,Pe.jsxs)("div",{className:"detail-row",children:[(0,Pe.jsx)("strong",{children:"Commentaire retour:"})," ",e.returnComment]})]})]}),(0,Pe.jsxs)("div",{className:"item-actions",children:[!e.returned&&(0,Pe.jsx)("button",{className:"btn btn-sm btn-warning",onClick:()=>b(e._id),children:"\ud83d\udce4 Marquer comme retourn\xe9"}),(0,Pe.jsx)("button",{className:"btn btn-sm btn-danger",onClick:()=>(async e=>{if(window.confirm("Confirmer la suppression de cette tenue ?"))try{(await va.delete("/uniforms/".concat(r,"/").concat(e))).data.success&&(Va.success("\u2705 Tenue supprim\xe9e"),await y(r))}catch(t){console.error("Erreur lors de la suppression:",t),Va.error("\u274c Erreur lors de la suppression")}})(e._id),children:"\ud83d\uddd1\ufe0f Supprimer"})]})]},e._id))})]}):(()=>{const e=p.filter(e=>!e.returned);return(0,Pe.jsxs)("div",{className:"uniform-exit-form",children:[(0,Pe.jsx)("h3",{children:"\ud83d\udce4 Retour des tenues"}),0===e.length?(0,Pe.jsx)("div",{className:"no-pending",children:(0,Pe.jsx)("p",{children:"\u2705 Aucune tenue en attente de retour"})}):(0,Pe.jsxs)("div",{className:"pending-returns",children:[(0,Pe.jsxs)("p",{className:"info-message",children:["\u26a0\ufe0f ",e.length," tenue(s) en attente de retour"]}),(0,Pe.jsx)("div",{className:"uniform-list",children:e.map(e=>(0,Pe.jsxs)("div",{className:"uniform-item",children:[(0,Pe.jsxs)("div",{className:"item-header",children:[(0,Pe.jsx)("span",{className:"item-type",children:j(e.itemType)}),(0,Pe.jsx)("span",{className:"item-status status-pending",children:"\ud83d\udd35 \xc0 retourner"})]}),(0,Pe.jsxs)("div",{className:"item-details",children:[(0,Pe.jsxs)("div",{className:"detail-row",children:[(0,Pe.jsx)("strong",{children:"Taille:"})," ",e.size||"-"]}),(0,Pe.jsxs)("div",{className:"detail-row",children:[(0,Pe.jsx)("strong",{children:"Quantit\xe9:"})," ",e.quantity]}),(0,Pe.jsxs)("div",{className:"detail-row",children:[(0,Pe.jsx)("strong",{children:"Attribu\xe9 le:"})," ",N(e.issueDate)]})]}),(0,Pe.jsx)("div",{className:"item-actions",children:(0,Pe.jsx)("button",{className:"btn btn-primary",onClick:()=>b(e._id),children:"\u2705 Confirmer le retour"})})]},e._id))})]})]})})()})]})]}),(0,Pe.jsx)("div",{className:"uniform-modal-footer",children:(0,Pe.jsx)("button",{className:"btn btn-secondary",onClick:n,children:"Fermer"})})]})}):null},Ja=()=>{const[e,t]=(0,s.useState)([]),[n,a]=(0,s.useState)(!0),[r,l]=(0,s.useState)(!1),[o,i]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(!1),[p,h]=(0,s.useState)(!1),[f,v]=(0,s.useState)(!1),[g,y]=(0,s.useState)(null),[x,b]=(0,s.useState)([]),[j,N]=(0,s.useState)({}),[w,k]=(0,s.useState)(null),S=te();(0,s.useEffect)(()=>{E(),_(),T()},[]);const E=async()=>{try{a(!0);const e=await va.get("/employees");console.log("\ud83d\udcca R\xe9ponse API employ\xe9s:",e.data);let n=null;e.data.success&&e.data.data?n=e.data.data:Array.isArray(e.data)&&(n=e.data),n?(t(n),console.log("\u2705 Employ\xe9s charg\xe9s:",n.length)):(console.error("\u274c Format de donn\xe9es invalide:",e.data),t([]),Va.error("Format de donn\xe9es invalide"))}catch(e){Va.error("Erreur lors du chargement des employ\xe9s"),console.error(e),t([])}finally{a(!1)}},C=()=>{y(null),l(!0)},_=async()=>{try{const e=await va.get("/advance-requests");e.data.success&&b(e.data.data)}catch(e){console.error("Erreur r\xe9cup\xe9ration demandes acompte:",e)}},T=async()=>{try{const e=await va.get("/advance-requests/stats");e.data.success&&N(e.data.data)}catch(e){console.error("Erreur r\xe9cup\xe9ration stats acompte:",e)}},D=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{(await va.put("/advance-requests/".concat(e),Wt({status:t},n))).data.success&&(Va.success("Demande ".concat("approved"===t?"approuv\xe9e":"rejet\xe9e"," avec succ\xe8s")),_(),T(),v(!1),k(null))}catch(a){console.error("Erreur action acompte:",a),Va.error("Erreur lors de l'action")}},A=()=>{v(!1),k(null)},R=e=>e?new Date(e).toLocaleDateString("fr-FR"):"-";return n?(0,Pe.jsx)("div",{className:"card",children:(0,Pe.jsxs)("div",{style:{textAlign:"center",padding:"2rem"},children:[(0,Pe.jsx)("div",{className:"loading"}),(0,Pe.jsx)("p",{children:"Chargement des employ\xe9s..."})]})}):(0,Pe.jsxs)("div",{className:"employees fade-in",children:[(0,Pe.jsxs)("div",{className:"page-header",children:[(0,Pe.jsx)("h2",{children:"Gestion des employ\xe9s"}),(0,Pe.jsxs)("div",{className:"header-actions",children:[(0,Pe.jsxs)("button",{className:"btn btn-info",onClick:()=>{S("/tutors")},children:[(0,Pe.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"btn-icon",children:(0,Pe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),"Tuteurs"]}),(0,Pe.jsxs)("button",{className:"btn btn-purple",onClick:()=>{m(!0)},children:[(0,Pe.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"btn-icon",children:(0,Pe.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"})}),"Entr\xe9e/Sortie"]}),(0,Pe.jsxs)("button",{className:"btn btn-pink",onClick:()=>{h(!0)},children:[(0,Pe.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"btn-icon",children:(0,Pe.jsx)("path",{d:"M16 20H8V10h8v10zm4-16H4v2h2v14h12V6h2V4zm-4 0H8V3h8v1z"})}),"Tenue"]}),(0,Pe.jsxs)("button",{className:"btn btn-success",onClick:()=>{i(!0)},children:[(0,Pe.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"btn-icon",children:(0,Pe.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14h-2v-2h2v2zm0-4h-2V7h2v6z"})}),"D\xe9clarer maladie/absence"]}),(0,Pe.jsxs)("button",{className:"btn btn-warning",onClick:()=>{d(!0)},children:[(0,Pe.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"btn-icon",children:(0,Pe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),"D\xe9clarer retard"]}),(0,Pe.jsxs)("button",{className:"btn btn-primary",onClick:C,children:[(0,Pe.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"btn-icon",children:(0,Pe.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})}),"Ajouter un employ\xe9"]})]})]}),r&&(0,Pe.jsx)("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:e=>{e.target===e.currentTarget&&l(!1)},children:(0,Pe.jsx)("div",{className:"modal-content",style:{backgroundColor:"white",borderRadius:"8px",padding:"2rem",maxWidth:"90vw",maxHeight:"90vh",overflow:"auto",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)"},children:(0,Pe.jsx)(Ba,{employee:g,onSave:async e=>{try{if(console.log("\ud83d\udd0d Donn\xe9es employ\xe9 \xe0 sauvegarder:",e),g)console.log("\ud83d\udcdd Modification employ\xe9 existant:",g._id),await va.put("/employees/".concat(g._id),e),Va.success("Employ\xe9 modifi\xe9 avec succ\xe8s");else{console.log("\u2795 Cr\xe9ation nouvel employ\xe9"),console.log("\ud83d\udce4 Envoi POST vers /employees avec:",e);const t=await va.post("/employees",e);console.log("\u2705 R\xe9ponse API:",t.data),Va.success("Employ\xe9 ajout\xe9 avec succ\xe8s")}E(),l(!1)}catch(r){var t,n,a;console.error("\u274c Erreur d\xe9taill\xe9e:",r),console.error("\u274c Erreur response:",r.response),console.error("\u274c Erreur data:",null===(t=r.response)||void 0===t?void 0:t.data),Va.error("Erreur lors de la sauvegarde: ".concat((null===(n=r.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||r.message))}},onClose:()=>l(!1),employees:e.filter(e=>e.isActive)})})}),(0,Pe.jsx)("div",{className:"card",children:(0,Pe.jsx)("div",{style:{overflowX:"auto"},children:(0,Pe.jsxs)("table",{className:"table",children:[(0,Pe.jsx)("thead",{children:(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("th",{children:"Nom"}),(0,Pe.jsx)("th",{children:"R\xf4le"}),(0,Pe.jsx)("th",{children:"Contrat"}),(0,Pe.jsx)("th",{children:"\xc2ge"}),(0,Pe.jsx)("th",{children:"Volume hebdo"}),(0,Pe.jsx)("th",{children:"Comp\xe9tences"}),(0,Pe.jsx)("th",{children:"Jours formation"}),(0,Pe.jsx)("th",{children:"Arr\xeat maladie"}),(0,Pe.jsx)("th",{children:"Absences"}),(0,Pe.jsx)("th",{children:"Statut"}),(0,Pe.jsx)("th",{children:"Actions"})]})}),(0,Pe.jsx)("tbody",{children:e.map(e=>{return(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{children:e.name}),(0,Pe.jsx)("td",{children:(n=e.role,{vendeuse:"Vendeuse",apprenti:"Apprenti",responsable:"Responsable",manager:"Manager",preparateur:"Pr\xe9parateur",chef_prod:"Chef Prod",boulanger:"Boulanger"}[n]||n)}),(0,Pe.jsx)("td",{children:(t=e.contractType,{CDI:"CDI",Apprentissage:"Contrat d'apprentissage"}[t]||t)}),(0,Pe.jsxs)("td",{children:[e.age," ans",e.isMinor&&(0,Pe.jsx)("span",{style:{color:"#ffc107",fontSize:"0.8rem",marginLeft:"0.5rem",fontWeight:"bold"},children:"(Mineur)"})]}),(0,Pe.jsxs)("td",{children:[e.weeklyHours,"h"]}),(0,Pe.jsx)("td",{children:e.skills&&e.skills.length>0?e.skills.join(", "):"Aucune"}),(0,Pe.jsx)("td",{children:e.trainingDays&&e.trainingDays.length>0?e.trainingDays.join(", "):"-"}),(0,Pe.jsx)("td",{children:(t=>{if(null!==(t=e.sickLeave)&&void 0!==t&&t.isOnSickLeave){var n;if(null!==(n=e.sickLeave)&&void 0!==n&&n.endDate){const t=new Date(e.sickLeave.endDate),n=new Date;if(Math.floor((n-t)/864e5)>8)return"-"}return(0,Pe.jsxs)("span",{style:{color:"#dc3545",fontWeight:"bold"},children:[R(e.sickLeave.startDate)," - ",R(e.sickLeave.endDate)]})}const a=(Array.isArray(e.absences)?e.absences:[]).filter(e=>{if("Arr\xeat maladie"!==e.type)return!1;const t=new Date(e.endDate),n=new Date;return Math.floor((n-t)/864e5)<=8});if(a&&a.length>0){const e=a[0];return(0,Pe.jsxs)("span",{style:{color:"#dc3545",fontWeight:"bold"},children:[R(e.startDate)," - ",R(e.endDate)]})}return"-"})()}),(0,Pe.jsx)("td",{children:(()=>{const t=(Array.isArray(e.absences)?e.absences:[]).filter(e=>"Arr\xeat maladie"!==e.type);return t.length>0?(0,Pe.jsxs)("span",{style:{color:"#ffc107",fontWeight:"bold"},children:[t.length," absence",t.length>1?"s":""]}):"-"})()}),(0,Pe.jsx)("td",{children:(0,Pe.jsx)("span",{style:{color:e.isActive?"#28a745":"#dc3545",fontWeight:"bold"},children:e.isActive?"Actif":"Inactif"})}),(0,Pe.jsxs)("td",{children:[(0,Pe.jsx)("button",{className:"btn btn-secondary",onClick:()=>(e=>{y(e),l(!0)})(e),style:{fontSize:"0.9rem",padding:"0.5rem 1rem"},children:"\u270f\ufe0f Modifier"}),e.email&&(0,Pe.jsx)("button",{className:"btn btn-info",onClick:()=>(async e=>{try{if(!e.email)return void Va.error("Aucun email configur\xe9 pour cet employ\xe9");const t="Envoyer un mot de passe par email \xe0 ".concat(e.name," (").concat(e.email,") ?");if(!window.confirm(t))return;console.log("\ud83d\udd10 Envoi mot de passe pour:",e.name);const n=await fetch("".concat("https://boulangerie-planning-api-4-pbfy.onrender.com/api","/auth/send-password/").concat(e._id),{method:"POST",headers:{"Content-Type":"application/json"}});if(!n.ok){const e=await n.json();throw new Error(e.error||"Erreur backend")}await n.json(),console.log("\u2705 Mot de passe sauvegard\xe9 et email envoy\xe9 via backend"),Va.success("Mot de passe envoy\xe9 \xe0 ".concat(e.email)),console.log("\u2705 Mot de passe envoy\xe9 via backend API")}catch(a){var t,n;console.error("\u274c Erreur envoi mot de passe:",a),Va.error("Erreur: ".concat((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||a.message))}})(e),style:{fontSize:"0.9rem",padding:"0.5rem 1rem",marginLeft:"0.5rem"},title:"Envoyer un mot de passe par email",children:"\ud83d\udd10 Mot de passe"}),e.isActive?(0,Pe.jsx)("button",{className:"btn btn-danger",onClick:()=>(async e=>{if(window.confirm("\xcates-vous s\xfbr de vouloir d\xe9sactiver cet employ\xe9 ?"))try{await va.patch("/employees/".concat(e,"/deactivate")),Va.success("Employ\xe9 d\xe9sactiv\xe9"),E()}catch(t){Va.error("Erreur lors de la d\xe9sactivation")}})(e._id),style:{fontSize:"0.9rem",padding:"0.5rem 1rem",marginLeft:"0.5rem"},children:"\ud83d\udeab D\xe9sactiver"}):(0,Pe.jsx)("button",{className:"btn btn-success",onClick:()=>(async e=>{try{await va.patch("/employees/".concat(e,"/reactivate")),Va.success("Employ\xe9 r\xe9activ\xe9"),E()}catch(t){Va.error("Erreur lors de la r\xe9activation")}})(e._id),style:{fontSize:"0.9rem",padding:"0.5rem 1rem",marginLeft:"0.5rem"},children:"\u2705 R\xe9activer"})]})]},e._id);var t,n})})]})})}),0===e.length&&(0,Pe.jsxs)("div",{className:"card",style:{textAlign:"center",padding:"3rem"},children:[(0,Pe.jsx)("h3",{children:"\ud83d\udc65 Aucun employ\xe9 trouv\xe9"}),(0,Pe.jsx)("p",{children:"Commencez par ajouter votre premier employ\xe9."}),(0,Pe.jsx)("button",{className:"btn btn-primary",onClick:C,children:"Ajouter un employ\xe9"})]}),(0,Pe.jsx)(qa,{show:o,onClose:()=>i(!1),onSave:async e=>{try{console.log("Donn\xe9es d\xe9claration:",e),"maladie"===e.type?(await va.put("/employees/".concat(e.employeeId),{sickLeave:{isOnSickLeave:!0,startDate:e.startDate,endDate:e.endDate}}),Va.success("Arr\xeat maladie d\xe9clar\xe9 avec succ\xe8s")):(await va.put("/employees/".concat(e.employeeId),{absence:{isAbsent:!0,startDate:e.startDate,endDate:e.endDate,reason:e.reason}}),Va.success("Absence d\xe9clar\xe9e avec succ\xe8s")),E(),i(!1)}catch(n){var t;console.error("Erreur d\xe9taill\xe9e:",(null===(t=n.response)||void 0===t?void 0:t.data)||n.message),Va.error("Erreur lors de la d\xe9claration")}},employees:e.filter(e=>e.isActive)}),(0,Pe.jsx)(Ha,{show:c,onClose:()=>d(!1),onSave:async e=>{try{console.log("\ud83d\udd50 Sauvegarde retard:",e),await va.post("/delays",e),Va.success("Retard d\xe9clar\xe9 avec succ\xe8s"),E(),d(!1)}catch(t){console.error("\u274c Erreur sauvegarde retard:",t),Va.error("Erreur lors de la d\xe9claration du retard")}},employees:e.filter(e=>e.isActive)}),(0,Pe.jsx)(Wa,{isOpen:u,onClose:()=>m(!1),employees:e.filter(e=>e.isActive)}),(0,Pe.jsx)($a,{isOpen:p,onClose:()=>h(!1),employees:e.filter(e=>e.isActive)}),f&&(0,Pe.jsx)("div",{className:"modal-overlay",children:(0,Pe.jsxs)("div",{className:"modal-content",children:[(0,Pe.jsxs)("div",{className:"modal-header",children:[(0,Pe.jsx)("h3",{children:"\ud83d\udcb0 Gestion des Demandes d'Acompte"}),(0,Pe.jsx)("button",{className:"close-btn",onClick:A,children:"\xd7"})]}),(0,Pe.jsxs)("div",{className:"modal-body",children:[(0,Pe.jsxs)("div",{className:"advance-stats",children:[(0,Pe.jsxs)("div",{className:"stat-card",children:[(0,Pe.jsx)("div",{className:"stat-number",children:j.pending||0}),(0,Pe.jsx)("div",{className:"stat-label",children:"En attente"})]}),(0,Pe.jsxs)("div",{className:"stat-card",children:[(0,Pe.jsx)("div",{className:"stat-number",children:j.approved||0}),(0,Pe.jsx)("div",{className:"stat-label",children:"Approuv\xe9es"})]}),(0,Pe.jsxs)("div",{className:"stat-card",children:[(0,Pe.jsx)("div",{className:"stat-number",children:j.rejected||0}),(0,Pe.jsx)("div",{className:"stat-label",children:"Rejet\xe9es"})]}),(0,Pe.jsxs)("div",{className:"stat-card",children:[(0,Pe.jsxs)("div",{className:"stat-number",children:[j.totalAmount||0,"\u20ac"]}),(0,Pe.jsx)("div",{className:"stat-label",children:"Montant total"})]})]}),(0,Pe.jsxs)("div",{className:"advance-requests-list",children:[(0,Pe.jsx)("h4",{children:"\ud83d\udccb Demandes en attente"}),x.filter(e=>"pending"===e.status).map(e=>(0,Pe.jsxs)("div",{className:"advance-request-card",children:[(0,Pe.jsxs)("div",{className:"request-info",children:[(0,Pe.jsx)("div",{className:"employee-name",children:e.employeeName}),(0,Pe.jsxs)("div",{className:"request-amount",children:[e.amount,"\u20ac"]}),(0,Pe.jsxs)("div",{className:"request-month",children:["D\xe9duction: ",e.deductionMonth]}),(0,Pe.jsxs)("div",{className:"request-date",children:["Demand\xe9 le: ",new Date(e.createdAt).toLocaleDateString("fr-FR")]}),e.comment&&(0,Pe.jsxs)("div",{className:"request-comment",children:[(0,Pe.jsx)("strong",{children:"Commentaire:"})," ",e.comment]})]}),(0,Pe.jsxs)("div",{className:"request-actions",children:[(0,Pe.jsx)("button",{className:"btn btn-success btn-sm",onClick:()=>D(e._id,"approved"),children:"\u2705 Approuver"}),(0,Pe.jsx)("button",{className:"btn btn-warning btn-sm",onClick:()=>(e=>{k(e),v(!0)})(e),children:"\u270f\ufe0f Modifier"}),(0,Pe.jsx)("button",{className:"btn btn-danger btn-sm",onClick:()=>D(e._id,"rejected"),children:"\u274c Rejeter"})]})]},e._id)),0===x.filter(e=>"pending"===e.status).length&&(0,Pe.jsx)("div",{className:"no-requests",children:(0,Pe.jsx)("p",{children:"Aucune demande d'acompte en attente"})})]}),(0,Pe.jsxs)("div",{className:"advance-history",children:[(0,Pe.jsx)("h4",{children:"\ud83d\udcca Historique"}),x.filter(e=>"pending"!==e.status).slice(0,10).map(e=>(0,Pe.jsx)("div",{className:"advance-history-item",children:(0,Pe.jsxs)("div",{className:"history-info",children:[(0,Pe.jsx)("span",{className:"employee-name",children:e.employeeName}),(0,Pe.jsxs)("span",{className:"amount",children:[e.amount,"\u20ac"]}),(0,Pe.jsx)("span",{className:"status status-".concat(e.status),children:"approved"===e.status?"\u2705 Approuv\xe9":"\u274c Rejet\xe9"}),(0,Pe.jsx)("span",{className:"date",children:new Date(e.updatedAt).toLocaleDateString("fr-FR")})]})},e._id))]})]})]})}),w&&(0,Pe.jsx)("div",{className:"modal-overlay",children:(0,Pe.jsxs)("div",{className:"modal-content",children:[(0,Pe.jsxs)("div",{className:"modal-header",children:[(0,Pe.jsx)("h3",{children:"\u270f\ufe0f Modifier la Demande d'Acompte"}),(0,Pe.jsx)("button",{className:"close-btn",onClick:A,children:"\xd7"})]}),(0,Pe.jsxs)("div",{className:"modal-body",children:[(0,Pe.jsx)("div",{className:"form-group",children:(0,Pe.jsxs)("label",{children:["Employ\xe9: ",w.employeeName]})}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{children:"Montant (\u20ac):"}),(0,Pe.jsx)("input",{type:"number",id:"editAmount",defaultValue:w.amount,min:"1",max:"5000",step:"0.01"})]}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{children:"Mois de d\xe9duction:"}),(0,Pe.jsxs)("select",{id:"editMonth",defaultValue:w.deductionMonth,children:[(0,Pe.jsx)("option",{value:"Janvier 2025",children:"Janvier 2025"}),(0,Pe.jsx)("option",{value:"F\xe9vrier 2025",children:"F\xe9vrier 2025"}),(0,Pe.jsx)("option",{value:"Mars 2025",children:"Mars 2025"}),(0,Pe.jsx)("option",{value:"Avril 2025",children:"Avril 2025"}),(0,Pe.jsx)("option",{value:"Mai 2025",children:"Mai 2025"}),(0,Pe.jsx)("option",{value:"Juin 2025",children:"Juin 2025"}),(0,Pe.jsx)("option",{value:"Juillet 2025",children:"Juillet 2025"}),(0,Pe.jsx)("option",{value:"Ao\xfbt 2025",children:"Ao\xfbt 2025"}),(0,Pe.jsx)("option",{value:"Septembre 2025",children:"Septembre 2025"}),(0,Pe.jsx)("option",{value:"Octobre 2025",children:"Octobre 2025"}),(0,Pe.jsx)("option",{value:"Novembre 2025",children:"Novembre 2025"}),(0,Pe.jsx)("option",{value:"D\xe9cembre 2025",children:"D\xe9cembre 2025"})]})]}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{children:"Commentaire du manager:"}),(0,Pe.jsx)("textarea",{id:"editComment",rows:"3",placeholder:"Commentaire optionnel..."})]}),(0,Pe.jsxs)("div",{className:"modal-actions",children:[(0,Pe.jsx)("button",{className:"btn btn-success",onClick:()=>{const e=document.getElementById("editAmount").value,t=(document.getElementById("editMonth").value,document.getElementById("editComment").value);D(w._id,"approved",{approvedAmount:e,managerComment:t})},children:"\u2705 Approuver avec modifications"}),(0,Pe.jsx)("button",{className:"btn btn-danger",onClick:()=>{const e=document.getElementById("editComment").value;D(w._id,"rejected",{managerComment:e})},children:"\u274c Rejeter"}),(0,Pe.jsx)("button",{className:"btn btn-secondary",onClick:A,children:"Annuler"})]})]})]})})]})},Ka=()=>{const[e,t]=(0,s.useState)(""),[n,a]=(0,s.useState)((new Date).getFullYear()),[r,l]=(0,s.useState)(null),[o,i]=(0,s.useState)(!1),c=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"];(0,s.useEffect)(()=>{const e=new URLSearchParams(window.location.search),n=e.get("week"),r=e.get("year");if(n&&t(n),r)a(parseInt(r));else{const e=new Date,n=d(e);t(n)}},[]),(0,s.useEffect)(()=>{e&&n&&u()},[e,n,u]);const d=e=>{const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),n=t.getUTCDay()||7;t.setUTCDate(t.getUTCDate()+4-n);const a=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t-a)/864e5+1)/7)},u=async()=>{try{i(!0);const t=await va.get("/planning/".concat(e,"/").concat(n));l(t.data)}catch(t){l(null)}finally{i(!1)}},m=e=>e?e.substring(0,5):"",p=(e,t)=>e.filter(e=>{const n=e.schedule.find(e=>e.day===t);return n&&(n.shifts.length>0||n.constraint)}).length,h=(e,t)=>e.reduce((e,n)=>{const a=n.schedule.find(e=>e.day===t);return a&&a.shifts.length>0?e+a.totalHours:e},0);return(0,Pe.jsxs)("div",{className:"planning fade-in",children:[(0,Pe.jsxs)("div",{className:"card",children:[(0,Pe.jsx)("h2",{children:"\ud83c\udfaf G\xe9n\xe9ration du planning"}),(0,Pe.jsxs)("div",{style:{display:"flex",gap:"1rem",alignItems:"center",flexWrap:"wrap"},children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{children:"Semaine :"}),(0,Pe.jsx)("input",{type:"number",value:e,onChange:e=>t(e.target.value),min:"1",max:"53",style:{marginLeft:"0.5rem",padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"}})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{children:"Ann\xe9e :"}),(0,Pe.jsx)("input",{type:"number",value:n,onChange:e=>a(parseInt(e.target.value)),min:"2020",max:"2030",style:{marginLeft:"0.5rem",padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"}})]}),(0,Pe.jsx)("button",{className:"btn btn-primary",onClick:async()=>{if(e&&n){i(!0);try{const t=await va.post("/planning/generate",{weekNumber:parseInt(e),year:parseInt(n),affluenceLevels:{Lundi:2,Mardi:2,Mercredi:2,Jeudi:2,Vendredi:2,Samedi:2,Dimanche:2}});Va.success("Planning g\xe9n\xe9r\xe9 avec succ\xe8s !"),l(t.data.plannings)}catch(t){Va.error("Erreur lors de la g\xe9n\xe9ration du planning"),console.error(t)}finally{i(!1)}}else Va.error("Veuillez saisir le num\xe9ro de semaine et l'ann\xe9e")},disabled:o,children:o?"G\xe9n\xe9ration...":"\ud83c\udfaf G\xe9n\xe9rer le planning"}),(0,Pe.jsx)("button",{className:"btn btn-secondary",onClick:()=>window.location.href="/constraints?week=".concat(e,"&year=").concat(n),children:"\u270f\ufe0f Modifier contraintes"})]})]}),o&&(0,Pe.jsx)("div",{className:"card",children:(0,Pe.jsxs)("div",{style:{textAlign:"center",padding:"2rem"},children:[(0,Pe.jsx)("div",{className:"loading"}),(0,Pe.jsx)("p",{children:"G\xe9n\xe9ration du planning en cours..."})]})}),r&&!o&&(0,Pe.jsxs)("div",{children:[(0,Pe.jsxs)("div",{className:"card",children:[(0,Pe.jsx)("h3",{children:"\ud83d\udcca R\xe9sum\xe9 par jour"}),(0,Pe.jsx)("div",{style:{overflowX:"auto"},children:(0,Pe.jsxs)("table",{className:"table",children:[(0,Pe.jsx)("thead",{children:(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("th",{children:"Jour"}),(0,Pe.jsx)("th",{children:"Personnel pr\xe9sent"}),(0,Pe.jsx)("th",{children:"Total heures"}),(0,Pe.jsx)("th",{children:"Affluence"})]})}),(0,Pe.jsx)("tbody",{children:c.map(e=>(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{style:{fontWeight:"bold"},children:e}),(0,Pe.jsxs)("td",{children:[p(r,e)," personnes"]}),(0,Pe.jsxs)("td",{children:[h(r,e).toFixed(1),"h"]}),(0,Pe.jsx)("td",{children:"2/4"})]},e))})]})})]}),(0,Pe.jsxs)("div",{className:"card",children:[(0,Pe.jsxs)("h3",{children:["\ud83d\udcc5 Planning d\xe9taill\xe9 - Semaine ",e," (",n,")"]}),(0,Pe.jsx)("div",{style:{overflowX:"auto"},children:(0,Pe.jsxs)("table",{className:"table",children:[(0,Pe.jsx)("thead",{children:(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("th",{children:"Employ\xe9"}),c.map((t,a)=>{const r=((e,t,n)=>{const a=new Date(t,0,1),r=Math.floor(7*(e-1))+n,s=new Date(a);return s.setDate(a.getDate()+r),"".concat(s.getDate(),"/").concat(s.getMonth()+1)})(e,n,a);return(0,Pe.jsxs)("th",{children:[t,(0,Pe.jsx)("br",{}),(0,Pe.jsx)("small",{style:{fontSize:"0.8rem",color:"#666"},children:r})]},t)}),(0,Pe.jsx)("th",{children:"Total semaine"}),(0,Pe.jsx)("th",{children:"Actions"})]})}),(0,Pe.jsx)("tbody",{children:r.map(e=>(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{style:{fontWeight:"bold"},children:e.employeeName}),c.map(t=>{const n=e.schedule.find(e=>e.day===t);return(0,Pe.jsx)("td",{children:n&&n.shifts.length>0?(0,Pe.jsxs)("div",{children:[n.shifts.map((e,t)=>{const n=(e=>{const t=parseInt(e.startTime.split(":")[0]);return t<=7?"Ouverture":t>=16?"Fermeture":"Standard"})(e),a=(e=>{switch(e){case"Ouverture":return"#28a745";case"Fermeture":return"#dc3545";default:return"#007bff"}})(n);return(0,Pe.jsxs)("div",{className:"planning-shift",style:{color:a},children:[m(e.startTime)," - ",m(e.endTime),(0,Pe.jsx)("br",{}),(0,Pe.jsx)("small",{style:{color:a},children:n})]},t)}),(0,Pe.jsxs)("small",{style:{color:"#666"},children:[n.totalHours.toFixed(1),"h"]})]}):n&&n.constraint?(0,Pe.jsx)("div",{className:"planning-constraint",style:{color:"MAL"===n.constraint?"#dc3545":"#666",fontWeight:"MAL"===n.constraint?"bold":"normal"},children:n.constraint}):(0,Pe.jsx)("span",{style:{color:"#999"},children:"\u2014"})},t)}),(0,Pe.jsxs)("td",{style:{fontWeight:"bold"},children:[e.schedule.reduce((e,t)=>e+(t.totalHours||0),0).toFixed(1),"h",(0,Pe.jsx)("br",{}),(0,Pe.jsxs)("small",{style:{color:"#666"},children:["/",e.contractedHours,"h"]})]}),(0,Pe.jsxs)("td",{children:["generated"===e.status&&(0,Pe.jsx)("button",{className:"btn btn-primary",onClick:()=>(async e=>{try{await va.patch("/planning/".concat(e,"/realize"),{status:"realized"}),Va.success("Planning marqu\xe9 comme r\xe9alis\xe9"),u()}catch(t){Va.error("Erreur lors de la mise \xe0 jour du statut")}})(e._id),style:{fontSize:"0.8rem",padding:"0.25rem 0.5rem"},children:"\u2705 Marquer comme r\xe9alis\xe9"}),"realized"===e.status&&(0,Pe.jsx)("span",{className:"badge badge-success",children:"\u2705 R\xe9alis\xe9"})]})]},e.employeeId))})]})})]})]})]})},Qa=()=>{const[e,t]=(0,s.useState)(""),[n,a]=(0,s.useState)((new Date).getFullYear()),[r,l]=(0,s.useState)([]),[o,i]=(0,s.useState)({}),[c,d]=(0,s.useState)({Lundi:2,Mardi:2,Mercredi:2,Jeudi:2,Vendredi:2,Samedi:2,Dimanche:2}),[u,m]=(0,s.useState)(!1),[p,h]=(0,s.useState)({}),f=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"],v=[{value:"",label:"Travail normal"},{value:"Ferm\xe9",label:"Ferm\xe9"},{value:"Matin",label:"Matin seulement"},{value:"Apr\xe8s-midi",label:"Apr\xe8s-midi seulement"},{value:"Repos",label:"Repos"},{value:"Formation",label:"Formation (8h)"},{value:"CP",label:"Cong\xe9 pay\xe9"},{value:"MAL",label:"Maladie"},{value:"ABS",label:"Absence"},{value:"RET",label:"Retard"},{value:"F\xe9ri\xe9",label:"Jour f\xe9ri\xe9"},{value:"Management",label:"Management"}];(0,s.useEffect)(()=>{y();const e=new Date,n=g(e);t(n)},[]),(0,s.useEffect)(()=>{if(r.length>0&&Object.keys(o).length>0){const e=Wt({},o);let t=!1;r.forEach(n=>{"Apprentissage"===n.contractType&&n.trainingDays&&n.trainingDays.forEach(a=>{var r;"Formation"!==(null===(r=o[n._id])||void 0===r?void 0:r[a])&&(e[n._id]||(e[n._id]={}),e[n._id][a]="Formation",t=!0)})}),t&&i(e)}},[r,o]);const g=e=>{const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),n=t.getUTCDay()||7;t.setUTCDate(t.getUTCDate()+4-n);const a=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t-a)/864e5+1)/7)},y=async()=>{try{const e=await va.get("/employees");let t=null;e.data.success&&e.data.data?t=e.data.data:Array.isArray(e.data)&&(t=e.data),t?l(t.filter(e=>e.isActive)):(l([]),Va.error("Format de donn\xe9es invalide"))}catch(e){Va.error("Erreur lors du chargement des employ\xe9s"),l([])}},x=async()=>{try{const t=await va.get("/constraints/".concat(e,"/").concat(n)),a={};t.data.forEach(e=>{a[e.employeeId._id]=e.constraints}),i(a)}catch(t){const e={};r.forEach(t=>{e[t._id]={}}),i(e)}};(0,s.useEffect)(()=>{e&&n&&x()},[e,n,x]);const b=(e,t)=>{i(n=>{const a=Wt({},n);return r.forEach(n=>{a[n._id]||(a[n._id]={}),a[n._id][e]=t}),a})},j=async()=>{m(!0);try{const t=r.map(t=>{const a=o[t._id]||{},r={};return f.forEach(e=>{a[e]&&""!==a[e].trim()&&(r[e]=a[e])}),va.post("/constraints",{weekNumber:parseInt(e),year:parseInt(n),employeeId:t._id,constraints:r})});await Promise.all(t),Va.success("Contraintes sauvegard\xe9es avec succ\xe8s")}catch(t){console.error("Erreur d\xe9taill\xe9e:",t),Va.error("Erreur lors de la sauvegarde des contraintes")}finally{m(!1)}},N=e=>({Lundi:1,Mardi:2,Mercredi:3,Jeudi:4,Vendredi:5,Samedi:6,Dimanche:0}[e]||1);return(0,Pe.jsxs)("div",{className:"constraints fade-in",children:[(0,Pe.jsx)("h2",{children:"Contraintes hebdomadaires"}),(0,Pe.jsx)("div",{className:"card",children:(0,Pe.jsxs)("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem",alignItems:"center"},children:[(0,Pe.jsxs)("div",{className:"form-group",style:{margin:0},children:[(0,Pe.jsx)("label",{children:"Semaine n\xb0"}),(0,Pe.jsx)("input",{type:"number",value:e,onChange:e=>t(e.target.value),min:"1",max:"52",style:{width:"80px"}})]}),(0,Pe.jsxs)("div",{className:"form-group",style:{margin:0},children:[(0,Pe.jsx)("label",{children:"Ann\xe9e"}),(0,Pe.jsx)("input",{type:"number",value:n,onChange:e=>a(e.target.value),min:"2020",max:"2030",style:{width:"100px"}})]}),(0,Pe.jsx)("button",{className:"btn btn-primary",onClick:j,disabled:u,children:u?"Sauvegarde...":"\ud83d\udcbe Sauvegarder"})]})}),(0,Pe.jsxs)("div",{className:"card",children:[(0,Pe.jsx)("h3",{children:"\ud83c\udf21\ufe0f Niveaux d'affluence"}),(0,Pe.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"1rem"},children:f.map(e=>{return(0,Pe.jsxs)("div",{className:"form-group",style:{margin:0},children:[(0,Pe.jsx)("label",{children:e}),(0,Pe.jsxs)("select",{value:c[e],onChange:t=>((e,t)=>{d(n=>Wt(Wt({},n),{},{[e]:parseInt(t)}))})(e,t.target.value),children:[(0,Pe.jsx)("option",{value:0,children:"Faible (0)"}),(0,Pe.jsx)("option",{value:1,children:"Moyen-faible (1)"}),(0,Pe.jsx)("option",{value:2,children:"Normal (2)"}),(0,Pe.jsx)("option",{value:3,children:"Moyen-fort (3)"}),(0,Pe.jsx)("option",{value:4,children:"Tr\xe8s fort (4)"})]}),(0,Pe.jsx)("small",{style:{color:"#666",display:"block",marginTop:"0.25rem"},children:(t=c[e],{0:"Faible",1:"Moyen-faible",2:"Normal",3:"Moyen-fort",4:"Tr\xe8s fort"}[t]||"Normal")})]},e);var t})})]}),(0,Pe.jsxs)("div",{className:"card",children:[(0,Pe.jsx)("h3",{children:"\ud83d\udc65 Contraintes individuelles"}),(0,Pe.jsx)("div",{style:{overflowX:"auto"},children:(0,Pe.jsxs)("table",{className:"table",children:[(0,Pe.jsx)("thead",{children:(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("th",{children:"Employ\xe9"}),f.map(e=>(0,Pe.jsxs)("th",{children:[e,(0,Pe.jsx)("br",{}),(0,Pe.jsx)("button",{className:"btn btn-secondary",onClick:()=>b(e,"Ferm\xe9"),style:{fontSize:"0.7rem",padding:"0.25rem 0.5rem",marginTop:"0.25rem"},title:"Fermer ".concat(e," pour tous"),children:"Fermer"}),(0,Pe.jsx)("br",{}),(0,Pe.jsx)("button",{className:"btn btn-warning",onClick:()=>b(e,"F\xe9ri\xe9"),style:{fontSize:"0.7rem",padding:"0.25rem 0.5rem",marginTop:"0.25rem"},title:"Enregistrer travail jour f\xe9ri\xe9 pour ".concat(e),children:"Jour f\xe9ri\xe9"})]},e))]})}),(0,Pe.jsx)("tbody",{children:r.map(t=>(0,Pe.jsxs)("tr",{children:[(0,Pe.jsxs)("td",{style:{fontWeight:"bold"},children:[t.name,(0,Pe.jsx)("br",{}),(0,Pe.jsxs)("small",{style:{color:"#666"},children:[t.role," \u2022 ",t.weeklyHours,"h"]}),(0,Pe.jsx)("br",{}),(0,Pe.jsx)("button",{className:"btn btn-danger",onClick:()=>{return e=t._id,i(t=>{const n=Wt({},t);return n[e]||(n[e]={}),f.forEach(t=>{n[e][t]="MAL"}),n}),void Va.success("Maladie appliqu\xe9e pour toute la semaine");var e},style:{fontSize:"0.7rem",padding:"0.25rem 0.5rem",marginTop:"0.25rem"},title:"D\xe9clarer maladie pour toute la semaine",children:"\ud83c\udfe5 Maladie"}),(0,Pe.jsx)("br",{}),(0,Pe.jsx)("button",{className:"btn btn-info ".concat(p[t._id]?"active":""),onClick:()=>{return e=t._id,h(t=>Wt(Wt({},t),{},{[e]:!t[e]})),void i(t=>{const n=Wt({},t);if(n[e]||(n[e]={}),p[e])f.forEach(t=>{n[e][t]=""}),Va.success("6j/7 d\xe9sactiv\xe9 pour cet employ\xe9");else{f.forEach(t=>{n[e][t]=""});const t="Dimanche";n[e][t]="Repos",Va.success("6 jours de travail appliqu\xe9s (1 jour de repos)")}return n});var e},style:{fontSize:"0.7rem",padding:"0.25rem 0.5rem",marginTop:"0.25rem",backgroundColor:p[t._id]?"#17a2b8":"#6c757d",color:"white"},title:p[t._id]?"D\xe9sactiver 6j/7":"Appliquer 6 jours de travail (1 jour de repos)",children:p[t._id]?"\u2705 6j/7":"\ud83d\udcc5 6j/7"})]}),f.map(a=>{var r,s;return(0,Pe.jsx)("td",{children:null!==(r=t.sickLeave)&&void 0!==r&&r.isOnSickLeave&&new Date(t.sickLeave.startDate)<=new Date("".concat(n,"-").concat(String(parseInt(e)+1).padStart(2,"0"),"-").concat(N(a)))&&new Date(t.sickLeave.endDate)>=new Date("".concat(n,"-").concat(String(parseInt(e)+1).padStart(2,"0"),"-").concat(N(a)))?(0,Pe.jsx)("div",{style:{backgroundColor:"#f8d7da",color:"#721c24",padding:"0.5rem",borderRadius:"4px",textAlign:"center",fontWeight:"bold"},children:"\ud83c\udfe5 Maladie"}):(0,Pe.jsx)("select",{value:(null===(s=o[t._id])||void 0===s?void 0:s[a])||"",onChange:e=>((e,t,n)=>{i(a=>Wt(Wt({},a),{},{[e]:Wt(Wt({},a[e]),{},{[t]:n})}))})(t._id,a,e.target.value),style:{width:"100%",fontSize:"0.9rem"},children:v.map(e=>(0,Pe.jsx)("option",{value:e.value,children:e.label},e.value))})},a)})]},t._id))})]})})]}),(0,Pe.jsxs)("div",{className:"card",children:[(0,Pe.jsx)("h3",{children:"\ud83d\udccb Actions"}),(0,Pe.jsxs)("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[(0,Pe.jsx)("button",{className:"btn btn-success",onClick:async()=>{try{await j(),window.location.href="/planning?week=".concat(e,"&year=").concat(n)}catch(t){Va.error("Erreur lors de la sauvegarde des contraintes")}},disabled:u,children:u?"\u23f3 Sauvegarde...":"\ud83c\udfaf G\xe9n\xe9rer le planning"}),(0,Pe.jsx)("button",{className:"btn btn-secondary",onClick:()=>{const r=parseInt(e)+1;t(r>52?1:r),r>52&&a(n+1)},children:"Semaine suivante"}),(0,Pe.jsx)("button",{className:"btn btn-secondary",onClick:()=>{const r=parseInt(e)-1;t(r<1?52:r),r<1&&a(n-1)},children:"Semaine pr\xe9c\xe9dente"})]})]})]})},Ga=()=>{const[e,t]=(0,s.useState)([]),[n,a]=(0,s.useState)(!0),[r,l]=(0,s.useState)([]);(0,s.useEffect)(()=>{o(),i()},[]);const o=async()=>{try{a(!0);const e=await va.get("/employees");let n=null;e.data.success&&e.data.data?n=e.data.data:Array.isArray(e.data)&&(n=e.data),n?t(n):(t([]),console.error("Format de donn\xe9es invalide:",e.data))}catch(e){console.error("Erreur lors du chargement du tableau de bord:",e),t([])}finally{a(!1)}},i=async()=>{try{const e=await va.get("/onboarding-offboarding/pending-obligations");e.data.success&&e.data.data&&l(e.data.data)}catch(e){console.error("Erreur lors du chargement des obligations l\xe9gales:",e),l([])}},c=e.filter(e=>{var t,n;if(null===(t=e.sickLeave)||void 0===t||!t.isOnSickLeave)return!1;if(null!==(n=e.sickLeave)&&void 0!==n&&n.endDate){const t=new Date(e.sickLeave.endDate),n=new Date;if(Math.floor((n-t)/864e5)>8)return!1}return!0}),d=e.filter(e=>{var t,n;if(null===(t=e.vacation)||void 0===t||!t.isOnVacation)return!1;if(null!==(n=e.vacation)&&void 0!==n&&n.startDate){const t=new Date(e.vacation.startDate),n=new Date;if(Math.floor((t-n)/864e5)>8)return!1}return!0}),u=e.filter(e=>e.age<18),m=e.filter(e=>"Apprentissage"===e.contractType),p=e=>e?new Date(e).toLocaleDateString("fr-FR"):"-",h=e=>{if(!e)return 0;const t=new Date(e)-new Date;return Math.ceil(t/864e5)};return n?(0,Pe.jsx)("div",{className:"card",children:(0,Pe.jsxs)("div",{style:{textAlign:"center",padding:"2rem"},children:[(0,Pe.jsx)("div",{className:"loading"}),(0,Pe.jsx)("p",{children:"Chargement du tableau de bord..."})]})}):(0,Pe.jsxs)("div",{className:"dashboard fade-in",children:[(0,Pe.jsx)("h2",{children:"\ud83d\udcca Tableau de bord"}),(0,Pe.jsxs)("div",{className:"card",style:{marginBottom:"2rem"},children:[(0,Pe.jsx)("h3",{children:"\ud83c\udfe5 R\xe9capitulatif : Arr\xeats maladie"}),0===c.length?(0,Pe.jsx)("p",{children:"Aucun employ\xe9 en arr\xeat maladie"}):(0,Pe.jsx)("div",{style:{overflowX:"auto"},children:(0,Pe.jsxs)("table",{className:"table",children:[(0,Pe.jsx)("thead",{children:(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("th",{children:"Nom"}),(0,Pe.jsx)("th",{children:"Date de reprise"}),(0,Pe.jsx)("th",{children:"Jours avant reprise"})]})}),(0,Pe.jsx)("tbody",{children:c.map(e=>{var t;return(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{children:e.name}),(0,Pe.jsx)("td",{children:p(null===(t=e.sickLeave)||void 0===t?void 0:t.endDate)}),(0,Pe.jsx)("td",{children:(t=>{const n=h(null===(t=e.sickLeave)||void 0===t?void 0:t.endDate);return(0,Pe.jsx)("span",{style:{color:n>0?"#28a745":"#dc3545",fontWeight:"bold"},children:n>0?"".concat(n," jours"):"Repris"})})()})]},e._id)})})]})})]}),(0,Pe.jsxs)("div",{className:"card",style:{marginBottom:"2rem"},children:[(0,Pe.jsx)("h3",{children:"\ud83c\udfd6\ufe0f R\xe9capitulatif : Cong\xe9s"}),0===d.length?(0,Pe.jsx)("p",{children:"Aucun employ\xe9 en cong\xe9s dans les 8 prochains jours"}):(0,Pe.jsx)("div",{style:{overflowX:"auto"},children:(0,Pe.jsxs)("table",{className:"table",children:[(0,Pe.jsx)("thead",{children:(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("th",{children:"Nom"}),(0,Pe.jsx)("th",{children:"Date de d\xe9but"}),(0,Pe.jsx)("th",{children:"Date de fin"}),(0,Pe.jsx)("th",{children:"Jours avant cong\xe9s"})]})}),(0,Pe.jsx)("tbody",{children:d.map(e=>{var t,n;return(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{children:e.name}),(0,Pe.jsx)("td",{children:p(null===(t=e.vacation)||void 0===t?void 0:t.startDate)}),(0,Pe.jsx)("td",{children:p(null===(n=e.vacation)||void 0===n?void 0:n.endDate)}),(0,Pe.jsx)("td",{children:(t=>{const n=h(null===(t=e.vacation)||void 0===t?void 0:t.startDate);return(0,Pe.jsx)("span",{style:{color:n>0?"#ffc107":"#28a745",fontWeight:"bold"},children:n>0?"".concat(n," jours"):"En cong\xe9s"})})()})]},e._id)})})]})})]}),(0,Pe.jsxs)("div",{className:"card",style:{marginBottom:"2rem"},children:[(0,Pe.jsx)("h3",{children:"\ud83c\udf82 \xc9tat \xc2ge : Salari\xe9s mineurs"}),0===u.length?(0,Pe.jsx)("p",{children:"Aucun employ\xe9 mineur"}):(0,Pe.jsx)("div",{style:{overflowX:"auto"},children:(0,Pe.jsxs)("table",{className:"table",children:[(0,Pe.jsx)("thead",{children:(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("th",{children:"Nom"}),(0,Pe.jsx)("th",{children:"Date des 18 ans"}),(0,Pe.jsx)("th",{children:"Jours avant les 18 ans"})]})}),(0,Pe.jsx)("tbody",{children:u.map(e=>(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{children:e.name}),(0,Pe.jsx)("td",{children:(()=>{const t=18-e.age,n=new Date,a=new Date(n.getFullYear()+t,n.getMonth(),n.getDate());return p(a)})()}),(0,Pe.jsx)("td",{children:(()=>{const t=18-e.age,n=new Date,a=new Date(n.getFullYear()+t,n.getMonth(),n.getDate()),r=h(a);return(0,Pe.jsx)("span",{style:{color:r>0?"#ffc107":"#28a745",fontWeight:"bold"},children:r>0?"".concat(r," jours"):"Majeur"})})()})]},e._id))})]})})]}),(0,Pe.jsxs)("div",{className:"card",children:[(0,Pe.jsx)("h3",{children:"\ud83d\udccb \xc9tat Contrat : Apprentis"}),0===m.length?(0,Pe.jsx)("p",{children:"Aucun apprenti"}):(0,Pe.jsx)("div",{style:{overflowX:"auto"},children:(0,Pe.jsxs)("table",{className:"table",children:[(0,Pe.jsx)("thead",{children:(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("th",{children:"Nom"}),(0,Pe.jsx)("th",{children:"Date de fin de contrat"}),(0,Pe.jsx)("th",{children:"Jours avant fin de contrat"})]})}),(0,Pe.jsx)("tbody",{children:m.map(e=>(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{children:e.name}),(0,Pe.jsx)("td",{children:p(e.contractEndDate)}),(0,Pe.jsx)("td",{children:(()=>{const t=h(e.contractEndDate);return(0,Pe.jsx)("span",{style:{color:t>30?"#28a745":t>7?"#ffc107":"#dc3545",fontWeight:"bold"},children:t>0?"".concat(t," jours"):"Termin\xe9"})})()})]},e._id))})]})})]}),(0,Pe.jsxs)("div",{className:"card",style:{marginBottom:"2rem"},children:[(0,Pe.jsx)("h3",{children:"\u2696\ufe0f Obligations L\xe9gales"}),0===r.length?(0,Pe.jsxs)("div",{style:{textAlign:"center",padding:"2rem",backgroundColor:"#d4edda",color:"#155724",borderRadius:"8px",border:"1px solid #c3e6cb"},children:[(0,Pe.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:"48px",height:"48px",marginBottom:"1rem"},children:(0,Pe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),(0,Pe.jsx)("p",{style:{fontWeight:"bold",fontSize:"1.1rem"},children:"\u2705 Toutes les obligations l\xe9gales sont \xe0 jour !"})]}):(0,Pe.jsxs)("div",{style:{overflowX:"auto"},children:[(0,Pe.jsx)("div",{style:{padding:"0.75rem",backgroundColor:"#fff3cd",color:"#856404",borderRadius:"8px",marginBottom:"1rem",border:"1px solid #ffeaa7"},children:(0,Pe.jsxs)("strong",{children:["\u26a0\ufe0f ",r.length," d\xe9marche(s) administrative(s) en attente"]})}),(0,Pe.jsxs)("table",{className:"table",children:[(0,Pe.jsx)("thead",{children:(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("th",{children:"Employ\xe9"}),(0,Pe.jsx)("th",{children:"D\xe9marche"}),(0,Pe.jsx)("th",{children:"Commentaire"})]})}),(0,Pe.jsx)("tbody",{children:r.map((e,t)=>(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{style:{fontWeight:"bold"},children:e.employeeName}),(0,Pe.jsx)("td",{children:(0,Pe.jsx)("span",{style:{padding:"0.25rem 0.75rem",backgroundColor:"#f8d7da",color:"#721c24",borderRadius:"4px",fontSize:"0.9rem",fontWeight:"500"},children:e.taskLabel})}),(0,Pe.jsx)("td",{style:{color:"#6c757d",fontStyle:"italic"},children:e.comment||"-"})]},t))})]})]})]}),(0,Pe.jsxs)("div",{className:"card",children:[(0,Pe.jsx)("h3",{children:"\ud83d\udcc8 Statistiques g\xe9n\xe9rales"}),(0,Pe.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[(0,Pe.jsxs)("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[(0,Pe.jsx)("h4",{children:e.length}),(0,Pe.jsx)("p",{children:"Total employ\xe9s"})]}),(0,Pe.jsxs)("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[(0,Pe.jsx)("h4",{children:e.filter(e=>e.isActive).length}),(0,Pe.jsx)("p",{children:"Employ\xe9s actifs"})]}),(0,Pe.jsxs)("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[(0,Pe.jsx)("h4",{children:c.length}),(0,Pe.jsx)("p",{children:"En arr\xeat maladie"})]}),(0,Pe.jsxs)("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[(0,Pe.jsx)("h4",{children:d.length}),(0,Pe.jsx)("p",{children:"En cong\xe9s (8j)"})]}),(0,Pe.jsxs)("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[(0,Pe.jsx)("h4",{children:u.length}),(0,Pe.jsx)("p",{children:"Employ\xe9s mineurs"})]}),(0,Pe.jsxs)("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[(0,Pe.jsx)("h4",{children:m.length}),(0,Pe.jsx)("p",{children:"Apprentis"})]}),(0,Pe.jsxs)("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"#fff3cd",borderRadius:"8px",border:"2px solid #ffc107"},children:[(0,Pe.jsx)("h4",{style:{color:"#856404"},children:r.length}),(0,Pe.jsx)("p",{style:{color:"#856404"},children:"Obligations l\xe9gales"})]})]})]})]})},Ya=()=>{const[e,t]=(0,s.useState)([]),[n,a]=(0,s.useState)({}),[r,l]=(0,s.useState)(""),[o,i]=(0,s.useState)((new Date).getFullYear()),[c,d]=(0,s.useState)({}),[u,m]=(0,s.useState)(!1);(0,s.useEffect)(()=>{const e=new Date,t=String(e.getMonth()+1).padStart(2,"0"),n=e.getFullYear();l(t),i(n)},[]),(0,s.useEffect)(()=>{p()},[]);const p=async()=>{try{const e=await fetch("https://boulangerie-planning-api-4-pbfy.onrender.com/api/employees");if(e.ok){const n=await e.json();let r=[];Array.isArray(n)?r=n:n.success&&Array.isArray(n.data)?r=n.data:n.employees&&Array.isArray(n.employees)&&(r=n.employees),t(r),console.log("\u2705 Employ\xe9s charg\xe9s pour SalesStats:",r.length,r);const s={};r.forEach(e=>{s[e._id]={caNetHt:0,nbClients:0,panierMoyen:0,nbMenus:0,nbCartesFid:0,nbAvisPositifs:0,nbAvisNegatifs:0}}),a(s)}}catch(e){console.error("Erreur lors du chargement des employ\xe9s:",e)}},h=(e,t,n)=>{a(a=>Wt(Wt({},a),{},{[e]:Wt(Wt({},a[e]),{},{[t]:parseFloat(n)||0})}))},f=e=>e.caNetHt+500*e.nbCartesFid+100*e.nbAvisPositifs-300*e.nbAvisNegatifs,v=(0,s.useCallback)(async()=>{try{const t=await fetch("https://boulangerie-planning-api-4-pbfy.onrender.com/api/sales-stats/period/".concat(r,"/").concat(o));if(t.ok){const n=await t.json();if(n.success&&n.data&&n.data.salesData){const t={},r={};e.forEach(e=>{r[e.name]=e._id}),Object.keys(n.data.salesData).forEach(e=>{const a=n.data.salesData[e],s=a.employeeName,l=r[s];l&&(t[l]={caNetHt:a.caNetHt||0,nbClients:a.nbClients||0,panierMoyen:a.panierMoyen||0,nbMenus:a.nbMenus||0,nbCartesFid:a.nbCartesFid||0,nbAvisPositifs:a.nbAvisPositifs||0,nbAvisNegatifs:a.nbAvisNegatifs||0})}),a(t),console.log("\u2705 Donn\xe9es recharg\xe9es par nom:",t)}}}catch(t){console.error("Erreur lors du chargement des donn\xe9es de la p\xe9riode:",t)}},[r,o]);(0,s.useEffect)(()=>{e.length>0&&r&&o&&v()},[e,r,o,v]);const g=(0,s.useCallback)(async()=>{try{const e=await fetch("https://boulangerie-planning-api-4-pbfy.onrender.com/api/sales-stats/monthly/".concat(o));if(e.ok){const t=await e.json();t.success&&d(t.data||{})}}catch(e){console.error("Erreur lors du chargement des stats mensuelles:",e)}},[o]);(0,s.useEffect)(()=>{o&&g()},[o,g]),(0,s.useEffect)(()=>{r&&o&&(a({}),v())},[r,o,v]);const y=e=>["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xfbt","Septembre","Octobre","Novembre","D\xe9cembre"][parseInt(e)-1],x=()=>Array.from({length:8},(e,t)=>{const n=(new Date).getFullYear()-3+t;return(0,Pe.jsx)("option",{value:n,children:n},n)});return(0,Pe.jsxs)("div",{className:"sales-stats-container",children:[(0,Pe.jsxs)("div",{className:"sales-stats-header",children:[(0,Pe.jsx)("h1",{children:"\ud83d\udcca Statistiques de Vente"}),(0,Pe.jsxs)("div",{className:"period-selector",children:[(0,Pe.jsx)("select",{value:r,onChange:e=>l(e.target.value),className:"month-select",children:Array.from({length:12},(e,t)=>(0,Pe.jsx)("option",{value:String(t+1).padStart(2,"0"),children:y(String(t+1).padStart(2,"0"))},t+1))}),(0,Pe.jsx)("select",{value:o,onChange:e=>i(parseInt(e.target.value)),className:"year-select",children:x()}),(0,Pe.jsx)("button",{onClick:()=>{a({}),v()},className:"refresh-button",title:"Actualiser les donn\xe9es du mois s\xe9lectionn\xe9",children:"\ud83d\udd04 Actualiser"})]})]}),(0,Pe.jsxs)("div",{className:"sales-stats-content",children:[(0,Pe.jsxs)("div",{className:"sales-form-section",children:[(0,Pe.jsx)("h2",{children:"\ud83d\udcdd Saisie des donn\xe9es mensuelles"}),(0,Pe.jsxs)("div",{className:"sales-form",children:[(0,Pe.jsxs)("table",{className:"sales-form-table",children:[(0,Pe.jsx)("thead",{children:(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("th",{children:"Vendeuse"}),(0,Pe.jsx)("th",{children:"CA Net HT"}),(0,Pe.jsx)("th",{children:"Nb Clients"}),(0,Pe.jsx)("th",{children:"Panier Moyen"}),(0,Pe.jsx)("th",{children:"Nb Menus"}),(0,Pe.jsx)("th",{children:"Nb Cartes Fid"}),(0,Pe.jsx)("th",{children:"Nb Avis +"}),(0,Pe.jsx)("th",{children:"Nb Avis -"}),(0,Pe.jsx)("th",{children:"Score"}),(0,Pe.jsx)("th",{children:"Actions"})]})}),(0,Pe.jsx)("tbody",{children:(console.log("\ud83d\udd0d Rendu tableau SalesStats - employ\xe9s:",e.length,e),Array.isArray(e)&&e.length>0?e.map(e=>{var t,r,s,l,o,i,c;return(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{className:"employee-name",children:e.name}),(0,Pe.jsx)("td",{children:(0,Pe.jsx)("input",{type:"number",value:(null===(t=n[e._id])||void 0===t?void 0:t.caNetHt)||0,onChange:t=>h(e._id,"caNetHt",t.target.value),placeholder:"0",min:"0",step:"0.01"})}),(0,Pe.jsx)("td",{children:(0,Pe.jsx)("input",{type:"number",value:(null===(r=n[e._id])||void 0===r?void 0:r.nbClients)||0,onChange:t=>h(e._id,"nbClients",t.target.value),placeholder:"0",min:"0"})}),(0,Pe.jsx)("td",{children:(0,Pe.jsx)("input",{type:"number",value:(null===(s=n[e._id])||void 0===s?void 0:s.panierMoyen)||0,onChange:t=>h(e._id,"panierMoyen",t.target.value),placeholder:"0",min:"0",step:"0.01"})}),(0,Pe.jsx)("td",{children:(0,Pe.jsx)("input",{type:"number",value:(null===(l=n[e._id])||void 0===l?void 0:l.nbMenus)||0,onChange:t=>h(e._id,"nbMenus",t.target.value),placeholder:"0",min:"0"})}),(0,Pe.jsx)("td",{children:(0,Pe.jsx)("input",{type:"number",value:(null===(o=n[e._id])||void 0===o?void 0:o.nbCartesFid)||0,onChange:t=>h(e._id,"nbCartesFid",t.target.value),placeholder:"0",min:"0"})}),(0,Pe.jsx)("td",{children:(0,Pe.jsx)("input",{type:"number",value:(null===(i=n[e._id])||void 0===i?void 0:i.nbAvisPositifs)||0,onChange:t=>h(e._id,"nbAvisPositifs",t.target.value),placeholder:"0",min:"0"})}),(0,Pe.jsx)("td",{children:(0,Pe.jsx)("input",{type:"number",value:(null===(c=n[e._id])||void 0===c?void 0:c.nbAvisNegatifs)||0,onChange:t=>h(e._id,"nbAvisNegatifs",t.target.value),placeholder:"0",min:"0"})}),(0,Pe.jsx)("td",{className:"score-cell",children:(0,Pe.jsx)("strong",{children:f(n[e._id]||{}).toFixed(0)})}),(0,Pe.jsx)("td",{className:"actions-cell",children:(0,Pe.jsx)("button",{onClick:()=>{if(window.confirm("\u26a0\ufe0f \xcates-vous s\xfbr de vouloir effacer les donn\xe9es de ".concat(e.name," pour ce mois ?"))){const t=Wt({},n);t[e._id]={caNetHt:0,nbClients:0,panierMoyen:0,nbMenus:0,nbCartesFid:0,nbAvisPositifs:0,nbAvisNegatifs:0},a(t)}},className:"delete-employee-button",title:"Effacer les donn\xe9es de ".concat(e.name),children:"\ud83d\uddd1\ufe0f"})})]},e._id)}):(0,Pe.jsx)("tr",{children:(0,Pe.jsx)("td",{colSpan:"10",style:{textAlign:"center",padding:"20px"},children:"Aucun employ\xe9 trouv\xe9"})}))})]}),(0,Pe.jsx)("div",{className:"form-actions",children:(0,Pe.jsx)("button",{onClick:async()=>{m(!0);try{const e={month:parseInt(r),year:o,salesData:n},t=await fetch("https://boulangerie-planning-api-4-pbfy.onrender.com/api/sales-stats",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok){const e=await t.json();console.log("\u2705 Donn\xe9es sauvegard\xe9es:",e),await v(),await g(),alert("Donn\xe9es de vente sauvegard\xe9es avec succ\xe8s !")}else{const e=await t.json();console.error("\u274c Erreur API:",e),alert("Erreur lors de la sauvegarde: ".concat(e.error||"Erreur inconnue"))}}catch(e){console.error("Erreur lors de la sauvegarde:",e),alert("Erreur lors de la sauvegarde")}finally{m(!1)}},disabled:u,className:"save-button",children:u?"\ud83d\udcbe Sauvegarde...":"\ud83d\udcbe Sauvegarder"})})]})]}),(0,Pe.jsxs)("div",{className:"ranking-section",children:[(0,Pe.jsx)("h2",{children:"\ud83c\udfc6 Classement des Vendeuses"}),(0,Pe.jsx)("div",{className:"ranking-header",children:(0,Pe.jsxs)("div",{className:"ranking-selectors",children:[(0,Pe.jsxs)("div",{className:"selector-group",children:[(0,Pe.jsx)("label",{children:"Mois :"}),(0,Pe.jsx)("select",{value:r,onChange:e=>l(e.target.value),className:"month-select-ranking",children:Array.from({length:12},(e,t)=>(0,Pe.jsx)("option",{value:String(t+1).padStart(2,"0"),children:y(String(t+1).padStart(2,"0"))},t+1))})]}),(0,Pe.jsxs)("div",{className:"selector-group",children:[(0,Pe.jsx)("label",{children:"Ann\xe9e :"}),(0,Pe.jsx)("select",{value:o,onChange:e=>i(parseInt(e.target.value)),className:"year-select-ranking",children:x()})]})]})}),(0,Pe.jsxs)("div",{className:"ranking-table",children:[(0,Pe.jsxs)("table",{children:[(0,Pe.jsx)("thead",{children:(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("th",{children:"Rang"}),(0,Pe.jsx)("th",{children:"Vendeuse"}),(0,Pe.jsx)("th",{children:"Score"}),(0,Pe.jsx)("th",{children:"CA Net HT"}),(0,Pe.jsx)("th",{children:"Cartes Fid"}),(0,Pe.jsx)("th",{children:"Avis +"}),(0,Pe.jsx)("th",{children:"Avis -"})]})}),(0,Pe.jsx)("tbody",{children:e.map(e=>{const t=n[e._id]||{};return{emp:e,data:t,score:f(t)}}).sort((e,t)=>t.score-e.score).map((e,t)=>{let{emp:n,data:a,score:r}=e;return(0,Pe.jsxs)("tr",{className:t<3?"top-three":"",children:[(0,Pe.jsxs)("td",{className:"rank",children:["#",t+1]}),(0,Pe.jsx)("td",{className:"employee-name",children:n.name}),(0,Pe.jsx)("td",{className:"score",children:(0,Pe.jsx)("strong",{children:r.toFixed(0)})}),(0,Pe.jsxs)("td",{children:[a.caNetHt||0,"\u20ac"]}),(0,Pe.jsx)("td",{children:a.nbCartesFid||0}),(0,Pe.jsx)("td",{className:"positive",children:a.nbAvisPositifs||0}),(0,Pe.jsx)("td",{className:"negative",children:a.nbAvisNegatifs||0})]},n._id)})})]}),(0,Pe.jsxs)("div",{className:"annual-total",children:[(0,Pe.jsxs)("h3",{children:["\ud83d\udcca Total Ann\xe9e ",o]}),(0,Pe.jsxs)("div",{className:"total-stats",children:[(0,Pe.jsxs)("div",{className:"total-item",children:[(0,Pe.jsx)("span",{className:"total-label",children:"CA Total :"}),(0,Pe.jsxs)("span",{className:"total-value",children:[e.reduce((e,t)=>{var a;return e+((null===(a=n[t._id])||void 0===a?void 0:a.caNetHt)||0)},0).toFixed(2),"\u20ac"]})]}),(0,Pe.jsxs)("div",{className:"total-item",children:[(0,Pe.jsx)("span",{className:"total-label",children:"Cartes Fid Total :"}),(0,Pe.jsx)("span",{className:"total-value",children:e.reduce((e,t)=>{var a;return e+((null===(a=n[t._id])||void 0===a?void 0:a.nbCartesFid)||0)},0)})]}),(0,Pe.jsxs)("div",{className:"total-item",children:[(0,Pe.jsx)("span",{className:"total-label",children:"Avis + Total :"}),(0,Pe.jsx)("span",{className:"total-value positive",children:e.reduce((e,t)=>{var a;return e+((null===(a=n[t._id])||void 0===a?void 0:a.nbAvisPositifs)||0)},0)})]}),(0,Pe.jsxs)("div",{className:"total-item",children:[(0,Pe.jsx)("span",{className:"total-label",children:"Avis - Total :"}),(0,Pe.jsx)("span",{className:"total-value negative",children:e.reduce((e,t)=>{var a;return e+((null===(a=n[t._id])||void 0===a?void 0:a.nbAvisNegatifs)||0)},0)})]})]})]})]})]}),(0,Pe.jsxs)("div",{className:"monthly-comparison-section",children:[(0,Pe.jsx)("h2",{children:"\ud83d\udcc8 Comparaison sur 12 mois"}),(0,Pe.jsx)("div",{className:"monthly-comparison-header",children:(0,Pe.jsxs)("div",{className:"year-selector",children:[(0,Pe.jsx)("label",{children:"Ann\xe9e :"}),(0,Pe.jsx)("select",{value:o,onChange:e=>i(parseInt(e.target.value)),className:"year-select-compare",children:x()})]})}),(0,Pe.jsx)("div",{className:"monthly-stats",children:(0,Pe.jsxs)("table",{children:[(0,Pe.jsx)("thead",{children:(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("th",{children:"Mois"}),(0,Pe.jsx)("th",{children:"CA Total"}),(0,Pe.jsx)("th",{children:"Clients Total"}),(0,Pe.jsx)("th",{children:"Cartes Fid Total"}),(0,Pe.jsx)("th",{children:"Avis + Total"}),(0,Pe.jsx)("th",{children:"Avis - Total"})]})}),(0,Pe.jsx)("tbody",{children:Array.from({length:12},(e,t)=>{const n=String(t+1).padStart(2,"0"),a=c[n]||{};return(0,Pe.jsxs)("tr",{className:n===r?"current-month":"",children:[(0,Pe.jsx)("td",{children:y(n)}),(0,Pe.jsxs)("td",{children:[a.totalCA||0,"\u20ac"]}),(0,Pe.jsx)("td",{children:a.totalClients||0}),(0,Pe.jsx)("td",{children:a.totalCartesFid||0}),(0,Pe.jsx)("td",{className:"positive",children:a.totalAvisPositifs||0}),(0,Pe.jsx)("td",{className:"negative",children:a.totalAvisNegatifs||0})]},n)})})]})})]})]})]})},Xa=e=>{let{employees:t}=e;const[n,a]=(0,s.useState)("month"),[r,l]=(0,s.useState)((new Date).getMonth()+1),[o,i]=(0,s.useState)((new Date).getFullYear()),[c,d]=(0,s.useState)({total:{absences:0,sickLeave:0,delays:0,total:0},byEmployee:[]}),u=(0,s.useCallback)(()=>{try{if(!Array.isArray(t))return console.log("\u26a0\ufe0f employees n'est pas un tableau:",typeof t,t),void d({total:{absences:0,sickLeave:0,delays:0,total:0},byEmployee:[]});let e,a;switch(n){case"year":e=new Date(o,0,1),a=new Date(o,11,31);break;case"month":default:e=new Date(o,r-1,1),a=new Date(o,r,0);break;case"week":const t=new Date,n=new Date(t);n.setDate(t.getDate()-t.getDay()+1);const s=new Date(n);s.setDate(n.getDate()+6),e=n,a=s}console.log("\ud83d\udcc5 P\xe9riode s\xe9lectionn\xe9e:",{selectedPeriod:n,startDate:e,endDate:a}),console.log("\ud83d\udc65 Nombre d'employ\xe9s:",t.length),console.log("\ud83d\udd0d Debug complet des employ\xe9s:"),t.forEach((e,t)=>{console.log("\ud83d\udc64 Employ\xe9 ".concat(t+1," (").concat(e.name,"):"),{name:e.name,sickLeave:e.sickLeave,isOnSickLeave:e.isOnSickLeave,startDate:e.startDate,endDate:e.endDate,absences:e.absences,sickLeaves:e.sickLeaves,delays:e.delays})});const s=t.map(t=>{var n,r,s,l,o,i;const c=(null===(n=t.absences)||void 0===n?void 0:n.all)||t.absences||[],d=(null===(r=t.sickLeaves)||void 0===r?void 0:r.all)||t.sickLeaves||[],u=(null===(s=t.delays)||void 0===s?void 0:s.all)||t.delays||[],m=Array.isArray(c)?c.filter(t=>{const n=new Date(t.date);return n>=e&&n<=a}):[];let p=[];if(null!==(l=t.sickLeave)&&void 0!==l&&l.isOnSickLeave&&null!==(o=t.sickLeave)&&void 0!==o&&o.startDate&&null!==(i=t.sickLeave)&&void 0!==i&&i.endDate){const n=new Date(t.sickLeave.startDate),r=new Date(t.sickLeave.endDate);n<=a&&r>=e&&p.push({startDate:t.sickLeave.startDate,endDate:t.sickLeave.endDate})}const h=c.filter(t=>"Arr\xeat maladie"===t.type&&new Date(t.startDate)<=a&&new Date(t.endDate)>=e);if(p=p.concat(h),Array.isArray(d)){const t=d.filter(t=>{const n=new Date(t.startDate),r=new Date(t.endDate);return n<=a&&r>=e});p=[...p,...t]}const f=Array.isArray(u)?u.filter(t=>{const n=new Date(t.date);return n>=e&&n<=a}):[];return{id:t._id,name:t.name,absences:m.length,sickLeave:p.reduce((e,t)=>{const n=new Date(t.startDate),a=new Date(t.endDate);return e+(Math.ceil((a-n)/864e5)+1)},0),delays:f.length,total:m.length+p.length+f.length}}),l=s.reduce((e,t)=>({absences:e.absences+t.absences,sickLeave:e.sickLeave+t.sickLeave,delays:e.delays+t.delays,total:e.total+t.total}),{absences:0,sickLeave:0,delays:0,total:0});d({total:l,byEmployee:s})}catch(e){console.error("\u274c Erreur dans calculateAbsenceStats:",e),console.error("\u274c Type d'erreur:",e.name,e.message),console.error("\u274c Stack trace:",e.stack),d({total:{absences:0,sickLeave:0,delays:0,total:0},byEmployee:[]})}},[t,n,r,o]);(0,s.useEffect)(()=>{u()},[u]);const m=()=>{const e=new Date;switch(n){case"year":return"".concat(e.getFullYear());case"month":default:return"".concat(e.toLocaleDateString("fr-FR",{month:"long",year:"numeric"}));case"week":const t=new Date(e);t.setDate(e.getDate()-e.getDay()+1);const n=new Date(t);return n.setDate(t.getDate()+6),"Semaine du ".concat(t.toLocaleDateString("fr-FR")," au ").concat(n.toLocaleDateString("fr-FR"))}};return(0,Pe.jsxs)("div",{className:"absence-status",children:[(0,Pe.jsxs)("div",{className:"status-header",children:[(0,Pe.jsx)("h2",{children:"\ud83d\udcca \xc9tat des absences"}),(0,Pe.jsxs)("div",{className:"period-selector",children:[(0,Pe.jsx)("button",{className:"period-btn ".concat("month"===n?"active":""),onClick:()=>a("month"),children:"Mois"}),(0,Pe.jsx)("button",{className:"period-btn ".concat("year"===n?"active":""),onClick:()=>a("year"),children:"Ann\xe9e"}),(0,Pe.jsx)("button",{className:"period-btn ".concat("week"===n?"active":""),onClick:()=>a("week"),children:"Semaine"})]}),(0,Pe.jsxs)("div",{className:"date-selectors",children:[(0,Pe.jsxs)("div",{className:"date-selector",children:[(0,Pe.jsx)("label",{children:"Mois"}),(0,Pe.jsxs)("select",{value:r,onChange:e=>l(parseInt(e.target.value)),className:"form-control",children:[(0,Pe.jsx)("option",{value:1,children:"Janvier"}),(0,Pe.jsx)("option",{value:2,children:"F\xe9vrier"}),(0,Pe.jsx)("option",{value:3,children:"Mars"}),(0,Pe.jsx)("option",{value:4,children:"Avril"}),(0,Pe.jsx)("option",{value:5,children:"Mai"}),(0,Pe.jsx)("option",{value:6,children:"Juin"}),(0,Pe.jsx)("option",{value:7,children:"Juillet"}),(0,Pe.jsx)("option",{value:8,children:"Ao\xfbt"}),(0,Pe.jsx)("option",{value:9,children:"Septembre"}),(0,Pe.jsx)("option",{value:10,children:"Octobre"}),(0,Pe.jsx)("option",{value:11,children:"Novembre"}),(0,Pe.jsx)("option",{value:12,children:"D\xe9cembre"})]})]}),(0,Pe.jsxs)("div",{className:"date-selector",children:[(0,Pe.jsx)("label",{children:"Ann\xe9e"}),(0,Pe.jsxs)("select",{value:o,onChange:e=>i(parseInt(e.target.value)),className:"form-control",children:[(0,Pe.jsx)("option",{value:2024,children:"2024"}),(0,Pe.jsx)("option",{value:2025,children:"2025"}),(0,Pe.jsx)("option",{value:2026,children:"2026"})]})]})]})]}),(0,Pe.jsxs)("div",{className:"stats-grid",children:[(0,Pe.jsxs)("div",{className:"stat-card total",children:[(0,Pe.jsx)("div",{className:"stat-icon",children:(0,Pe.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,Pe.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14h-2v-2h2v2zm0-4h-2V7h2v6z"})})}),(0,Pe.jsxs)("div",{className:"stat-content",children:[(0,Pe.jsx)("h3",{className:"stat-value",children:c.total.total}),(0,Pe.jsx)("p",{className:"stat-label",children:"Total des absences"}),(0,Pe.jsx)("p",{className:"stat-period",children:m()})]})]}),(0,Pe.jsxs)("div",{className:"stat-card maladie",children:[(0,Pe.jsx)("div",{className:"stat-icon",children:(0,Pe.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,Pe.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14h-2v-2h2v2zm0-4h-2V7h2v6z"})})}),(0,Pe.jsxs)("div",{className:"stat-content",children:[(0,Pe.jsx)("h3",{className:"stat-value",children:c.total.sickLeave}),(0,Pe.jsx)("p",{className:"stat-label",children:"Arr\xeats maladie"}),(0,Pe.jsx)("p",{className:"stat-period",children:m()})]})]}),(0,Pe.jsxs)("div",{className:"stat-card absence",children:[(0,Pe.jsx)("div",{className:"stat-icon",children:(0,Pe.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,Pe.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14h-2v-2h2v2zm0-4h-2V7h2v6z"})})}),(0,Pe.jsxs)("div",{className:"stat-content",children:[(0,Pe.jsx)("h3",{className:"stat-value",children:c.total.absences}),(0,Pe.jsx)("p",{className:"stat-label",children:"Absences"}),(0,Pe.jsx)("p",{className:"stat-period",children:m()})]})]}),(0,Pe.jsxs)("div",{className:"stat-card retard",children:[(0,Pe.jsx)("div",{className:"stat-icon",children:(0,Pe.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,Pe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),(0,Pe.jsxs)("div",{className:"stat-content",children:[(0,Pe.jsx)("h3",{className:"stat-value",children:c.total.delays}),(0,Pe.jsx)("p",{className:"stat-label",children:"Retards"}),(0,Pe.jsx)("p",{className:"stat-period",children:m()})]})]})]}),(0,Pe.jsxs)("div",{className:"employee-details",children:[(0,Pe.jsx)("h3",{children:"D\xe9tail par employ\xe9"}),c.byEmployee.length>0?(0,Pe.jsx)("div",{className:"employee-stats",children:c.byEmployee.map(e=>(0,Pe.jsxs)("div",{className:"employee-stat-card",children:[(0,Pe.jsxs)("div",{className:"employee-info",children:[(0,Pe.jsx)("h4",{className:"employee-name",children:e.name}),(0,Pe.jsx)("span",{className:"employee-role",children:e.role})]}),(0,Pe.jsxs)("div",{className:"employee-stats-grid",children:[(0,Pe.jsxs)("div",{className:"mini-stat",children:[(0,Pe.jsx)("span",{className:"mini-stat-value",children:e.total}),(0,Pe.jsx)("span",{className:"mini-stat-label",children:"Total"})]}),(0,Pe.jsxs)("div",{className:"mini-stat maladie",children:[(0,Pe.jsx)("span",{className:"mini-stat-value",children:e.sickLeave}),(0,Pe.jsx)("span",{className:"mini-stat-label",children:"Maladie"})]}),(0,Pe.jsxs)("div",{className:"mini-stat absence",children:[(0,Pe.jsx)("span",{className:"mini-stat-value",children:e.absences}),(0,Pe.jsx)("span",{className:"mini-stat-label",children:"Absence"})]}),(0,Pe.jsxs)("div",{className:"mini-stat retard",children:[(0,Pe.jsx)("span",{className:"mini-stat-value",children:e.delays}),(0,Pe.jsx)("span",{className:"mini-stat-label",children:"Retard"})]})]})]},e.id))}):(0,Pe.jsxs)("div",{className:"no-data",children:[(0,Pe.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"no-data-icon",children:(0,Pe.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14h-2v-2h2v2zm0-4h-2V7h2v6z"})}),(0,Pe.jsx)("p",{children:"Aucune absence enregistr\xe9e pour cette p\xe9riode"})]})]})]})},Za=()=>{const[e,t]=(0,s.useState)([]),[n,a]=(0,s.useState)(!0),[r,l]=(0,s.useState)("status"),[o,i]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1);(0,s.useEffect)(()=>{u()},[]);const u=async()=>{try{a(!0);const s=await va.get("/employees");if(console.log("\ud83d\udcca Donn\xe9es employ\xe9s re\xe7ues:",s.data),s.data&&s.data.length>0){var e,n,r;const t=s.data[0];console.log("\ud83d\udd0d Premier employ\xe9:",{id:t._id,name:t.name,hasAbsences:!!t.absences,hasSickLeaves:!!t.sickLeaves,hasDelays:!!t.delays,absencesCount:(null===(e=t.absences)||void 0===e?void 0:e.length)||0,sickLeavesCount:(null===(n=t.sickLeaves)||void 0===n?void 0:n.length)||0,delaysCount:(null===(r=t.delays)||void 0===r?void 0:r.length)||0})}let l=null;s.data.success&&Array.isArray(s.data.data)?l=s.data.data:Array.isArray(s.data)&&(l=s.data),l?(t(l),console.log("\u2705 Employ\xe9s charg\xe9s:",l.length)):(console.error("\u274c Format de donn\xe9es invalide:",s.data),t([]))}catch(s){Va.error("Erreur lors du chargement des employ\xe9s"),console.error(s)}finally{a(!1)}};if(n)return(0,Pe.jsx)("div",{className:"absence-status-page",children:(0,Pe.jsxs)("div",{className:"loading-container",children:[(0,Pe.jsx)("div",{className:"loading-spinner"}),(0,Pe.jsx)("p",{children:"Chargement des donn\xe9es d'absences..."})]})});return(0,Pe.jsxs)("div",{className:"absence-status-page",children:[(0,Pe.jsx)("div",{className:"tabs-container",children:(0,Pe.jsxs)("div",{className:"tabs-header",children:[(0,Pe.jsx)("button",{className:"tab-button ".concat("status"===r?"active":""),onClick:()=>l("status"),children:"\ud83d\udcca \xc9tat des absences"}),(0,Pe.jsx)("button",{className:"tab-button ".concat("declare-maladie"===r?"active":""),onClick:()=>l("declare-maladie"),children:"\ud83c\udfe5 D\xe9clarer maladie/absence"}),(0,Pe.jsx)("button",{className:"tab-button ".concat("declare-delay"===r?"active":""),onClick:()=>l("declare-delay"),children:"\ud83d\udd50 D\xe9clarer retard"})]})}),(0,Pe.jsxs)("div",{className:"tab-content",children:["status"===r&&(0,Pe.jsx)(Xa,{employees:e}),"declare-maladie"===r&&(0,Pe.jsxs)("div",{className:"declaration-section",children:[(0,Pe.jsxs)("div",{className:"declaration-header",children:[(0,Pe.jsx)("h2",{children:"\ud83c\udfe5 D\xe9claration d'arr\xeat maladie ou d'absence"}),(0,Pe.jsx)("p",{children:"Utilisez ce formulaire pour d\xe9clarer un arr\xeat maladie ou une absence pour un employ\xe9."})]}),(0,Pe.jsxs)("button",{className:"btn btn-primary declaration-btn",onClick:()=>i(!0),children:[(0,Pe.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"btn-icon",children:(0,Pe.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14h-2v-2h2v2zm0-4h-2V7h2v6z"})}),"Ouvrir le formulaire de d\xe9claration"]})]}),"declare-delay"===r&&(0,Pe.jsxs)("div",{className:"declaration-section",children:[(0,Pe.jsxs)("div",{className:"declaration-header",children:[(0,Pe.jsx)("h2",{children:"\ud83d\udd50 D\xe9claration de retard"}),(0,Pe.jsx)("p",{children:"Utilisez ce formulaire pour d\xe9clarer un retard pour un employ\xe9."})]}),(0,Pe.jsxs)("button",{className:"btn btn-primary declaration-btn",onClick:()=>d(!0),children:[(0,Pe.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"btn-icon",children:(0,Pe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),"Ouvrir le formulaire de retard"]})]})]}),(0,Pe.jsx)(qa,{show:o,onClose:()=>i(!1),onSave:async e=>{try{console.log("\ud83d\udccb Sauvegarde d\xe9claration:",e),"maladie"===e.type?(await va.post("/sick-leaves",e),Va.success("Arr\xeat maladie d\xe9clar\xe9 avec succ\xe8s")):(await va.post("/absences",e),Va.success("Absence d\xe9clar\xe9e avec succ\xe8s")),u()}catch(t){console.error("\u274c Erreur sauvegarde d\xe9claration:",t),Va.error("Erreur lors de la d\xe9claration")}},employees:e}),(0,Pe.jsx)(Ha,{show:c,onClose:()=>d(!1),onSave:async e=>{try{console.log("\ud83d\udd50 Sauvegarde retard:",e),await va.post("/delays",e),Va.success("Retard d\xe9clar\xe9 avec succ\xe8s"),u()}catch(t){console.error("\u274c Erreur sauvegarde retard:",t),Va.error("Erreur lors de la d\xe9claration du retard")}},employees:e})]})},er=()=>{const[e,t]=(0,s.useState)([]),[n,a]=(0,s.useState)(!1),[r,l]=(0,s.useState)(!1),[o,i]=(0,s.useState)((new Date).getMonth()+1),[c,d]=(0,s.useState)((new Date).getFullYear()),u=(0,s.useCallback)(async()=>{a(!0);try{const e=await va.get("/meal-expenses?month=".concat(o,"&year=").concat(c));console.log("\ud83d\udcca Donn\xe9es frais repas re\xe7ues:",e.data);let n=[];Array.isArray(e.data)?n=e.data:e.data.success&&Array.isArray(e.data.data)?n=e.data.data:e.data.expenses&&Array.isArray(e.data.expenses)&&(n=e.data.expenses),t(n),console.log("\u2705 Frais repas charg\xe9s:",n.length,"employ\xe9s,",m,"jours")}catch(e){console.error("Erreur lors du chargement des frais repas:",e),Va.error("Erreur lors du chargement des frais repas")}finally{a(!1)}},[o,c]);(0,s.useEffect)(()=>{u()},[u]);const m=new Date(c,o,0).getDate();return n?(0,Pe.jsx)("div",{className:"meal-expenses fade-in",children:(0,Pe.jsx)("div",{className:"card",children:(0,Pe.jsxs)("div",{style:{textAlign:"center",padding:"2rem"},children:[(0,Pe.jsx)("div",{className:"loading"}),(0,Pe.jsx)("p",{children:"Chargement des frais repas..."})]})})}):(0,Pe.jsxs)("div",{className:"meal-expenses fade-in",children:[(0,Pe.jsxs)("div",{className:"page-header",children:[(0,Pe.jsxs)("div",{className:"header-title-section",children:[(0,Pe.jsx)("h2",{children:"\ud83c\udf7d\ufe0f Frais Repas"}),(0,Pe.jsxs)("div",{className:"date-selector",children:[(0,Pe.jsx)("select",{value:o,onChange:e=>i(parseInt(e.target.value)),className:"form-control",children:Array.from({length:12},(e,t)=>{return(0,Pe.jsx)("option",{value:t+1,children:(n=t+1,["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xfbt","Septembre","Octobre","Novembre","D\xe9cembre"][n-1])},t+1);var n})}),(0,Pe.jsx)("select",{value:c,onChange:e=>d(parseInt(e.target.value)),className:"form-control",children:Array.from({length:10},(e,t)=>{const n=(new Date).getFullYear()-2+t;return(0,Pe.jsx)("option",{value:n,children:n},n)})})]})]}),(0,Pe.jsx)("div",{className:"header-actions",children:(0,Pe.jsx)("button",{className:"btn btn-success",onClick:async()=>{l(!0);try{await va.post("/meal-expenses/batch",{month:o,year:c,expenses:e.map(e=>({employeeId:e.employeeId,employeeName:e.employeeName,dailyExpenses:e.dailyExpenses}))}),Va.success("Frais repas sauvegard\xe9s avec succ\xe8s"),u()}catch(t){console.error("Erreur lors de la sauvegarde:",t),Va.error("Erreur lors de la sauvegarde des frais repas")}finally{l(!1)}},disabled:r,children:r?"\ud83d\udcbe Sauvegarde...":"\ud83d\udcbe Sauvegarder"})})]}),(0,Pe.jsx)("div",{className:"card",children:(0,Pe.jsx)("div",{className:"table-container",children:(0,Pe.jsxs)("table",{className:"meal-expenses-table",children:[(0,Pe.jsx)("thead",{children:(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("th",{className:"employee-column",children:"Salari\xe9"}),Array.from({length:m},(e,t)=>(0,Pe.jsx)("th",{className:"day-column",children:t+1},t+1))]})}),(0,Pe.jsx)("tbody",{children:e.map((n,a)=>(0,Pe.jsxs)("tr",{children:[(0,Pe.jsxs)("td",{className:"employee-cell",children:[(0,Pe.jsx)("span",{className:"employee-name",children:(0,Pe.jsx)("strong",{children:n.employeeName})}),(0,Pe.jsxs)("span",{className:"employee-total",children:[n.totalAmount.toFixed(2)," \u20ac"]})]}),Array.from({length:m},(r,s)=>{const l=s+1,o=n.dailyExpenses.find(e=>e.day===l),i=o?o.amount:0;return(0,Pe.jsx)("td",{className:"day-cell",children:(0,Pe.jsx)("input",{type:"number",value:i,onChange:n=>((n,a,r)=>{const s=[...e],l=s[n];let o=l.dailyExpenses.find(e=>e.day===a);o||(o={day:a,amount:0},l.dailyExpenses.push(o)),o.amount=parseFloat(r)||0,l.totalAmount=l.dailyExpenses.reduce((e,t)=>e+t.amount,0),t(s)})(a,l,n.target.value),min:"0",step:"0.01",className:"expense-input",placeholder:"0.00"})},l)})]},n.employeeId))})]})})}),0===e.length&&(0,Pe.jsxs)("div",{className:"card",style:{textAlign:"center",padding:"3rem"},children:[(0,Pe.jsx)("h3",{children:"\ud83d\udc65 Aucun employ\xe9 trouv\xe9"}),(0,Pe.jsx)("p",{children:"Veuillez d'abord ajouter des employ\xe9s dans la gestion des employ\xe9s."})]})]})},tr=()=>{const[e,t]=(0,s.useState)([]),[n,a]=(0,s.useState)([]),[r,l]=(0,s.useState)(!1),[o,i]=(0,s.useState)(!1),[c,d]=(0,s.useState)((new Date).getMonth()+1),[u,m]=(0,s.useState)((new Date).getFullYear()),p=(0,s.useCallback)(async()=>{l(!0);try{var e,n;console.log("\ud83d\udcca Chargement des frais KM pour:",{month:c,year:u});const l=await va.get("/km-expenses?month=".concat(c,"&year=").concat(u));if(console.log("\ud83d\udce5 R\xe9ponse API frais KM compl\xe8te:",l.data),l.data){var r,s;if(console.log("\ud83d\udcca Structure des donn\xe9es:",{hasEmployees:!!l.data.employees,hasParameters:!!l.data.parameters,employeesCount:(null===(r=l.data.employees)||void 0===r?void 0:r.length)||0,parametersCount:(null===(s=l.data.parameters)||void 0===s?void 0:s.length)||0}),l.data.employees&&l.data.employees.length>0){var o;const e=l.data.employees[0];console.log("\ud83d\udd0d Premier employ\xe9:",{id:e.employeeId,name:e.employeeName,hasParameterValues:!!e.parameterValues,parameterValuesCount:(null===(o=e.parameterValues)||void 0===o?void 0:o.length)||0})}if(l.data.parameters&&l.data.parameters.length>0){const e=l.data.parameters[0];console.log("\ud83d\udd0d Premier param\xe8tre:",{id:e._id,name:e.name,displayName:e.displayName,kmValue:e.kmValue})}}t(l.data.employees||[]),a(l.data.parameters||[]),console.log("\ud83d\udcca Employ\xe9s charg\xe9s:",(null===(e=l.data.employees)||void 0===e?void 0:e.length)||0),console.log("\ud83d\udcca Param\xe8tres charg\xe9s:",(null===(n=l.data.parameters)||void 0===n?void 0:n.length)||0)}catch(m){var i,d;console.error("\u274c Erreur lors du chargement des frais KM:",m),console.error("\u274c D\xe9tails de l'erreur:",null===(i=m.response)||void 0===i?void 0:i.data),console.error("\u274c Status:",null===(d=m.response)||void 0===d?void 0:d.status),Va.error("Erreur lors du chargement des frais KM")}finally{l(!1)}},[c,u]);(0,s.useEffect)(()=>{p()},[p]);const h=e=>["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xfbt","Septembre","Octobre","Novembre","D\xe9cembre"][e-1];return r?(0,Pe.jsx)("div",{className:"km-expenses fade-in",children:(0,Pe.jsx)("div",{className:"card",children:(0,Pe.jsxs)("div",{style:{textAlign:"center",padding:"2rem"},children:[(0,Pe.jsx)("div",{className:"loading"}),(0,Pe.jsx)("p",{children:"Chargement des frais KM..."})]})})}):(0,Pe.jsxs)("div",{className:"km-expenses fade-in",children:[(0,Pe.jsxs)("div",{className:"page-header",children:[(0,Pe.jsxs)("h2",{children:["\ud83d\ude97 Frais KM - ",h(c)," ",u]}),(0,Pe.jsxs)("div",{className:"header-actions",children:[(0,Pe.jsxs)("div",{className:"date-selector",children:[(0,Pe.jsx)("select",{value:c,onChange:e=>d(parseInt(e.target.value)),className:"form-control",children:Array.from({length:12},(e,t)=>(0,Pe.jsx)("option",{value:t+1,children:h(t+1)},t+1))}),(0,Pe.jsx)("select",{value:u,onChange:e=>m(parseInt(e.target.value)),className:"form-control",children:Array.from({length:10},(e,t)=>{const n=(new Date).getFullYear()-2+t;return(0,Pe.jsx)("option",{value:n,children:n},n)})})]}),(0,Pe.jsx)("button",{className:"btn btn-success",onClick:async()=>{i(!0);try{await va.post("/km-expenses/batch",{month:c,year:u,expenses:e.map(e=>({employeeId:e.employeeId,employeeName:e.employeeName,parameterValues:e.parameterValues}))}),Va.success("Frais KM sauvegard\xe9s avec succ\xe8s"),p()}catch(t){console.error("Erreur lors de la sauvegarde:",t),Va.error("Erreur lors de la sauvegarde des frais KM")}finally{i(!1)}},disabled:o,children:o?"\ud83d\udcbe Sauvegarde...":"\ud83d\udcbe Sauvegarder"}),(0,Pe.jsx)("button",{className:"btn btn-warning",onClick:()=>{const t=e.find(e=>e.employeeName.toLowerCase().includes("ad\xe9la\xefde")||e.employeeName.toLowerCase().includes("adelade"));t?(async(e,t)=>{if(window.confirm("\xcates-vous s\xfbr de vouloir r\xe9initialiser les donn\xe9es de ".concat(t," pour ").concat(c,"/").concat(u," ?")))try{await va.post("/km-expenses/reset",{employeeId:e,month:c,year:u}),Va.success("Donn\xe9es de ".concat(t," r\xe9initialis\xe9es avec succ\xe8s")),p()}catch(n){console.error("Erreur lors de la r\xe9initialisation:",n),Va.error("Erreur lors de la r\xe9initialisation des donn\xe9es")}})(t.employeeId,t.employeeName):Va.error("Ad\xe9la\xefde non trouv\xe9e dans la liste")},disabled:o,title:"R\xe9initialiser les donn\xe9es d'Ad\xe9la\xefde pour ce mois",children:"\ud83d\udd04 R\xe9initialiser Ad\xe9la\xefde"})]})]}),(0,Pe.jsx)("div",{className:"card",children:(0,Pe.jsx)("div",{className:"table-container",children:(0,Pe.jsxs)("table",{className:"km-expenses-table",children:[(0,Pe.jsx)("thead",{children:(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("th",{className:"employee-column",children:"Salari\xe9"}),n.map(e=>(0,Pe.jsx)("th",{className:"param-column",title:"".concat(e.displayName," (").concat(e.kmValue," km)"),children:(0,Pe.jsxs)("div",{className:"param-header",children:[(0,Pe.jsx)("div",{className:"param-name",children:e.displayName}),(0,Pe.jsxs)("div",{className:"param-km",children:["(",e.kmValue," km)"]})]})},e._id)),(0,Pe.jsx)("th",{className:"total-column",children:"Total KM"})]})}),(0,Pe.jsx)("tbody",{children:e.map((n,a)=>(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{className:"employee-cell",children:(0,Pe.jsx)("strong",{children:n.employeeName})}),n.parameterValues.map((n,r)=>(0,Pe.jsxs)("td",{className:"param-cell",children:[(0,Pe.jsx)("input",{type:"number",value:n.count,onChange:n=>((n,a,r)=>{const s=[...e],l=s[n],o=l.parameterValues[a];o.count=parseInt(r)||0,o.totalKm=o.count*o.kmValue,l.totalKm=l.parameterValues.reduce((e,t)=>e+t.totalKm,0),t(s)})(a,r,n.target.value),min:"0",className:"count-input",placeholder:"0"}),(0,Pe.jsxs)("div",{className:"param-total",children:[n.totalKm," km"]})]},n.parameterId)),(0,Pe.jsx)("td",{className:"total-cell",children:(0,Pe.jsxs)("strong",{children:[n.totalKm," km"]})})]},n.employeeId))})]})})}),0===e.length&&(0,Pe.jsxs)("div",{className:"card",style:{textAlign:"center",padding:"3rem"},children:[(0,Pe.jsx)("h3",{children:"\ud83d\udc65 Aucun employ\xe9 trouv\xe9"}),(0,Pe.jsx)("p",{children:"Veuillez d'abord ajouter des employ\xe9s dans la gestion des employ\xe9s."})]}),0===n.length&&(0,Pe.jsxs)("div",{className:"card",style:{textAlign:"center",padding:"3rem"},children:[(0,Pe.jsx)("h3",{children:"\u2699\ufe0f Param\xe8tres manquants"}),(0,Pe.jsx)("p",{children:"Veuillez d'abord configurer les param\xe8tres dans le menu Param\xe8tres."})]})]})},nr=()=>{var e,t,n,a,r;const[l,o]=(0,s.useState)("site"),[i,c]=(0,s.useState)([]),[d,u]=(0,s.useState)(!1),[m,p]=(0,s.useState)(!1),[h,f]=(0,s.useState)({admin:"",employee:""}),[v,g]=(0,s.useState)(!1),[y,x]=(0,s.useState)([]),[b,j]=(0,s.useState)(!1),[N,w]=(0,s.useState)(!1),[k,S]=(0,s.useState)({name:"Boulangerie",city:"Ville"}),[E,C]=(0,s.useState)(!1),[_,T]=(0,s.useState)(!1),[D,A]=(0,s.useState)(null),[R,P]=(0,s.useState)(!1),[L,O]=(0,s.useState)(!1),[M,I]=(0,s.useState)(!1),[z,F]=(0,s.useState)([]),[V,U]=(0,s.useState)(!1),[B,q]=(0,s.useState)(!1),[H,W]=(0,s.useState)(null),[$,J]=(0,s.useState)(!1),[K,Q]=(0,s.useState)([]),[G,Y]=(0,s.useState)(!1);(0,s.useEffect)(()=>{Z(),ae(),se(),oe(),ie(),ee()},[]);const X=e=>{o(e)},Z=async()=>{u(!0);try{const e=await va.get("/parameters");c(e.data)}catch(e){console.error("Erreur lors du chargement des param\xe8tres:",e),Va.error("Erreur lors du chargement des param\xe8tres")}finally{u(!1)}},ee=async()=>{Y(!0);try{const e=await va.get("/employees");let t=null;e.data.success&&e.data.data?t=e.data.data:Array.isArray(e.data)&&(t=e.data),t&&Q(t)}catch(e){console.error("Erreur lors du chargement des employ\xe9s:",e)}finally{Y(!1)}},te=(e,t,n)=>{const a=[...i];if("string"===typeof e){const r=a.findIndex(t=>t._id===e);-1!==r?(a[r][t]=n,c(a)):console.error("\u274c Param\xe8tre non trouv\xe9 avec l'ID:",e)}else a[e][t]=n,c(a)},ne=(e,t)=>{f(n=>Wt(Wt({},n),{},{[e]:t}))},ae=async()=>{j(!0);try{const e=await va.get("/menu-permissions");e.data.success&&(x(e.data.menuPermissions),console.log("\ud83d\udccb Permissions de menu charg\xe9es:",e.data.menuPermissions))}catch(e){console.error("\u274c Erreur lors du chargement des permissions:",e),Va.error("Erreur lors du chargement des permissions de menu")}finally{j(!1)}},re=(e,t,n)=>{x(a=>a.map(a=>a.menuId===e?Wt(Wt({},a),{},{[t]:n}):a))},se=async()=>{C(!0);try{const e=await va.get("/site");S(e.data),console.log("\ud83c\udfea Site charg\xe9:",e.data)}catch(e){console.error("\u274c Erreur lors du chargement du site:",e),Va.error("Erreur lors du chargement des informations du site")}finally{C(!1)}},le=(e,t)=>{S(n=>Wt(Wt({},n),{},{[e]:t}))},oe=async()=>{P(!0);try{const e=await va.get("/database/stats");e.data.success&&A(e.data.stats)}catch(e){console.error("\u274c Erreur lors de la r\xe9cup\xe9ration des statistiques:",e)}finally{P(!1)}},ie=async()=>{U(!0);try{const e=await va.get("/email-templates");e.data.success&&F(e.data.templates)}catch(e){console.error("\u274c Erreur lors du chargement des templates:",e),Va.error("Erreur lors du chargement des templates d'email")}finally{U(!1)}},ce=async()=>{q(!0);try{const e=await va.post("/email-templates/initialize-defaults");e.data.success&&(Va.success(e.data.message),ie())}catch(e){console.error("\u274c Erreur lors de l'initialisation:",e),Va.error("Erreur lors de l'initialisation des templates")}finally{q(!1)}},de=(e,t)=>{W(n=>Wt(Wt({},n),{},{[e]:t}))},ue=()=>{J(!1),W(null)};return d?(0,Pe.jsx)("div",{className:"parameters fade-in",children:(0,Pe.jsx)("div",{className:"card",children:(0,Pe.jsxs)("div",{style:{textAlign:"center",padding:"2rem"},children:[(0,Pe.jsx)("div",{className:"loading"}),(0,Pe.jsx)("p",{children:"Chargement des param\xe8tres..."})]})})}):(0,Pe.jsxs)("div",{className:"parameters fade-in",children:[(0,Pe.jsx)("div",{className:"page-header",children:(0,Pe.jsx)("h2",{children:"\u2699\ufe0f Param\xe8tres"})}),(0,Pe.jsxs)("div",{className:"tabs-navigation",children:[(0,Pe.jsx)("button",{className:"tab-button ".concat("site"===l?"active":""),onClick:()=>X("site"),children:"\ud83c\udfea Informations du Site"}),(0,Pe.jsx)("button",{className:"tab-button ".concat("passwords"===l?"active":""),onClick:()=>X("passwords"),children:"\ud83d\udd10 Gestion des Mots de Passe"}),(0,Pe.jsx)("button",{className:"tab-button ".concat("permissions"===l?"active":""),onClick:()=>X("permissions"),children:"\ud83d\udd10 Gestion des Permissions de Menu"}),(0,Pe.jsx)("button",{className:"tab-button ".concat("km"===l?"active":""),onClick:()=>X("km"),children:"\ud83d\ude97 Param\xe8tres - Frais KM"}),(0,Pe.jsx)("button",{className:"tab-button ".concat("templates"===l?"active":""),onClick:()=>X("templates"),children:"\ud83d\udccb Templates disponibles"}),(0,Pe.jsx)("button",{className:"tab-button ".concat("database"===l?"active":""),onClick:()=>X("database"),children:"\ud83d\uddc4\ufe0f Gestion de la Base de Donn\xe9es"}),(0,Pe.jsx)("button",{className:"tab-button",onClick:()=>window.open("/plan/admin-documents.html","_blank"),children:"\ud83d\udcc1 Gestion des Documents"})]}),(0,Pe.jsxs)("div",{className:"tab-content",children:["site"===l&&(0,Pe.jsxs)("div",{className:"card",children:[(0,Pe.jsx)("div",{className:"card-header",children:(0,Pe.jsx)("h3",{children:"\ud83c\udfea Informations du Site"})}),(0,Pe.jsx)("div",{className:"card-body",children:E?(0,Pe.jsxs)("div",{style:{textAlign:"center",padding:"2rem"},children:[(0,Pe.jsx)("div",{className:"loading"}),(0,Pe.jsx)("p",{children:"Chargement des informations du site..."})]}):(0,Pe.jsxs)("div",{className:"site-section",children:[(0,Pe.jsxs)("div",{className:"site-item",children:[(0,Pe.jsxs)("label",{htmlFor:"site-name",children:[(0,Pe.jsx)("span",{className:"site-icon",children:"\ud83c\udfea"}),"Nom du site"]}),(0,Pe.jsx)("input",{id:"site-name",type:"text",value:k.name,onChange:e=>le("name",e.target.value),placeholder:"Nom de la boulangerie",className:"site-input"})]}),(0,Pe.jsxs)("div",{className:"site-item",children:[(0,Pe.jsxs)("label",{htmlFor:"site-city",children:[(0,Pe.jsx)("span",{className:"site-icon",children:"\ud83c\udfd9\ufe0f"}),"Ville"]}),(0,Pe.jsx)("input",{id:"site-city",type:"text",value:k.city,onChange:e=>le("city",e.target.value),placeholder:"Ville du magasin",className:"site-input"})]}),(0,Pe.jsx)("div",{className:"site-actions",children:(0,Pe.jsx)("button",{className:"btn btn-primary",onClick:async()=>{T(!0);try{await va.put("/site",k),Va.success("Informations du site mises \xe0 jour avec succ\xe8s"),window.location.reload()}catch(e){console.error("\u274c Erreur lors de la mise \xe0 jour du site:",e),Va.error("Erreur lors de la mise \xe0 jour du site")}finally{T(!1)}},disabled:_,children:_?"\ud83d\udcbe Sauvegarde...":"\ud83d\udcbe Sauvegarder les informations du site"})})]})})]}),"passwords"===l&&(0,Pe.jsxs)("div",{className:"card",children:[(0,Pe.jsx)("div",{className:"card-header",children:(0,Pe.jsx)("h3",{children:"\ud83d\udd10 Gestion des Mots de Passe"})}),(0,Pe.jsx)("div",{className:"card-body",children:(0,Pe.jsxs)("div",{className:"password-section",children:[(0,Pe.jsxs)("div",{className:"password-item",children:[(0,Pe.jsxs)("label",{htmlFor:"admin-password",children:[(0,Pe.jsx)("span",{className:"password-icon",children:"\ud83d\udc51"}),"Mot de passe Administrateur"]}),(0,Pe.jsx)("input",{id:"admin-password",type:"password",value:h.admin,onChange:e=>ne("admin",e.target.value),placeholder:"Nouveau mot de passe (min. 6 caract\xe8res)",className:"password-input"})]}),(0,Pe.jsxs)("div",{className:"password-item",children:[(0,Pe.jsxs)("label",{htmlFor:"employee-password",children:[(0,Pe.jsx)("span",{className:"password-icon",children:"\ud83d\udc64"}),"Mot de passe Salari\xe9"]}),(0,Pe.jsx)("input",{id:"employee-password",type:"password",value:h.employee,onChange:e=>ne("employee",e.target.value),placeholder:"Nouveau mot de passe (min. 6 caract\xe8res)",className:"password-input"})]}),(0,Pe.jsx)("div",{className:"password-actions",children:(0,Pe.jsx)("button",{className:"btn btn-primary",onClick:async()=>{g(!0);try{if(console.log("\ud83d\udd10 Tentative de mise \xe0 jour des mots de passe:",h),!h.admin&&!h.employee)return Va.error("Veuillez saisir au moins un mot de passe"),void g(!1);if(h.admin&&h.admin.length<6)return Va.error("Le mot de passe administrateur doit contenir au moins 6 caract\xe8res"),void g(!1);if(h.employee&&h.employee.length<6)return Va.error("Le mot de passe salari\xe9 doit contenir au moins 6 caract\xe8res"),void g(!1);const e={};h.admin&&(e.admin=h.admin),h.employee&&(e.employee=h.employee),console.log("\ud83d\udd10 Envoi des mots de passe:",e),await va.put("/passwords/update",e),Va.success("Mots de passe mis \xe0 jour avec succ\xe8s"),f({admin:"",employee:""})}catch(e){console.error("\u274c Erreur lors de la mise \xe0 jour des mots de passe:",e),Va.error("Erreur lors de la mise \xe0 jour des mots de passe")}finally{g(!1)}},disabled:v,style:{opacity:h.admin||h.employee?1:.6,cursor:h.admin||h.employee?"pointer":"not-allowed"},children:v?"\ud83d\udd10 Mise \xe0 jour...":"\ud83d\udd10 Mettre \xe0 jour les mots de passe"})})]})})]}),"permissions"===l&&(0,Pe.jsxs)("div",{className:"card",children:[(0,Pe.jsxs)("div",{className:"card-header",children:[(0,Pe.jsx)("h3",{children:"\ud83d\udd10 Gestion des Permissions de Menu"}),(0,Pe.jsx)("p",{children:"Configurez quels menus sont visibles pour les salari\xe9s"})]}),(0,Pe.jsx)("div",{className:"card-body",children:b?(0,Pe.jsxs)("div",{style:{textAlign:"center",padding:"2rem"},children:[(0,Pe.jsx)("div",{className:"loading"}),(0,Pe.jsx)("p",{children:"Chargement des permissions..."})]}):(0,Pe.jsxs)("div",{className:"permissions-section",children:[(0,Pe.jsxs)("div",{className:"permissions-table",children:[(0,Pe.jsxs)("div",{className:"permissions-header",children:[(0,Pe.jsx)("div",{className:"permission-menu",children:"Menu"}),(0,Pe.jsx)("div",{className:"permission-admin",children:"\ud83d\udc51 Admin"}),(0,Pe.jsx)("div",{className:"permission-employee",children:"\ud83d\udc64 Salari\xe9"})]}),y.map(e=>(0,Pe.jsxs)("div",{className:"permission-row",children:[(0,Pe.jsxs)("div",{className:"permission-menu",children:[(0,Pe.jsxs)("span",{className:"permission-icon",children:["dashboard"===e.menuId&&"\ud83d\udcca","employees"===e.menuId&&"\ud83d\udc65","constraints"===e.menuId&&"\ud83d\udccb","planning"===e.menuId&&"\ud83c\udfaf","sales-stats"===e.menuId&&"\ud83d\udcb0","absences"===e.menuId&&"\ud83d\udcc8","parameters"===e.menuId&&"\u2699\ufe0f","employee-status"===e.menuId&&"\ud83d\udc64","meal-expenses"===e.menuId&&"\ud83c\udf7d\ufe0f","km-expenses"===e.menuId&&"\ud83d\ude97","employee-status-print"===e.menuId&&"\ud83d\udda8\ufe0f","sick-leave-management"===e.menuId&&"\ud83c\udfe5","vacation-management"===e.menuId&&"\ud83c\udfd6\ufe0f"]}),e.menuName]}),(0,Pe.jsx)("div",{className:"permission-admin",children:(0,Pe.jsx)("input",{type:"checkbox",checked:e.isVisibleToAdmin,onChange:t=>re(e.menuId,"isVisibleToAdmin",t.target.checked),disabled:!0})}),(0,Pe.jsx)("div",{className:"permission-employee",children:(0,Pe.jsx)("input",{type:"checkbox",checked:e.isVisibleToEmployee,onChange:t=>re(e.menuId,"isVisibleToEmployee",t.target.checked)})})]},e._id))]}),(0,Pe.jsxs)("div",{className:"permissions-actions",children:[(0,Pe.jsx)("button",{className:"btn btn-primary",onClick:async()=>{w(!0);try{const e=y.map(e=>({_id:e._id,isVisibleToAdmin:e.isVisibleToAdmin,isVisibleToEmployee:e.isVisibleToEmployee}));await va.put("/menu-permissions/batch",{permissions:e}),Va.success("Permissions de menu mises \xe0 jour avec succ\xe8s")}catch(e){console.error("\u274c Erreur lors de la sauvegarde des permissions:",e),Va.error("Erreur lors de la sauvegarde des permissions")}finally{w(!1)}},disabled:N,children:N?"\ud83d\udcbe Sauvegarde...":"\ud83d\udcbe Sauvegarder les permissions"}),(0,Pe.jsx)("button",{className:"btn btn-warning",onClick:async()=>{if(window.confirm("\xcates-vous s\xfbr de vouloir recr\xe9er les permissions par d\xe9faut ? Cela supprimera toutes les permissions actuelles.")){w(!0);try{const e=await va.post("/menu-permissions/recreate");e.data.success&&(Va.success(e.data.message),await ae())}catch(e){console.error("\u274c Erreur lors de la recr\xe9ation des permissions:",e),Va.error("Erreur lors de la recr\xe9ation des permissions")}finally{w(!1)}}},disabled:N,style:{marginLeft:"10px"},children:N?"\ud83d\udd04 Recr\xe9ation...":"\ud83d\udd04 Recr\xe9er les permissions par d\xe9faut"})]})]})})]}),"km"===l&&(0,Pe.jsxs)("div",{className:"card",children:[(0,Pe.jsx)("div",{className:"card-header",children:(0,Pe.jsx)("h3",{children:"\ud83d\ude97 Param\xe8tres - Frais KM"})}),(0,Pe.jsxs)("div",{className:"card-body",children:[(0,Pe.jsx)("div",{className:"parameters-list",children:i.map((e,t)=>(0,Pe.jsxs)("div",{className:"parameter-item",children:[(0,Pe.jsxs)("div",{className:"parameter-info",children:[(0,Pe.jsxs)("span",{className:"parameter-number",children:[t+1,"."]}),(0,Pe.jsx)("input",{type:"text",value:e.displayName,onChange:e=>te(t,"displayName",e.target.value),className:"parameter-name-input",placeholder:"Param\xe8tre ".concat(t+1)})]}),(0,Pe.jsxs)("div",{className:"parameter-value",children:[(0,Pe.jsx)("input",{type:"number",value:e.kmValue,onChange:e=>te(t,"kmValue",e.target.value),className:"parameter-km-input",min:"0",step:"0.1",placeholder:"0"}),(0,Pe.jsx)("span",{className:"km-unit",children:"km"})]})]},e._id))}),(0,Pe.jsx)("div",{className:"parameters-actions",children:(0,Pe.jsx)("button",{className:"btn btn-success",onClick:async()=>{p(!0);try{console.log("\ud83d\udcca Param\xe8tres \xe0 sauvegarder:",i);const e=i.map(e=>{var t;if(!e._id)throw console.error("\u274c Param\xe8tre sans ID:",e),new Error("Param\xe8tre sans ID d\xe9tect\xe9");const n=(null===(t=e.displayName)||void 0===t?void 0:t.trim())||"",a=parseFloat(e.kmValue)||0;return n||0!==a||console.warn("\u26a0\ufe0f Param\xe8tre sans valeur:",e),{_id:e._id,displayName:n||"Param\xe8tre ".concat(e.name||"inconnu"),kmValue:a}});console.log("\ud83d\udce4 Donn\xe9es envoy\xe9es:",e),console.log("\ud83d\udce4 URL de la requ\xeate:","/api/parameters/batch"),e.forEach((e,t)=>{var n;console.log("\ud83d\udccb Param\xe8tre ".concat(t+1,":"),{_id:e._id,displayName:e.displayName,kmValue:e.kmValue,displayNameLength:(null===(n=e.displayName)||void 0===n?void 0:n.length)||0,kmValueType:typeof e.kmValue,kmValueIsNaN:isNaN(e.kmValue)})});const t=await va.put("/parameters/batch",{parameters:e});console.log("\u2705 R\xe9ponse re\xe7ue:",t.data),Va.success("Param\xe8tres sauvegard\xe9s avec succ\xe8s")}catch(s){var e,t,n,a,r;console.error("\u274c Erreur lors de la sauvegarde:",s),console.error("\u274c D\xe9tails de l'erreur:",null===(e=s.response)||void 0===e?void 0:e.data),console.error("\u274c Status:",null===(t=s.response)||void 0===t?void 0:t.status),console.error("\u274c Headers:",null===(n=s.response)||void 0===n?void 0:n.headers);const l=(null===(a=s.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.error)||s.message||"Erreur inconnue";Va.error("Erreur lors de la sauvegarde: ".concat(l))}finally{p(!1)}},disabled:m,children:m?"\ud83d\udcbe Sauvegarde...":"\ud83d\udcbe Sauvegarder les param\xe8tres KM"})})]})]}),"templates"===l&&(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("div",{className:"card",children:[(0,Pe.jsxs)("div",{className:"card-header",children:[(0,Pe.jsx)("h3",{children:"\ud83d\udea8 Configuration des Alertes Email"}),(0,Pe.jsx)("p",{children:"Configurez les alertes pour les nouveaux arr\xeats maladie \xe0 valider"})]}),(0,Pe.jsx)("div",{className:"card-body",children:(0,Pe.jsxs)("div",{className:"alert-email-section",children:[(!i.find(e=>"storeEmail"===e.name)||!i.find(e=>"adminEmail"===e.name)||!i.find(e=>"alertStore"===e.name)||!i.find(e=>"alertAdmin"===e.name))&&(0,Pe.jsxs)("div",{className:"alert alert-warning",children:[(0,Pe.jsx)("p",{children:"\u26a0\ufe0f Certains param\xe8tres d'alerte email sont manquants."}),(0,Pe.jsx)("button",{className:"btn btn-primary",onClick:async()=>{try{const e=["storeEmail","adminEmail","alertStore","alertAdmin"].filter(e=>!i.find(t=>t.name===e));e.length>0&&(console.log("\ud83d\udcdd Cr\xe9ation des param\xe8tres manquants:",e),await Z(),Va.success("".concat(e.length," param\xe8tres cr\xe9\xe9s automatiquement")))}catch(e){console.error("\u274c Erreur lors de la cr\xe9ation des param\xe8tres:",e),Va.error("Erreur lors de la cr\xe9ation des param\xe8tres")}},children:"\ud83d\udd27 Cr\xe9er les param\xe8tres manquants"})]}),(0,Pe.jsx)("div",{className:"email-config",children:(0,Pe.jsxs)("div",{className:"email-input-group",children:[(0,Pe.jsx)("label",{htmlFor:"storeEmail",children:"\ud83d\udce7 Email du Magasin :"}),(0,Pe.jsx)("input",{type:"email",id:"storeEmail",value:(null===(e=i.find(e=>"storeEmail"===e.name))||void 0===e?void 0:e.stringValue)||"",onChange:e=>{if(i.find(e=>"storeEmail"===e.name)){const t=i.map(t=>"storeEmail"===t.name?Wt(Wt({},t),{},{stringValue:e.target.value}):t);c(t)}},className:"email-input",placeholder:"magasin@boulangerie.fr"})]})}),(0,Pe.jsx)("div",{className:"email-config",children:(0,Pe.jsxs)("div",{className:"email-input-group",children:[(0,Pe.jsx)("label",{htmlFor:"adminEmail",children:"\ud83d\udc51 Email de l'Administrateur :"}),(0,Pe.jsx)("input",{type:"email",id:"adminEmail",value:(null===(t=i.find(e=>"adminEmail"===e.name))||void 0===t?void 0:t.stringValue)||"",onChange:e=>{if(i.find(e=>"adminEmail"===e.name)){const t=i.map(t=>"adminEmail"===t.name?Wt(Wt({},t),{},{stringValue:e.target.value}):t);c(t)}},className:"email-input",placeholder:"admin@boulangerie.fr"})]})}),(0,Pe.jsx)("div",{className:"email-config",children:(0,Pe.jsxs)("div",{className:"email-input-group",children:[(0,Pe.jsx)("label",{children:"\ud83c\udfaf Destinataires des Alertes :"}),(0,Pe.jsxs)("div",{className:"recipient-options",children:[(0,Pe.jsxs)("label",{className:"checkbox-option",children:[(0,Pe.jsx)("input",{type:"checkbox",checked:(null===(n=i.find(e=>"alertStore"===e.name))||void 0===n?void 0:n.booleanValue)||!1,onChange:e=>{const t=i.find(e=>"alertStore"===e.name);t&&te(t._id,"booleanValue",e.target.checked)}}),(0,Pe.jsx)("span",{children:"\ud83d\udce7 Envoyer au Magasin"})]}),(0,Pe.jsxs)("label",{className:"checkbox-option",children:[(0,Pe.jsx)("input",{type:"checkbox",checked:(null===(a=i.find(e=>"alertAdmin"===e.name))||void 0===a?void 0:a.booleanValue)||!1,onChange:e=>{const t=i.find(e=>"alertAdmin"===e.name);t&&te(t._id,"booleanValue",e.target.checked)}}),(0,Pe.jsx)("span",{children:"\ud83d\udc51 Envoyer \xe0 l'Administrateur"})]})]})]})}),(0,Pe.jsx)("div",{className:"email-actions",children:(0,Pe.jsx)("button",{className:"btn btn-primary",onClick:async()=>{try{const e=i.filter(e=>["storeEmail","adminEmail","alertStore","alertAdmin"].includes(e.name));if(0===e.length)return void Va.error("Aucun param\xe8tre d'alerte trouv\xe9");const t=e.map(e=>({_id:e._id,displayName:e.displayName,stringValue:e.stringValue,booleanValue:e.booleanValue,kmValue:e.kmValue}));console.log("\ud83d\udce4 Sauvegarde des param\xe8tres d'alerte:",t),await va.put("/parameters/batch",{parameters:t}),Va.success("Configuration des alertes sauvegard\xe9e")}catch(e){console.error("\u274c Erreur lors de la sauvegarde:",e),Va.error("Erreur lors de la sauvegarde des alertes")}},children:"\ud83d\udcbe Sauvegarder la configuration des alertes"})})]})})]}),(0,Pe.jsxs)("div",{className:"card",children:[(0,Pe.jsxs)("div",{className:"card-header",children:[(0,Pe.jsx)("h3",{children:"\ud83d\udcb0 Configuration Demande d'Acompte"}),(0,Pe.jsx)("p",{children:"S\xe9lectionnez les salari\xe9s qui peuvent acc\xe9der \xe0 la demande d'acompte dans leur dashboard"})]}),(0,Pe.jsx)("div",{className:"card-body",children:G?(0,Pe.jsxs)("div",{style:{textAlign:"center",padding:"2rem"},children:[(0,Pe.jsx)("div",{className:"spinner"}),(0,Pe.jsx)("p",{children:"Chargement des employ\xe9s..."})]}):(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsx)("div",{className:"email-config",children:(0,Pe.jsxs)("div",{className:"email-input-group",children:[(0,Pe.jsx)("label",{children:"\ud83d\udc65 S\xe9lectionnez les salari\xe9s autoris\xe9s :"}),(0,Pe.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto",border:"1px solid #ddd",borderRadius:"8px",padding:"1rem",marginTop:"0.5rem"},children:0===K.length?(0,Pe.jsx)("p",{style:{color:"#666",fontStyle:"italic"},children:"Aucun employ\xe9 trouv\xe9"}):K.map(e=>{const t=i.find(e=>"enableEmployeeAdvanceRequest"===e.name),n=(null!==t&&void 0!==t&&t.stringValue?JSON.parse(t.stringValue||"[]"):[]).includes(e._id);return(0,Pe.jsxs)("label",{className:"checkbox-option",style:{display:"block",marginBottom:"0.75rem",padding:"0.5rem",borderRadius:"4px",backgroundColor:n?"#f0f8ff":"transparent"},children:[(0,Pe.jsx)("input",{type:"checkbox",checked:n,onChange:t=>{const n=i.find(e=>"enableEmployeeAdvanceRequest"===e.name);if(!n)return;let a=n.stringValue?JSON.parse(n.stringValue||"[]"):[];t.target.checked?a.includes(e._id)||a.push(e._id):a=a.filter(t=>t!==e._id),te(n._id,"stringValue",JSON.stringify(a))}}),(0,Pe.jsxs)("span",{style:{marginLeft:"0.5rem"},children:[e.name," ",e.email?"(".concat(e.email,")"):""]})]},e._id)})}),(0,Pe.jsx)("small",{className:"form-text text-muted",style:{marginTop:"0.5rem",display:"block"},children:"Seuls les salari\xe9s s\xe9lectionn\xe9s pourront voir et utiliser la demande d'acompte dans leur dashboard."})]})}),(0,Pe.jsx)("div",{className:"email-actions",style:{marginTop:"1.5rem"},children:(0,Pe.jsx)("button",{className:"btn btn-primary",onClick:async()=>{try{const e=i.find(e=>"enableEmployeeAdvanceRequest"===e.name);if(!e)return void Va.error("Param\xe8tre de demande d'acompte non trouv\xe9");const t=[{_id:e._id,displayName:e.displayName,stringValue:e.stringValue||"[]",kmValue:e.kmValue}];console.log("\ud83d\udce4 Sauvegarde du param\xe8tre d'acompte:",t),await va.put("/parameters/batch",{parameters:t}),Va.success("Configuration de la demande d'acompte sauvegard\xe9e")}catch(e){console.error("\u274c Erreur lors de la sauvegarde:",e),Va.error("Erreur lors de la sauvegarde de la configuration")}},children:"\ud83d\udcbe Sauvegarder la configuration"})})]})})]}),(0,Pe.jsxs)("div",{className:"card",children:[(0,Pe.jsxs)("div",{className:"card-header",children:[(0,Pe.jsx)("h3",{children:"\ud83d\udce7 Configuration Email Comptable"}),(0,Pe.jsx)("p",{children:"Adresse email pour l'envoi automatique des arr\xeats maladie valid\xe9s"})]}),(0,Pe.jsx)("div",{className:"card-body",children:(0,Pe.jsx)("div",{className:"accountant-email-section",children:i.find(e=>"accountantEmail"===e.name)?(0,Pe.jsxs)("div",{className:"email-config",children:[(0,Pe.jsxs)("div",{className:"email-input-group",children:[(0,Pe.jsx)("label",{htmlFor:"accountantEmail",children:"Email du comptable :"}),(0,Pe.jsx)("input",{type:"email",id:"accountantEmail",value:(null===(r=i.find(e=>"accountantEmail"===e.name))||void 0===r?void 0:r.stringValue)||"",onChange:e=>{if(i.find(e=>"accountantEmail"===e.name)){const t=i.map(t=>"accountantEmail"===t.name?Wt(Wt({},t),{},{stringValue:e.target.value}):t);c(t)}},className:"email-input",placeholder:"comptable@boulangerie.fr"})]}),(0,Pe.jsxs)("div",{className:"email-info",children:[(0,Pe.jsxs)("p",{children:["\ud83d\udca1 ",(0,Pe.jsx)("strong",{children:"Utilisation :"})," Cette adresse sera utilis\xe9e pour envoyer automatiquement les arr\xeats maladie valid\xe9s au comptable."]}),(0,Pe.jsxs)("p",{children:["\ud83d\udd12 ",(0,Pe.jsx)("strong",{children:"S\xe9curit\xe9 :"})," Vous pouvez \xe9galement configurer cette valeur via la variable d'environnement ",(0,Pe.jsx)("code",{children:"ACCOUNTANT_EMAIL"})," dans Render."]})]}),(0,Pe.jsx)("div",{className:"email-actions",children:(0,Pe.jsx)("button",{className:"btn btn-primary",onClick:async()=>{try{console.log("\ud83d\udd0d Tous les param\xe8tres:",i);const e=i.find(e=>"accountantEmail"===e.name);if(console.log("\ud83d\udce7 Param\xe8tre email comptable trouv\xe9:",e),e){console.log("\ud83d\udce4 Envoi de la requ\xeate PUT avec:",{stringValue:e.stringValue,_id:e._id});const t=await va.put("/parameters/".concat(e._id),{stringValue:e.stringValue});console.log("\u2705 R\xe9ponse re\xe7ue:",t.data),Va.success("Email du comptable sauvegard\xe9")}else console.log("\u274c Param\xe8tre email comptable non trouv\xe9"),Va.error("Param\xe8tre email comptable non trouv\xe9")}catch(t){var e;console.error("\u274c Erreur lors de la sauvegarde:",t),console.error("\u274c D\xe9tails:",null===(e=t.response)||void 0===e?void 0:e.data),Va.error("Erreur lors de la sauvegarde de l'email")}},children:"\ud83d\udcbe Sauvegarder l'email du comptable"})})]}):(0,Pe.jsxs)("div",{className:"no-email-param",children:[(0,Pe.jsx)("p",{children:"\u26a0\ufe0f Le param\xe8tre email comptable n'a pas encore \xe9t\xe9 cr\xe9\xe9."}),(0,Pe.jsx)("button",{className:"btn btn-secondary",onClick:async()=>{try{await va.post("/parameters",{name:"accountantEmail",displayName:"Email du Comptable",stringValue:"comptable@boulangerie.fr",kmValue:0}),Va.success("Param\xe8tre email comptable cr\xe9\xe9"),Z()}catch(e){Va.error("Erreur lors de la cr\xe9ation du param\xe8tre")}},children:"Cr\xe9er le param\xe8tre email comptable"})]})})})]}),(0,Pe.jsxs)("div",{className:"card",children:[(0,Pe.jsxs)("div",{className:"card-header",children:[(0,Pe.jsx)("h3",{children:"\ud83d\udce7 Gestion des Messages Email"}),(0,Pe.jsx)("p",{children:"Personnalisez le contenu des emails envoy\xe9s automatiquement"})]}),(0,Pe.jsx)("div",{className:"card-body",children:V?(0,Pe.jsxs)("div",{style:{textAlign:"center",padding:"2rem"},children:[(0,Pe.jsx)("div",{className:"loading"}),(0,Pe.jsx)("p",{children:"Chargement des templates d'email..."})]}):(0,Pe.jsx)("div",{className:"email-templates-section",children:0===z.length?(0,Pe.jsxs)("div",{className:"no-templates",children:[(0,Pe.jsx)("p",{children:"\u26a0\ufe0f Aucun template d'email configur\xe9."}),(0,Pe.jsx)("button",{className:"btn btn-primary",onClick:ce,disabled:B,children:B?"\ud83d\udd04 Initialisation...":"\ud83d\ude80 Cr\xe9er les templates par d\xe9faut"})]}):(0,Pe.jsxs)("div",{className:"templates-list",children:[(0,Pe.jsxs)("div",{className:"templates-header",children:[(0,Pe.jsx)("h4",{children:"\ud83d\udccb Templates disponibles"}),(0,Pe.jsx)("button",{className:"btn btn-secondary",onClick:ce,disabled:B,children:B?"\ud83d\udd04 Mise \xe0 jour...":"\ud83d\udd04 Mettre \xe0 jour les templates"})]}),z.map(e=>(0,Pe.jsxs)("div",{className:"template-item",children:[(0,Pe.jsxs)("div",{className:"template-info",children:[(0,Pe.jsxs)("div",{className:"template-header",children:[(0,Pe.jsx)("h5",{children:e.displayName}),(0,Pe.jsxs)("span",{className:"template-type",children:["sick_leave_validation"===e.name&&"\u2705 Validation","sick_leave_rejection"===e.name&&"\u274c Rejet","sick_leave_accountant"===e.name&&"\ud83d\udccb Comptable","sick_leave_alert"===e.name&&"\ud83d\udea8 Alerte","vacation_request_confirmation"===e.name&&"\ud83c\udfd6\ufe0f Confirmation Cong\xe9s","vacation_request_alert"===e.name&&"\ud83d\udea8 Alerte Cong\xe9s","vacation_request_validation"===e.name&&"\u2705 Validation Cong\xe9s","employee_password"===e.name&&"\ud83d\udd10 Mot de Passe Salari\xe9","advance_request_employee"===e.name&&"\ud83d\udcb0 Confirmation Acompte","advance_request_manager"===e.name&&"\ud83d\udd14 Alerte Acompte","advance_approved"===e.name&&"\u2705 Validation Acompte","advance_rejected"===e.name&&"\u274c Rejet Acompte"]})]}),(0,Pe.jsx)("p",{className:"template-description",children:e.description}),(0,Pe.jsxs)("div",{className:"template-subject",children:[(0,Pe.jsx)("strong",{children:"Sujet :"})," ",e.subject]})]}),(0,Pe.jsx)("div",{className:"template-actions",children:(0,Pe.jsx)("button",{className:"btn btn-primary",onClick:()=>(e=>{W(Wt({},e)),J(!0)})(e),children:"\u270f\ufe0f Modifier"})})]},e._id))]})})})]})]}),"database"===l&&(0,Pe.jsxs)("div",{className:"card",children:[(0,Pe.jsxs)("div",{className:"card-header",children:[(0,Pe.jsx)("h3",{children:"\ud83d\uddc4\ufe0f Gestion de la Base de Donn\xe9es"}),(0,Pe.jsx)("p",{children:"Sauvegarde et restauration compl\xe8te de la base de donn\xe9es"})]}),(0,Pe.jsxs)("div",{className:"card-body",children:[(0,Pe.jsxs)("div",{className:"database-stats",children:[(0,Pe.jsx)("h4",{children:"\ud83d\udcca Statistiques"}),R?(0,Pe.jsx)("p",{children:"Chargement des statistiques..."}):D?(0,Pe.jsxs)("div",{className:"stats-grid",children:[(0,Pe.jsxs)("div",{className:"stat-item",children:[(0,Pe.jsx)("span",{className:"stat-label",children:"Total documents:"}),(0,Pe.jsx)("span",{className:"stat-value",children:D.totalDocuments})]}),Object.entries(D.collections).map(e=>{let[t,n]=e;return(0,Pe.jsxs)("div",{className:"stat-item",children:[(0,Pe.jsxs)("span",{className:"stat-label",children:[t,":"]}),(0,Pe.jsx)("span",{className:"stat-value",children:n})]},t)})]}):(0,Pe.jsx)("p",{children:"Aucune statistique disponible"})]}),(0,Pe.jsxs)("div",{className:"database-actions",children:[(0,Pe.jsx)("h4",{children:"\ud83d\udcbe Sauvegarde & Restauration"}),(0,Pe.jsxs)("div",{className:"action-buttons",children:[(0,Pe.jsx)("button",{className:"btn btn-primary",onClick:async()=>{O(!0);try{const e=await va.get("/database/export",{responseType:"blob"}),t=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=t,n.setAttribute("download","boulangerie-backup-".concat((new Date).toISOString().split("T")[0],".json")),document.body.appendChild(n),n.click(),n.remove(),window.URL.revokeObjectURL(t),Va.success("Base de donn\xe9es export\xe9e avec succ\xe8s")}catch(e){console.error("\u274c Erreur lors de l'export:",e),Va.error("Erreur lors de l'export de la base de donn\xe9es")}finally{O(!1)}},disabled:L,children:L?"\ud83d\udce4 Export en cours...":"\ud83d\udce4 Exporter Base de Donn\xe9es"}),(0,Pe.jsxs)("div",{className:"import-section",children:[(0,Pe.jsx)("input",{type:"file",id:"importFile",accept:".json",onChange:async e=>{const t=e.target.files[0];if(t)if(t.name.endsWith(".json")){I(!0);try{const e=new FormData;e.append("backupFile",t);const n=await va.post("/database/import",e,{headers:{"Content-Type":"multipart/form-data"}});n.data.success?(Va.success("Base de donn\xe9es import\xe9e avec succ\xe8s"),Z(),ae(),se(),oe()):Va.error("Erreur lors de l'import: "+(n.data.error||"Erreur inconnue"))}catch(n){console.error("\u274c Erreur lors de l'import:",n),Va.error("Erreur lors de l'import de la base de donn\xe9es")}finally{I(!1),e.target.value=""}}else Va.error("Veuillez s\xe9lectionner un fichier JSON")},style:{display:"none"}}),(0,Pe.jsx)("label",{htmlFor:"importFile",className:"btn btn-warning ".concat(M?"disabled":""),children:M?"\ud83d\udce5 Import en cours...":"\ud83d\udce5 Importer Base de Donn\xe9es"})]})]}),(0,Pe.jsxs)("div",{className:"database-warning",children:[(0,Pe.jsx)("h5",{children:"\u26a0\ufe0f Attention"}),(0,Pe.jsxs)("ul",{children:[(0,Pe.jsx)("li",{children:"L'export cr\xe9e une sauvegarde compl\xe8te de toutes les donn\xe9es"}),(0,Pe.jsx)("li",{children:"L'import remplace TOUTES les donn\xe9es existantes"}),(0,Pe.jsx)("li",{children:"Assurez-vous d'avoir une sauvegarde r\xe9cente avant d'importer"}),(0,Pe.jsx)("li",{children:"L'op\xe9ration d'import ne peut pas \xeatre annul\xe9e"})]})]})]})]})]})]}),$&&H&&(0,Pe.jsx)("div",{className:"modal-overlay",children:(0,Pe.jsxs)("div",{className:"modal-content template-editor",children:[(0,Pe.jsxs)("div",{className:"modal-header",children:[(0,Pe.jsxs)("h3",{children:["\u270f\ufe0f Modifier le Template : ",H.displayName]}),(0,Pe.jsx)("button",{className:"modal-close",onClick:ue,children:"\xd7"})]}),(0,Pe.jsx)("div",{className:"modal-body",children:(0,Pe.jsxs)("div",{className:"template-editor-form",children:[(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{children:"Nom d'affichage :"}),(0,Pe.jsx)("input",{type:"text",value:H.displayName,onChange:e=>de("displayName",e.target.value),className:"form-input"})]}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{children:"Sujet de l'email :"}),(0,Pe.jsx)("input",{type:"text",value:H.subject,onChange:e=>de("subject",e.target.value),className:"form-input",placeholder:"Utilisez {{variable}} pour les variables"})]}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{children:"Description :"}),(0,Pe.jsx)("textarea",{value:H.description,onChange:e=>de("description",e.target.value),className:"form-textarea",rows:"2"})]}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{children:"Contenu HTML :"}),(0,Pe.jsx)("textarea",{value:H.htmlContent,onChange:e=>de("htmlContent",e.target.value),className:"form-textarea template-html",rows:"15",placeholder:"Contenu HTML de l'email"})]}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{children:"Contenu Texte :"}),(0,Pe.jsx)("textarea",{value:H.textContent,onChange:e=>de("textContent",e.target.value),className:"form-textarea template-text",rows:"10",placeholder:"Version texte de l'email"})]}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{children:"Variables disponibles :"}),(0,Pe.jsx)("div",{className:"variables-list",children:H.variables.map((e,t)=>(0,Pe.jsxs)("div",{className:"variable-item",children:[(0,Pe.jsx)("code",{children:"{{".concat(e.name,"}}")}),(0,Pe.jsx)("span",{className:"variable-description",children:e.description}),e.example&&(0,Pe.jsxs)("span",{className:"variable-example",children:["Ex: ",e.example]})]},t))})]})]})}),(0,Pe.jsxs)("div",{className:"modal-footer",children:[(0,Pe.jsx)("button",{className:"btn btn-secondary",onClick:ue,children:"Annuler"}),(0,Pe.jsx)("button",{className:"btn btn-primary",onClick:async()=>{if(H){q(!0);try{await va.put("/email-templates/".concat(H._id),{displayName:H.displayName,subject:H.subject,htmlContent:H.htmlContent,textContent:H.textContent,description:H.description,variables:H.variables}),Va.success("Template sauvegard\xe9 avec succ\xe8s"),J(!1),W(null),ie()}catch(e){console.error("\u274c Erreur lors de la sauvegarde:",e),Va.error("Erreur lors de la sauvegarde du template")}finally{q(!1)}}},disabled:B,children:B?"\ud83d\udcbe Sauvegarde...":"\ud83d\udcbe Sauvegarder"})]})]})})]})},ar=()=>{console.log("\ud83c\udfd6\ufe0f HolidayStatus - Composant charg\xe9"),console.log("\ud83c\udfd6\ufe0f HolidayStatus - URL actuelle:",window.location.href);const[e,t]=(0,s.useState)([]),[n,a]=(0,s.useState)(!1),[r,l]=(0,s.useState)(new Set),[o,i]=(0,s.useState)(new Set);(0,s.useEffect)(()=>{console.log("\ud83c\udfd6\ufe0f HolidayStatus - Chargement automatique des donn\xe9es"),c()},[]);const c=async()=>{a(!0);try{var e,n;console.log("\ud83d\udd04 Chargement des cong\xe9s depuis l'API backend...");const a=(await va.get("/vacation-requests?city=Arras")).data;if(console.log("\ud83d\udcca Donn\xe9es re\xe7ues:",a),console.log("\ud83d\udcca Structure des donn\xe9es:",{success:a.success,hasData:!!a.data,dataLength:(null===(e=a.data)||void 0===e?void 0:e.length)||0,firstItem:null===(n=a.data)||void 0===n?void 0:n[0]}),a.success&&a.data){const e=a.data.map(e=>({id:e._id,timestamp:new Date(e.uploadDate).toLocaleString("fr-FR"),boulangerie:e.city||"Arras",nom:e.employeeName.split(" ")[1]||"",prenom:e.employeeName.split(" ")[0]||"",dateDebut:new Date(e.startDate).toLocaleDateString("fr-FR"),dateFin:new Date(e.endDate).toLocaleDateString("fr-FR"),commentaire:e.precisions||"",status:e.status,duration:e.duration,reason:e.reason,employeeEmail:e.employeeEmail}));console.log("\u2705 Cong\xe9s r\xe9cup\xe9r\xe9s depuis l'API:",e),console.log("\u2705 Nombre de cong\xe9s:",e.length),console.log("\u2705 Cong\xe9s valid\xe9s:",e.filter(e=>"validated"===e.status).length),t(e)}else console.log("\u26a0\ufe0f Aucune donn\xe9e re\xe7ue ou format invalide"),t([])}catch(r){console.error("\u274c Erreur lors du chargement des cong\xe9s:",r),t([])}finally{a(!1)}};return n?(0,Pe.jsx)("div",{className:"holiday-status",children:(0,Pe.jsxs)("div",{className:"loading-container",children:[(0,Pe.jsx)("div",{className:"loading"}),(0,Pe.jsx)("p",{children:"Chargement des cong\xe9s..."})]})}):(0,Pe.jsxs)("div",{className:"holiday-status",children:[(0,Pe.jsxs)("div",{className:"holiday-header",children:[(0,Pe.jsx)("h3",{children:"\ud83c\udfd6\ufe0f \xc9tat des Cong\xe9s"}),(0,Pe.jsxs)("div",{style:{background:"#17a2b8",color:"white",padding:"5px 10px",margin:"5px 0",borderRadius:"3px",fontSize:"12px",fontWeight:"bold"},children:["\ud83d\ude80 D\xc9PLOIEMENT #012 - ",(new Date).toLocaleString()]}),(0,Pe.jsxs)("div",{className:"holiday-actions",children:[(0,Pe.jsx)("button",{className:"btn btn-primary",onClick:c,disabled:n,children:"\ud83d\udd04 Actualiser"}),(0,Pe.jsx)("button",{className:"btn btn-success",onClick:()=>{const t=e.filter(e=>"validated"===e.status),n=window.open("","_blank");n.document.write('\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <title>Planning Annuel - Cong\xe9s Valid\xe9s</title>\n        <style>\n          @page { \n            size: A4 landscape; \n            margin: 1cm; \n          }\n          body { \n            font-family: Arial, sans-serif; \n            margin: 0; \n            padding: 20px; \n          }\n          .header {\n            text-align: center;\n            margin-bottom: 30px;\n            border-bottom: 2px solid #000;\n            padding-bottom: 20px;\n          }\n          .header h1 {\n            margin: 0;\n            font-size: 24px;\n          }\n          .planning-grid {\n            display: grid;\n            grid-template-columns: repeat(12, 1fr);\n            gap: 2px;\n            margin-bottom: 20px;\n          }\n          .month-header {\n            background: #f0f0f0;\n            padding: 10px;\n            text-align: center;\n            font-weight: bold;\n            border: 1px solid #000;\n          }\n          .holiday-item {\n            background: #e8f5e8;\n            padding: 5px;\n            margin: 2px 0;\n            border: 1px solid #ccc;\n            font-size: 10px;\n            border-radius: 3px;\n          }\n          .employee-name {\n            font-weight: bold;\n          }\n          .dates {\n            color: #666;\n            font-size: 9px;\n          }\n        </style>\n      </head>\n      <body>\n        <div class="header">\n          <h1>Planning Annuel - Cong\xe9s Valid\xe9s</h1>\n          <p>Boulangerie Arras - '.concat((new Date).getFullYear(),'</p>\n        </div>\n        \n        <div class="planning-grid">\n          ').concat(Array.from({length:12},(e,n)=>{const a=["Jan","F\xe9v","Mar","Avr","Mai","Jun","Jul","Ao\xfb","Sep","Oct","Nov","D\xe9c"][n],r=t.filter(e=>new Date(e.dateDebut).getMonth()===n);return'\n              <div class="month-header">'.concat(a,"</div>\n              <div>\n                ").concat(r.map(e=>'\n                  <div class="holiday-item">\n                    <div class="employee-name">'.concat(e.prenom," ").concat(e.nom,'</div>\n                    <div class="dates">').concat(e.dateDebut," - ").concat(e.dateFin,"</div>\n                  </div>\n                ")).join(""),"\n              </div>\n            ")}).join(""),"\n        </div>\n      </body>\n      </html>\n    ")),n.document.close(),n.print()},disabled:0===e.filter(e=>"validated"===e.status).length,children:"\ud83d\udda8\ufe0f Imprimer Planning"})]})]}),(0,Pe.jsxs)("div",{className:"holiday-stats",children:[(0,Pe.jsxs)("div",{className:"stat-item",children:[(0,Pe.jsx)("span",{className:"stat-number",children:e.length}),(0,Pe.jsx)("span",{className:"stat-label",children:"Total"})]}),(0,Pe.jsxs)("div",{className:"stat-item",children:[(0,Pe.jsx)("span",{className:"stat-number",children:e.filter(e=>"validated"===e.status).length}),(0,Pe.jsx)("span",{className:"stat-label",children:"Valid\xe9s"})]}),(0,Pe.jsxs)("div",{className:"stat-item",children:[(0,Pe.jsx)("span",{className:"stat-number",children:e.filter(e=>"rejected"===e.status).length}),(0,Pe.jsx)("span",{className:"stat-label",children:"Rejet\xe9s"})]}),(0,Pe.jsxs)("div",{className:"stat-item",children:[(0,Pe.jsx)("span",{className:"stat-number",children:e.filter(e=>"pending"===e.status).length}),(0,Pe.jsx)("span",{className:"stat-label",children:"En attente"})]})]}),(0,Pe.jsxs)("div",{className:"holiday-info",children:[(0,Pe.jsx)("p",{children:'\ud83d\udcca Utilisez le bouton "Imprimer Planning" pour voir le calendrier des cong\xe9s valid\xe9s.'}),(0,Pe.jsx)("p",{children:'\ud83d\udccb Pour g\xe9rer les demandes de cong\xe9s, utilisez la page "Gestion des cong\xe9s".'})]})]})},rr=()=>{const[e,t]=(0,s.useState)(null),[n,a]=(0,s.useState)(!1),[r,l]=(0,s.useState)((new Date).getMonth()+1),[o,i]=(0,s.useState)((new Date).getFullYear()),[c,d]=(0,s.useState)([]),u=e=>["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xfbt","Septembre","Octobre","Novembre","D\xe9cembre"][e-1],m=e=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(e);return n?(0,Pe.jsx)("div",{className:"employee-status-print fade-in",children:(0,Pe.jsx)("div",{className:"card",children:(0,Pe.jsxs)("div",{style:{textAlign:"center",padding:"2rem"},children:[(0,Pe.jsx)("div",{className:"loading"}),(0,Pe.jsx)("p",{children:"Chargement des donn\xe9es..."})]})})}):(0,Pe.jsxs)("div",{className:"employee-status-print fade-in",children:[(0,Pe.jsxs)("div",{className:"page-header",children:[(0,Pe.jsxs)("h2",{children:["\ud83d\udcc4 \xc9tat des Salari\xe9s - ",u(r)," ",o]}),(0,Pe.jsxs)("div",{className:"header-actions",children:[(0,Pe.jsxs)("div",{className:"date-selector",children:[(0,Pe.jsx)("select",{value:r,onChange:e=>l(parseInt(e.target.value)),className:"form-control",children:Array.from({length:12},(e,t)=>(0,Pe.jsx)("option",{value:t+1,children:u(t+1)},t+1))}),(0,Pe.jsx)("select",{value:o,onChange:e=>i(parseInt(e.target.value)),className:"form-control",children:Array.from({length:10},(e,t)=>{const n=(new Date).getFullYear()-2+t;return(0,Pe.jsx)("option",{value:n,children:n},n)})})]}),(0,Pe.jsx)("button",{className:"btn btn-primary",onClick:async()=>{a(!0);try{const e=await va.get("/employee-status?month=".concat(r,"&year=").concat(o));t(e.data),await(async()=>{try{const e=await va.get("/advance-requests");if(e.data.success){const t=u(r),n=o.toString(),a=e.data.data.filter(e=>"approved"===e.status&&e.deductionMonth==="".concat(t," ").concat(n));d(a)}}catch(e){console.error("Erreur lors du chargement des acomptes:",e)}})()}catch(e){console.error("Erreur lors du chargement des donn\xe9es:",e),Va.error("Erreur lors du chargement des donn\xe9es")}finally{a(!1)}},disabled:n,children:n?"\ud83d\udd04 Chargement...":"\ud83d\udd04 Actualiser"}),(0,Pe.jsx)("button",{className:"btn btn-success",onClick:()=>{const e=window.open("","_blank"),t=document.querySelector(".print-content");t?(e.document.write("\n        <!DOCTYPE html>\n        <html>\n        <head>\n          <title>\xc9tat des Salari\xe9s - ".concat(u(r)," ").concat(o,"</title>\n          <style>\n            body { \n              font-family: Arial, sans-serif; \n              margin: 0; \n              padding: 20px; \n              color: #000;\n            }\n            .print-header {\n              text-align: center;\n              margin-bottom: 30px;\n              border-bottom: 2px solid #000;\n              padding-bottom: 20px;\n            }\n            .print-header h1 {\n              margin: 0 0 10px 0;\n              font-size: 24px;\n              font-weight: bold;\n            }\n            .print-header h2 {\n              margin: 0 0 10px 0;\n              font-size: 18px;\n            }\n            .print-date {\n              font-size: 12px;\n              color: #666;\n            }\n            .status-table {\n              width: 100%;\n              border-collapse: collapse;\n              margin-bottom: 30px;\n            }\n            .status-table th,\n            .status-table td {\n              border: 1px solid #000;\n              padding: 8px;\n              text-align: left;\n            }\n            .status-table th {\n              background: #f0f0f0;\n              font-weight: bold;\n            }\n            .totals-row {\n              background: #f0f0f0;\n              font-weight: bold;\n            }\n            .print-summary {\n              margin-top: 20px;\n            }\n            .summary-item {\n              margin-bottom: 10px;\n            }\n            @media print {\n              body { margin: 0; padding: 15px; }\n              .status-table tbody tr { page-break-inside: avoid; }\n            }\n          </style>\n        </head>\n        <body>\n          ").concat(t.outerHTML,"\n        </body>\n        </html>\n      ")),e.document.close(),e.focus(),e.print(),e.close()):window.print()},disabled:!e,children:"\ud83d\udda8\ufe0f Imprimer"}),(0,Pe.jsx)("button",{className:"btn btn-info",onClick:()=>{if(!e)return;let t="data:text/csv;charset=utf-8,";t+=["Salari\xe9","Frais Repas","Total KM","Total G\xe9n\xe9ral"].join(",")+"\n",e.employees&&e.employees.length>0?(e.employees.forEach(e=>{const n=['"'.concat(e.name||"N/A",'"'),'"'.concat(e.mealExpenses||"0,00 \u20ac",'"'),'"'.concat(e.totalKm||"0 km",'"'),'"'.concat(e.totalGeneral||"0,00 \u20ac",'"')];t+=n.join(",")+"\n"}),e.totals&&(t+='"TOTAUX","'.concat(e.totals.mealExpenses||"0,00 \u20ac",'","').concat(e.totals.totalKm||"0 km",'","').concat(e.totals.totalGeneral||"0,00 \u20ac",'"\n'))):t+='"Aucune donn\xe9e disponible","","",""\n';const n=encodeURI(t),a=document.createElement("a");a.setAttribute("href",n),a.setAttribute("download","etat_salaries_".concat(u(r),"_").concat(o,".csv")),document.body.appendChild(a),a.click(),document.body.removeChild(a)},disabled:!e,children:"\ud83d\udcca Exporter Excel"})]})]}),e&&(0,Pe.jsxs)("div",{className:"print-content",children:[(0,Pe.jsxs)("div",{className:"print-header",children:[(0,Pe.jsx)("h1",{children:"\xc9tat des Salari\xe9s"}),(0,Pe.jsxs)("h2",{children:[u(e.month)," ",e.year]}),(0,Pe.jsxs)("div",{className:"print-date",children:["G\xe9n\xe9r\xe9 le ",(new Date).toLocaleDateString("fr-FR")]})]}),(0,Pe.jsx)("div",{className:"print-table",children:(0,Pe.jsxs)("table",{className:"status-table",children:[(0,Pe.jsx)("thead",{children:(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("th",{children:"Salari\xe9"}),(0,Pe.jsx)("th",{children:"Frais Repas"}),(0,Pe.jsx)("th",{children:"Total KM"}),(0,Pe.jsx)("th",{children:"Total G\xe9n\xe9ral"})]})}),(0,Pe.jsx)("tbody",{children:e.employees.map(e=>(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{className:"employee-name",children:(0,Pe.jsx)("strong",{children:e.employeeName})}),(0,Pe.jsx)("td",{className:"meal-amount",children:m(e.mealExpense.totalAmount)}),(0,Pe.jsxs)("td",{className:"km-amount",children:[e.kmExpense.totalKm," km"]}),(0,Pe.jsx)("td",{className:"total-amount",children:(0,Pe.jsx)("strong",{children:m(e.mealExpense.totalAmount)})})]},e.employeeId))}),(0,Pe.jsx)("tfoot",{children:(0,Pe.jsxs)("tr",{className:"totals-row",children:[(0,Pe.jsx)("td",{children:(0,Pe.jsx)("strong",{children:"TOTAUX"})}),(0,Pe.jsx)("td",{children:(0,Pe.jsx)("strong",{children:m(e.employees.reduce((e,t)=>e+t.mealExpense.totalAmount,0))})}),(0,Pe.jsx)("td",{children:(0,Pe.jsxs)("strong",{children:[e.employees.reduce((e,t)=>e+t.kmExpense.totalKm,0)," km"]})}),(0,Pe.jsx)("td",{children:(0,Pe.jsx)("strong",{children:m(e.employees.reduce((e,t)=>e+t.mealExpense.totalAmount,0))})})]})})]})}),(0,Pe.jsxs)("div",{className:"print-summary",children:[(0,Pe.jsxs)("div",{className:"summary-item",children:[(0,Pe.jsx)("strong",{children:"Nombre de salari\xe9s :"})," ",e.employees.length]}),(0,Pe.jsxs)("div",{className:"summary-item",children:[(0,Pe.jsx)("strong",{children:"Total frais repas :"})," ",m(e.employees.reduce((e,t)=>e+t.mealExpense.totalAmount,0))]}),(0,Pe.jsxs)("div",{className:"summary-item",children:[(0,Pe.jsx)("strong",{children:"Total kilom\xe8tres :"})," ",e.employees.reduce((e,t)=>e+t.kmExpense.totalKm,0)," km"]})]}),c.length>0&&(0,Pe.jsxs)("div",{className:"advance-summary",children:[(0,Pe.jsxs)("h3",{children:["\ud83d\udcb0 Acomptes sur Salaire - ",u(r)," ",o]}),(0,Pe.jsx)("div",{className:"advance-table",children:(0,Pe.jsxs)("table",{className:"status-table",children:[(0,Pe.jsx)("thead",{children:(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("th",{children:"Salari\xe9"}),(0,Pe.jsx)("th",{children:"Montant Acompte"}),(0,Pe.jsx)("th",{children:"Date de Demande"}),(0,Pe.jsx)("th",{children:"Commentaire"})]})}),(0,Pe.jsx)("tbody",{children:c.map(e=>(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{className:"employee-name",children:(0,Pe.jsx)("strong",{children:e.employeeName})}),(0,Pe.jsx)("td",{className:"advance-amount",children:(0,Pe.jsx)("strong",{children:m(e.amount)})}),(0,Pe.jsx)("td",{className:"request-date",children:new Date(e.createdAt).toLocaleDateString("fr-FR")}),(0,Pe.jsx)("td",{className:"comment",children:e.managerComment||e.comment||"-"})]},e._id))}),(0,Pe.jsx)("tfoot",{children:(0,Pe.jsxs)("tr",{className:"totals-row",children:[(0,Pe.jsx)("td",{children:(0,Pe.jsx)("strong",{children:"TOTAL ACOMPTES"})}),(0,Pe.jsx)("td",{children:(0,Pe.jsx)("strong",{children:m(c.reduce((e,t)=>e+t.amount,0))})}),(0,Pe.jsx)("td",{colSpan:"2"})]})})]})}),(0,Pe.jsxs)("div",{className:"advance-summary-stats",children:[(0,Pe.jsxs)("div",{className:"summary-item",children:[(0,Pe.jsx)("strong",{children:"Nombre d'acomptes :"})," ",c.length]}),(0,Pe.jsxs)("div",{className:"summary-item",children:[(0,Pe.jsx)("strong",{children:"Montant total des acomptes :"})," ",m(c.reduce((e,t)=>e+t.amount,0))]})]})]})]}),!e&&!n&&(0,Pe.jsxs)("div",{className:"card",style:{textAlign:"center",padding:"3rem"},children:[(0,Pe.jsx)("h3",{children:"\ud83d\udcc4 Aucune donn\xe9e"}),(0,Pe.jsx)("p",{children:'Cliquez sur "Actualiser" pour charger les donn\xe9es du mois s\xe9lectionn\xe9.'})]}),(0,Pe.jsx)("div",{style:{marginTop:"2rem"},children:(0,Pe.jsx)(ar,{})})]})},sr=()=>{const[e,t]=(0,s.useState)([]),[n,a]=(0,s.useState)(!0);(0,s.useEffect)(()=>{r()},[]);const r=async()=>{try{a(!0);const e=await va.get("/employees");let n=null;e.data.success&&e.data.data?n=e.data.data:Array.isArray(e.data)&&(n=e.data),n?t(n):(t([]),Va.error("Format de donn\xe9es invalide"))}catch(e){Va.error("Erreur lors du chargement des employ\xe9s"),console.error(e),t([])}finally{a(!1)}};if(n)return(0,Pe.jsx)("div",{className:"card",children:(0,Pe.jsxs)("div",{style:{textAlign:"center",padding:"2rem"},children:[(0,Pe.jsx)("div",{className:"loading"}),(0,Pe.jsx)("p",{children:"Chargement des tuteurs..."})]})});const l=(()=>{const t={};return e.filter(e=>"Apprentissage"===e.contractType&&e.tutor).forEach(n=>{const a=n.tutor;if(!t[a]){const n=e.find(e=>e._id===a);n&&(t[a]={tutor:n,apprentices:[]})}t[a]&&t[a].apprentices.push(n)}),Object.values(t)})();return(0,Pe.jsxs)("div",{className:"tutors fade-in",children:[(0,Pe.jsxs)("div",{className:"page-header",children:[(0,Pe.jsx)("h2",{children:"\ud83d\udc68\u200d\ud83c\udfeb Gestion des Tuteurs"}),(0,Pe.jsx)("p",{children:"Liste des tuteurs et de leurs apprentis"})]}),0===l.length?(0,Pe.jsxs)("div",{className:"card",style:{textAlign:"center",padding:"3rem"},children:[(0,Pe.jsx)("h3",{children:"\ud83d\udc68\u200d\ud83c\udfeb Aucun tuteur trouv\xe9"}),(0,Pe.jsx)("p",{children:"Aucun apprenti n'a de tuteur assign\xe9 pour le moment."})]}):(0,Pe.jsx)("div",{className:"card",children:(0,Pe.jsx)("div",{style:{overflowX:"auto"},children:(0,Pe.jsxs)("table",{className:"table",children:[(0,Pe.jsx)("thead",{children:(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("th",{children:"Tuteur"}),(0,Pe.jsx)("th",{children:"R\xf4le"}),(0,Pe.jsx)("th",{children:"Statut"}),(0,Pe.jsx)("th",{children:"Apprentis"}),(0,Pe.jsx)("th",{children:"D\xe9tails des apprentis"})]})}),(0,Pe.jsx)("tbody",{children:l.map((e,t)=>{return(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{children:(0,Pe.jsx)("strong",{children:e.tutor.name})}),(0,Pe.jsx)("td",{children:(n=e.tutor.role,{vendeuse:"Vendeuse",apprenti:"Apprenti",responsable:"Responsable",manager:"Manager",preparateur:"Pr\xe9parateur",chef_prod:"Chef Prod",boulanger:"Boulanger"}[n]||n)}),(0,Pe.jsx)("td",{children:(0,Pe.jsx)("span",{style:{color:e.tutor.isActive?"#28a745":"#dc3545",fontWeight:"bold"},children:e.tutor.isActive?"Actif":"Inactif"})}),(0,Pe.jsx)("td",{children:(0,Pe.jsx)("span",{style:{backgroundColor:"#007bff",color:"white",padding:"0.25rem 0.5rem",borderRadius:"50%",fontSize:"0.9rem",fontWeight:"bold"},children:e.apprentices.length})}),(0,Pe.jsx)("td",{children:(0,Pe.jsx)("div",{style:{maxWidth:"300px"},children:e.apprentices.map((e,t)=>{var n,a;return(0,Pe.jsxs)("div",{style:{marginBottom:"0.5rem",padding:"0.5rem",backgroundColor:"#f8f9fa",borderRadius:"4px",border:"1px solid #dee2e6"},children:[(0,Pe.jsx)("div",{style:{fontWeight:"bold",color:"#495057"},children:e.name}),(0,Pe.jsxs)("div",{style:{fontSize:"0.9rem",color:"#6c757d"},children:["\xc2ge: ",e.age," ans",e.isMinor&&(0,Pe.jsx)("span",{style:{color:"#ffc107",marginLeft:"0.5rem"},children:"(Mineur)"})]}),(0,Pe.jsxs)("div",{style:{fontSize:"0.9rem",color:"#6c757d"},children:["Contrat: ",e.contractType]}),e.contractEndDate&&(0,Pe.jsxs)("div",{style:{fontSize:"0.9rem",color:"#6c757d"},children:["Fin: ",(a=e.contractEndDate,a?new Date(a).toLocaleDateString("fr-FR"):"-")]}),(0,Pe.jsxs)("div",{style:{fontSize:"0.9rem",color:"#6c757d"},children:["Formation: ",(null===(n=e.trainingDays)||void 0===n?void 0:n.join(", "))||"Aucune"]}),(0,Pe.jsxs)("div",{style:{fontSize:"0.9rem",color:"#6c757d"},children:["Statut:",(0,Pe.jsx)("span",{style:{color:e.isActive?"#28a745":"#dc3545",fontWeight:"bold",marginLeft:"0.25rem"},children:e.isActive?"Actif":"Inactif"})]})]},e._id)})})})]},e.tutor._id);var n})})]})})}),(0,Pe.jsxs)("div",{className:"card",style:{marginTop:"1.5rem"},children:[(0,Pe.jsx)("h3",{children:"\ud83d\udcca Statistiques"}),(0,Pe.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[(0,Pe.jsxs)("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[(0,Pe.jsx)("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#007bff"},children:l.length}),(0,Pe.jsx)("div",{style:{color:"#6c757d"},children:"Tuteurs actifs"})]}),(0,Pe.jsxs)("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[(0,Pe.jsx)("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#28a745"},children:e.filter(e=>"Apprentissage"===e.contractType).length}),(0,Pe.jsx)("div",{style:{color:"#6c757d"},children:"Apprentis total"})]}),(0,Pe.jsxs)("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[(0,Pe.jsx)("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#ffc107"},children:e.filter(e=>"Apprentissage"===e.contractType&&!e.tutor).length}),(0,Pe.jsx)("div",{style:{color:"#6c757d"},children:"Sans tuteur"})]})]})]})]})},lr=()=>{const[e,t]=(0,s.useState)({employeeName:"",employeeEmail:"",startDate:"",endDate:""}),[n,a]=(0,s.useState)(null),[r,l]=(0,s.useState)(null),[o,i]=(0,s.useState)(!1),[c,d]=(0,s.useState)(""),[u,m]=(0,s.useState)(""),[p,h]=(0,s.useState)([]),[f,v]=(0,s.useState)(!0),g="https://boulangerie-planning-api-4-pbfy.onrender.com/api";(0,s.useEffect)(()=>{(async()=>{try{console.log("\ud83d\udd04 Chargement des employ\xe9s depuis:","".concat(g,"/employees"));const e=await ha.get("".concat(g,"/employees"));console.log("\ud83d\udcca R\xe9ponse API employ\xe9s:",e.data);let t=null;e.data.success&&e.data.data?t=e.data.data:Array.isArray(e.data)&&(t=e.data),t?(h(t),console.log("\u2705 Employ\xe9s charg\xe9s:",t)):(console.error("\u274c R\xe9ponse API invalide:",e.data),d("Erreur: r\xe9ponse API invalide"),m("error"))}catch(e){console.error("\u274c Erreur r\xe9cup\xe9ration employ\xe9s:",e),d("Erreur lors du chargement de la liste des employ\xe9s"),m("error")}finally{v(!1)}})()},[g]);const y=e=>{const{name:n,value:a}=e.target;if("employeeName"===n){const e=p.find(e=>e.name===a);t(t=>Wt(Wt({},t),{},{[n]:a,employeeEmail:e?e.email:""}))}else t(e=>Wt(Wt({},e),{},{[n]:a}))},x=()=>(new Date).toISOString().split("T")[0];return(0,Pe.jsx)("div",{className:"sick-leave-upload-standalone",children:(0,Pe.jsxs)("div",{className:"upload-container",children:[(0,Pe.jsxs)("div",{className:"upload-header",children:[(0,Pe.jsx)("h1",{children:"\ud83d\udccb Envoi d'Arr\xeat Maladie"}),(0,Pe.jsx)("p",{children:"Envoyez votre arr\xeat maladie"})]}),(0,Pe.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),!n)return d("Veuillez s\xe9lectionner un fichier"),void m("error");i(!0),d("");try{const r=new FormData;r.append("sickLeaveFile",n),r.append("employeeName",e.employeeName),r.append("employeeEmail",e.employeeEmail),r.append("startDate",e.startDate),r.append("endDate",e.endDate);const s=await ha.post("".concat(g,"/sick-leaves/upload"),r,{headers:{"Content-Type":"multipart/form-data"}});s.data.success?(d("Arr\xeat maladie envoy\xe9 avec succ\xe8s !"),m("success"),t({employeeName:"",employeeEmail:"",startDate:"",endDate:""}),a(null),l(null),document.getElementById("fileInput").value=""):(d(s.data.error||"Erreur lors de l'envoi"),m("error"))}catch(c){var s,o;console.error("Erreur upload:",c),d((null===(s=c.response)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.error)||"Erreur lors de l'envoi de l'arr\xeat maladie"),m("error")}finally{i(!1)}},className:"upload-form",children:[(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{htmlFor:"employeeName",children:"Nom complet *"}),(0,Pe.jsxs)("select",{id:"employeeName",name:"employeeName",value:e.employeeName,onChange:y,required:!0,disabled:f,children:[(0,Pe.jsx)("option",{value:"",children:f?"Chargement...":"S\xe9lectionnez votre nom"}),p.map(e=>(0,Pe.jsx)("option",{value:e.name,children:e.name},e._id))]})]}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{htmlFor:"employeeEmail",children:"Email *"}),(0,Pe.jsx)("input",{type:"email",id:"employeeEmail",name:"employeeEmail",value:e.employeeEmail,onChange:y,required:!0,placeholder:"votre.email@exemple.com",readOnly:!0,className:"readonly-input"})]}),(0,Pe.jsxs)("div",{className:"date-group",children:[(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{htmlFor:"startDate",children:"Date de d\xe9but d'arr\xeat *"}),(0,Pe.jsx)("input",{type:"date",id:"startDate",name:"startDate",value:e.startDate,onChange:y,required:!0,max:x()})]}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{htmlFor:"endDate",children:"Date de fin d'arr\xeat *"}),(0,Pe.jsx)("input",{type:"date",id:"endDate",name:"endDate",value:e.endDate,onChange:y,required:!0,min:e.startDate||x()})]})]}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{htmlFor:"fileInput",children:"Arr\xeat maladie (JPG ou PDF) *"}),(0,Pe.jsxs)("div",{className:"file-upload-area",children:[(0,Pe.jsx)("input",{type:"file",id:"fileInput",accept:".jpg,.jpeg,.pdf",onChange:e=>{const t=e.target.files[0];if(t){if(!["image/jpeg","image/jpg","application/pdf"].includes(t.type))return d("Seuls les fichiers JPG et PDF sont accept\xe9s"),void m("error");if(t.size>10485760)return d("Le fichier ne doit pas d\xe9passer 10MB"),void m("error");if(a(t),d(""),m(""),t.type.startsWith("image/")){const e=new FileReader;e.onload=e=>{l(e.target.result)},e.readAsDataURL(t)}else l(null)}},required:!0,className:"file-input"}),(0,Pe.jsx)("label",{htmlFor:"fileInput",className:"file-label",children:n?(0,Pe.jsxs)("div",{className:"file-selected",children:[(0,Pe.jsx)("span",{className:"file-icon",children:"\ud83d\udcc4"}),(0,Pe.jsx)("span",{className:"file-name",children:n.name}),(0,Pe.jsxs)("span",{className:"file-size",children:["(",(n.size/1024/1024).toFixed(2)," MB)"]})]}):(0,Pe.jsxs)("div",{className:"file-placeholder",children:[(0,Pe.jsx)("span",{className:"upload-icon",children:"\ud83d\udce4"}),(0,Pe.jsx)("span",{children:"Cliquez pour s\xe9lectionner un fichier"}),(0,Pe.jsx)("small",{children:"JPG, PDF (max 10MB)"})]})})]})]}),r&&(0,Pe.jsxs)("div",{className:"preview-container",children:[(0,Pe.jsx)("h3",{children:"Aper\xe7u :"}),(0,Pe.jsx)("img",{src:r,alt:"Aper\xe7u",className:"preview-image"})]}),c&&(0,Pe.jsx)("div",{className:"message ".concat(u),children:c}),(0,Pe.jsx)("button",{type:"submit",className:"submit-button",disabled:o,children:o?(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsx)("span",{className:"spinner"}),"Envoi en cours..."]}):(0,Pe.jsx)(Pe.Fragment,{children:"\ud83d\udce4 Envoyer l'arr\xeat maladie"})})]}),(0,Pe.jsxs)("div",{className:"upload-info",children:[(0,Pe.jsx)("h3",{children:"\u2139\ufe0f Informations importantes"}),(0,Pe.jsxs)("ul",{children:[(0,Pe.jsx)("li",{children:"Seuls les fichiers JPG et PDF sont accept\xe9s"}),(0,Pe.jsx)("li",{children:"Taille maximum : 10MB"}),(0,Pe.jsx)("li",{children:"Vous recevrez une confirmation par email si votre arr\xeat nous est bien transmis"})]})]})]})})},or=()=>{const[e,t]=(0,s.useState)([]),[n,a]=(0,s.useState)({}),[r,l]=(0,s.useState)(!0),[o,i]=(0,s.useState)("all"),[c,d]=(0,s.useState)(1),[u,m]=(0,s.useState)(1),[p,h]=(0,s.useState)(""),[f,v]=(0,s.useState)(""),[g,y]=(0,s.useState)(null),[x,b]=(0,s.useState)(!1),[j,N]=(0,s.useState)(!1),[w,k]=(0,s.useState)(null),[S,E]=(0,s.useState)({startDate:"",endDate:""}),C="https://boulangerie-planning-api-4-pbfy.onrender.com/api",_=(0,s.useCallback)(async()=>{try{l(!0),console.log("\ud83d\udccb R\xe9cup\xe9ration des arr\xeats maladie...");const e={page:c,limit:50,sortBy:"uploadDate",sortOrder:"desc"};"all"!==o&&(e.status=o);const n=await ha.get("".concat(C,"/sick-leaves"),{params:e});if(n.data.success){let e=n.data.data.sickLeaves||n.data.data;console.log("\ud83d\udccb Arr\xeats maladie re\xe7us:",e),"all"!==o&&(e=e.filter(e=>e.status===o)),e.sort((e,t)=>new Date(t.uploadDate)-new Date(e.uploadDate));const a=12,r=(c-1)*a,s=r+a,l=e.slice(r,s);t(l),m(Math.ceil(e.length/a)),console.log("\u2705 ".concat(e.length," arr\xeats maladie r\xe9cup\xe9r\xe9s, ").concat(l.length," affich\xe9s"))}else console.log("\u274c R\xe9ponse API sans succ\xe8s:",n.data),h("Erreur: R\xe9ponse API invalide"),v("error")}catch(s){var e,n,a,r;console.error("\u274c Erreur lors du chargement des arr\xeats maladie:",s),console.error("\u274c D\xe9tails de l'erreur:",null===(e=s.response)||void 0===e?void 0:e.data),console.error("\u274c Status:",null===(n=s.response)||void 0===n?void 0:n.status),h("Erreur lors du chargement des arr\xeats maladie: ".concat((null===(a=s.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.error)||s.message)),v("error")}finally{l(!1)}},[o,c,C]),T=(0,s.useCallback)(async()=>{try{console.log("\ud83d\udcca R\xe9cup\xe9ration des statistiques...");const e=await ha.get("".concat(C,"/sick-leaves/stats/overview"));e.data.success&&(a(e.data.data),console.log("\u2705 Statistiques r\xe9cup\xe9r\xe9es:",e.data.data))}catch(t){if(console.error("Erreur r\xe9cup\xe9ration statistiques:",t),e.length>0){const t={total:e.length,pending:e.filter(e=>"pending"===e.status).length,validated:e.filter(e=>"validated"===e.status).length,declared:e.filter(e=>"declared"===e.status).length,rejected:e.filter(e=>"rejected"===e.status).length,overdue:0};a(t)}}},[C]);(0,s.useEffect)(()=>{_(),T()},[o,c,_,T]);const D=()=>{N(!1),k(null),E({startDate:"",endDate:""})},A=async e=>{try{const t=await ha.get("".concat(C,"/sick-leaves/").concat(e,"/download"),{responseType:"blob"}),n=t.headers["content-disposition"];let a="arret-maladie-".concat(e,".pdf");if(n){const e=n.match(/filename="(.+)"/);e&&(a=e[1])}const r=window.URL.createObjectURL(new Blob([t.data])),s=document.createElement("a");s.href=r,s.setAttribute("download",a),document.body.appendChild(s),s.click(),s.remove(),window.URL.revokeObjectURL(r),console.log("\u2705 Fichier t\xe9l\xe9charg\xe9:",a)}catch(t){console.error("\u274c Erreur t\xe9l\xe9chargement:",t),h("Erreur lors du t\xe9l\xe9chargement du fichier"),v("error")}},R=()=>{b(!1),y(null)},P=e=>{const t={pending:{text:"En attente",class:"status-pending"},validated:{text:"Valid\xe9",class:"status-validated"},declared:{text:"D\xe9clar\xe9",class:"status-declared"},rejected:{text:"Rejet\xe9",class:"status-rejected"}}[e]||{text:e,class:"status-default"};return(0,Pe.jsx)("span",{className:"status-badge ".concat(t.class),children:t.text})},L=e=>new Date(e).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric"}),O=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]};return(0,Pe.jsxs)("div",{className:"sick-leave-admin",children:[(0,Pe.jsxs)("div",{className:"admin-header",children:[(0,Pe.jsx)("h1",{children:"\ud83c\udfe5 Gestion des Arr\xeats Maladie"}),(0,Pe.jsx)("p",{children:"Suivi et validation des arr\xeats maladie des salari\xe9s"})]}),(0,Pe.jsxs)("div",{className:"stats-grid",children:[(0,Pe.jsxs)("div",{className:"stat-item",children:[(0,Pe.jsx)("div",{className:"stat-number",children:n.total||0}),(0,Pe.jsx)("div",{className:"stat-label",children:"Total"})]}),(0,Pe.jsxs)("div",{className:"stat-item pending",children:[(0,Pe.jsx)("div",{className:"stat-number",children:n.pending||0}),(0,Pe.jsx)("div",{className:"stat-label",children:"En attente"})]}),(0,Pe.jsxs)("div",{className:"stat-item validated",children:[(0,Pe.jsx)("div",{className:"stat-number",children:n.validated||0}),(0,Pe.jsx)("div",{className:"stat-label",children:"Valid\xe9s"})]}),(0,Pe.jsxs)("div",{className:"stat-item declared",children:[(0,Pe.jsx)("div",{className:"stat-number",children:n.declared||0}),(0,Pe.jsx)("div",{className:"stat-label",children:"D\xe9clar\xe9s"})]}),n.overdue>0&&(0,Pe.jsxs)("div",{className:"stat-item overdue",children:[(0,Pe.jsx)("div",{className:"stat-number",children:n.overdue}),(0,Pe.jsx)("div",{className:"stat-label",children:"En retard"})]})]}),(0,Pe.jsxs)("div",{className:"admin-actions",children:[(0,Pe.jsx)("button",{className:"btn btn-danger",onClick:async()=>{if(window.confirm("\u26a0\ufe0f ATTENTION : Cette action va supprimer TOUTES les donn\xe9es des arr\xeats maladie de la base de donn\xe9es.\n\n- Les fichiers sur le NAS seront conserv\xe9s\n- Seuls les enregistrements de la base de donn\xe9es seront supprim\xe9s\n- Cette action est IRR\xc9VERSIBLE\n\n\xcates-vous s\xfbr de vouloir continuer ?"))try{console.log("\ud83d\uddd1\ufe0f Suppression de tous les arr\xeats maladie..."),l(!0);const e=await ha.delete("".concat(C,"/sick-leaves/all"));e.data.success?(h("\u2705 ".concat(e.data.deletedCount," arr\xeats maladie supprim\xe9s de la base de donn\xe9es")),v("success"),await _(),await T()):(h("\u274c Erreur lors de la suppression"),v("error"))}catch(n){var e,t;console.error("\u274c Erreur suppression arr\xeats maladie:",n),h("\u274c Erreur lors de la suppression: ".concat((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||n.message)),v("error")}finally{l(!1)}},disabled:r||0===(n.total||0),style:{opacity:0===(n.total||0)?.5:1,cursor:0===(n.total||0)?"not-allowed":"pointer"},children:"\ud83d\uddd1\ufe0f Effacer toutes les donn\xe9es"}),(0,Pe.jsxs)("p",{className:"admin-warning",children:["\u26a0\ufe0f Attention : Ce bouton supprime uniquement les donn\xe9es de la base de donn\xe9es.",(0,Pe.jsx)("br",{}),"Les fichiers sur le NAS sont conserv\xe9s."]})]}),(0,Pe.jsxs)("div",{className:"filters-row",children:[(0,Pe.jsxs)("select",{value:o,onChange:e=>{i(e.target.value),d(1)},className:"status-filter",children:[(0,Pe.jsx)("option",{value:"all",children:"Tous les statuts"}),(0,Pe.jsx)("option",{value:"pending",children:"En attente"}),(0,Pe.jsx)("option",{value:"validated",children:"Valid\xe9s"}),(0,Pe.jsx)("option",{value:"declared",children:"D\xe9clar\xe9s"}),(0,Pe.jsx)("option",{value:"rejected",children:"Rejet\xe9s"})]}),(0,Pe.jsx)("div",{className:"quick-actions",children:(0,Pe.jsx)("a",{href:"/plan/sick-leave-standalone.html",target:"_blank",rel:"noopener noreferrer",className:"action-link",children:"\ud83d\udce4 Lien pour salari\xe9s"})})]}),p&&(0,Pe.jsx)("div",{className:"message ".concat(f),children:p}),(0,Pe.jsx)("div",{className:"sick-leaves-list",children:r?(0,Pe.jsx)("div",{className:"loading",children:"Chargement..."}):0===e.length?(0,Pe.jsx)("div",{className:"no-data",children:"Aucun arr\xeat maladie trouv\xe9"}):(0,Pe.jsx)("div",{className:"sick-leaves-grid",children:e.map(t=>(0,Pe.jsxs)("div",{className:"sick-leave-card",children:[(0,Pe.jsxs)("div",{className:"card-header",children:[(0,Pe.jsxs)("div",{className:"employee-info",children:[(0,Pe.jsx)("h3",{children:t.employeeName}),(0,Pe.jsx)("p",{children:t.employeeEmail})]}),P(t.status)]}),(0,Pe.jsxs)("div",{className:"card-content",children:[(0,Pe.jsxs)("div",{className:"period",children:[(0,Pe.jsx)("strong",{children:"P\xe9riode:"})," ",L(t.startDate)," - ",L(t.endDate),(0,Pe.jsxs)("span",{className:"duration",children:["(",t.duration," jour",t.duration>1?"s":"",")"]})]}),(0,Pe.jsxs)("div",{className:"file-info",children:[(0,Pe.jsx)("strong",{children:"Fichier:"})," ",t.originalFileName,(0,Pe.jsxs)("span",{className:"file-size",children:["(",O(t.fileSize),")"]})]}),(0,Pe.jsxs)("div",{className:"validation-info",children:[(0,Pe.jsxs)("div",{className:"quality-score ".concat(t.autoValidation.qualityScore>=60?"good":"poor"),children:["Score: ",t.autoValidation.qualityScore,"/100"]}),t.isOverdue&&(0,Pe.jsx)("div",{className:"overdue-warning",children:"\u26a0\ufe0f En retard"})]})]}),(0,Pe.jsxs)("div",{className:"card-actions",children:[(0,Pe.jsx)("button",{onClick:()=>(e=>{y(e),b(!0)})(t),className:"btn btn-info",title:"Voir d\xe9tails",children:"\ud83d\udc41\ufe0f"}),(0,Pe.jsx)("button",{onClick:()=>A(t._id),className:"btn btn-download",title:"T\xe9l\xe9charger",children:"\ud83d\udce5"}),"pending"===t.status&&(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsx)("button",{onClick:()=>(e=>{k(e),E({startDate:e.startDate.split("T")[0],endDate:e.endDate.split("T")[0]}),N(!0)})(t),className:"btn btn-warning",title:"Modifier les dates",children:"\u270f\ufe0f"}),(0,Pe.jsx)("button",{onClick:()=>(async t=>{try{if((await ha.put("".concat(C,"/sick-leaves/").concat(t,"/validate"),{validatedBy:"Admin",notes:"Valid\xe9 par l'administrateur"})).data.success){try{const n=e.find(e=>e._id===t);if(n){const e=await ha.get("".concat(C,"/employees"));console.log("\ud83d\udd0d Recherche employ\xe9:",n.employeeName),console.log("\ud83d\udd0d Employ\xe9s disponibles:",e.data.map(e=>({name:e.name,id:e._id})));const t=e.data.find(e=>e.name===n.employeeName);t?(console.log("\u2705 Employ\xe9 trouv\xe9:",t.name,"ID:",t._id),await ha.put("".concat(C,"/employees/").concat(t._id),{sickLeave:{isOnSickLeave:!0,startDate:n.startDate,endDate:n.endDate}}),console.log("\u2705 Arr\xeat maladie synchronis\xe9 avec la d\xe9claration manuelle")):console.warn("\u26a0\ufe0f Employ\xe9 non trouv\xe9 pour la synchronisation:",n.employeeName)}}catch(n){console.error("\u26a0\ufe0f Erreur lors de la synchronisation:",n)}h("Arr\xeat maladie valid\xe9 et synchronis\xe9 avec succ\xe8s"),v("success"),_(),T()}}catch(a){console.error("Erreur validation:",a),h("Erreur lors de la validation"),v("error")}})(t._id),className:"btn btn-success",title:"Valider",children:"\u2705"}),(0,Pe.jsx)("button",{onClick:()=>(async e=>{const t=prompt("Raison du rejet (obligatoire):");if(!t||""===t.trim())return h("La raison du rejet est obligatoire"),void v("error");if(window.confirm("\xcates-vous s\xfbr de vouloir rejeter cet arr\xeat maladie ?\n\nRaison : ".concat(t,"\n\nUn email sera envoy\xe9 au salari\xe9 pour l'informer du rejet.")))try{(await ha.put("".concat(C,"/sick-leaves/").concat(e,"/reject"),{rejectedBy:"Admin",reason:t.trim()})).data.success&&(h("Arr\xeat maladie rejet\xe9 - Email envoy\xe9 au salari\xe9"),v("success"),_(),T())}catch(n){console.error("Erreur rejet:",n),h("Erreur lors du rejet"),v("error")}})(t._id),className:"btn btn-danger",title:"Rejeter",children:"\u274c"})]}),"validated"===t.status&&(0,Pe.jsx)("button",{onClick:()=>(async e=>{const t=prompt("Notes de d\xe9claration (optionnel):")||"";if(window.confirm("\xcates-vous s\xfbr de vouloir marquer cet arr\xeat maladie comme d\xe9clar\xe9 ?\n\nUn email sera envoy\xe9 au comptable pour l'informer de la validation."))try{(await ha.put("".concat(C,"/sick-leaves/").concat(e,"/declare"),{declaredBy:"Admin",notes:t})).data.success&&(h("Arr\xeat maladie d\xe9clar\xe9 - Email envoy\xe9 au comptable"),v("success"),_(),T())}catch(n){console.error("Erreur d\xe9claration:",n),h("Erreur lors de la d\xe9claration"),v("error")}})(t._id),className:"btn btn-primary",title:"Marquer comme d\xe9clar\xe9",children:"\ud83d\udccb"})]})]},t._id))})}),u>1&&(0,Pe.jsxs)("div",{className:"pagination",children:[(0,Pe.jsx)("button",{onClick:()=>d(e=>Math.max(e-1,1)),disabled:1===c,className:"page-btn",children:"Pr\xe9c\xe9dent"}),(0,Pe.jsxs)("span",{className:"page-info",children:["Page ",c," sur ",u]}),(0,Pe.jsx)("button",{onClick:()=>d(e=>Math.min(e+1,u)),disabled:c===u,className:"page-btn",children:"Suivant"})]}),x&&g&&(0,Pe.jsx)("div",{className:"modal-overlay",onClick:R,children:(0,Pe.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Pe.jsxs)("div",{className:"modal-header",children:[(0,Pe.jsx)("h2",{children:"D\xe9tails de l'arr\xeat maladie"}),(0,Pe.jsx)("button",{onClick:R,className:"close-btn",children:"\xd7"})]}),(0,Pe.jsxs)("div",{className:"modal-body",children:[(0,Pe.jsxs)("div",{className:"detail-section",children:[(0,Pe.jsx)("h3",{children:"Salari\xe9"}),(0,Pe.jsxs)("p",{children:[(0,Pe.jsx)("strong",{children:"Nom:"})," ",g.employeeName]}),(0,Pe.jsxs)("p",{children:[(0,Pe.jsx)("strong",{children:"Email:"})," ",g.employeeEmail]})]}),(0,Pe.jsxs)("div",{className:"detail-section",children:[(0,Pe.jsx)("h3",{children:"P\xe9riode d'arr\xeat"}),(0,Pe.jsxs)("p",{children:[(0,Pe.jsx)("strong",{children:"D\xe9but:"})," ",L(g.startDate)]}),(0,Pe.jsxs)("p",{children:[(0,Pe.jsx)("strong",{children:"Fin:"})," ",L(g.endDate)]}),(0,Pe.jsxs)("p",{children:[(0,Pe.jsx)("strong",{children:"Dur\xe9e:"})," ",g.duration," jour",g.duration>1?"s":""]})]}),(0,Pe.jsxs)("div",{className:"detail-section",children:[(0,Pe.jsx)("h3",{children:"Fichier"}),(0,Pe.jsxs)("p",{children:[(0,Pe.jsx)("strong",{children:"Nom:"})," ",g.originalFileName]}),(0,Pe.jsxs)("p",{children:[(0,Pe.jsx)("strong",{children:"Taille:"})," ",O(g.fileSize)]}),(0,Pe.jsxs)("p",{children:[(0,Pe.jsx)("strong",{children:"Type:"})," ",g.fileType]}),(0,Pe.jsxs)("p",{children:[(0,Pe.jsx)("strong",{children:"Upload\xe9 le:"})," ",L(g.uploadDate)]})]}),(0,Pe.jsxs)("div",{className:"detail-section",children:[(0,Pe.jsx)("h3",{children:"Validation automatique"}),(0,Pe.jsxs)("p",{children:[(0,Pe.jsx)("strong",{children:"Score:"})," ",g.autoValidation.qualityScore,"/100"]}),(0,Pe.jsxs)("p",{children:[(0,Pe.jsx)("strong",{children:"Message:"})," ",g.autoValidation.validationMessage]}),(0,Pe.jsxs)("p",{children:[(0,Pe.jsx)("strong",{children:"Lisible:"})," ",g.autoValidation.isReadable?"Oui":"Non"]})]}),g.manualValidation.validatedBy&&(0,Pe.jsxs)("div",{className:"detail-section",children:[(0,Pe.jsx)("h3",{children:"Validation manuelle"}),(0,Pe.jsxs)("p",{children:[(0,Pe.jsx)("strong",{children:"Valid\xe9 par:"})," ",g.manualValidation.validatedBy]}),(0,Pe.jsxs)("p",{children:[(0,Pe.jsx)("strong",{children:"Date:"})," ",L(g.manualValidation.validatedAt)]}),g.manualValidation.validationNotes&&(0,Pe.jsxs)("p",{children:[(0,Pe.jsx)("strong",{children:"Notes:"})," ",g.manualValidation.validationNotes]})]})]}),(0,Pe.jsxs)("div",{className:"modal-footer",children:[(0,Pe.jsx)("button",{onClick:()=>A(g._id),className:"btn btn-download",children:"\ud83d\udce5 T\xe9l\xe9charger"}),(0,Pe.jsx)("button",{onClick:R,className:"btn btn-secondary",children:"Fermer"})]})]})}),j&&w&&(0,Pe.jsx)("div",{className:"modal-overlay",children:(0,Pe.jsxs)("div",{className:"modal-content",children:[(0,Pe.jsxs)("div",{className:"modal-header",children:[(0,Pe.jsx)("h3",{children:"\u270f\ufe0f Modifier les dates"}),(0,Pe.jsx)("button",{onClick:D,className:"close-btn",children:"\xd7"})]}),(0,Pe.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),w)try{(await ha.put("".concat(C,"/sick-leaves/").concat(w._id),{startDate:S.startDate,endDate:S.endDate})).data.success&&(h("Dates modifi\xe9es avec succ\xe8s"),v("success"),D(),_())}catch(t){console.error("Erreur lors de la modification:",t),h("Erreur lors de la modification des dates"),v("error")}},children:[(0,Pe.jsxs)("div",{className:"modal-body",children:[(0,Pe.jsx)("div",{className:"form-group",children:(0,Pe.jsxs)("label",{children:["Employ\xe9: ",w.employeeName]})}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{htmlFor:"editStartDate",children:"Date de d\xe9but:"}),(0,Pe.jsx)("input",{type:"date",id:"editStartDate",value:S.startDate,onChange:e=>E(Wt(Wt({},S),{},{startDate:e.target.value})),required:!0})]}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{htmlFor:"editEndDate",children:"Date de fin:"}),(0,Pe.jsx)("input",{type:"date",id:"editEndDate",value:S.endDate,onChange:e=>E(Wt(Wt({},S),{},{endDate:e.target.value})),required:!0})]})]}),(0,Pe.jsxs)("div",{className:"modal-footer",children:[(0,Pe.jsx)("button",{type:"submit",className:"btn btn-primary",children:"\ud83d\udcbe Sauvegarder"}),(0,Pe.jsx)("button",{type:"button",onClick:D,className:"btn btn-secondary",children:"Annuler"})]})]})]})})]})},ir=()=>(0,Pe.jsx)("div",{className:"sick-leave-home",children:(0,Pe.jsxs)("div",{className:"home-container",children:[(0,Pe.jsxs)("div",{className:"home-header",children:[(0,Pe.jsx)("h1",{children:"\ud83c\udfe5 Arr\xeats Maladie"}),(0,Pe.jsx)("p",{children:"Envoyez votre arr\xeat maladie en toute s\xe9curit\xe9"})]}),(0,Pe.jsxs)("div",{className:"home-content",children:[(0,Pe.jsxs)("div",{className:"info-card",children:[(0,Pe.jsx)("h2",{children:"\ud83d\udccb Comment envoyer votre arr\xeat maladie ?"}),(0,Pe.jsxs)("ol",{children:[(0,Pe.jsx)("li",{children:"Remplissez le formulaire avec vos informations"}),(0,Pe.jsx)("li",{children:"Scannez ou photographiez votre arr\xeat maladie"}),(0,Pe.jsx)("li",{children:"Envoyez le fichier (JPG ou PDF)"}),(0,Pe.jsx)("li",{children:"Recevez une confirmation"})]})]}),(0,Pe.jsxs)("div",{className:"requirements-card",children:[(0,Pe.jsx)("h2",{children:"\u2705 Exigences"}),(0,Pe.jsxs)("ul",{children:[(0,Pe.jsx)("li",{children:"Fichier JPG ou PDF uniquement"}),(0,Pe.jsx)("li",{children:"Taille maximum : 10MB"}),(0,Pe.jsx)("li",{children:"Document lisible et de bonne qualit\xe9"}),(0,Pe.jsx)("li",{children:"Dates de d\xe9but et fin d'arr\xeat"})]})]}),(0,Pe.jsxs)("div",{className:"security-card",children:[(0,Pe.jsx)("h2",{children:"\ud83d\udd12 S\xe9curit\xe9"}),(0,Pe.jsxs)("ul",{children:[(0,Pe.jsx)("li",{children:"Vos donn\xe9es sont chiffr\xe9es"}),(0,Pe.jsx)("li",{children:"Stockage s\xe9curis\xe9 sur notre serveur"}),(0,Pe.jsx)("li",{children:"Acc\xe8s restreint aux administrateurs"}),(0,Pe.jsx)("li",{children:"Conformit\xe9 RGPD"})]})]})]}),(0,Pe.jsx)("div",{className:"action-section",children:(0,Pe.jsx)(De,{to:"/sick-leave-upload",className:"upload-button",children:"\ud83d\udce4 Envoyer mon arr\xeat maladie"})}),(0,Pe.jsxs)("div",{className:"contact-info",children:[(0,Pe.jsx)("h3",{children:"\ud83d\udcde Besoin d'aide ?"}),(0,Pe.jsx)("p",{children:"Contactez votre responsable ou l'administration"})]})]})}),cr=()=>{const[e,t]=(0,s.useState)([]),[n,a]=(0,s.useState)([]),[r,l]=(0,s.useState)(!0),[o,i]=(0,s.useState)(!1),[c,d]=(0,s.useState)(null),[u,m]=(0,s.useState)({startDate:"",endDate:""}),[p,h]=(0,s.useState)("all"),[f,v]=(0,s.useState)((new Date).getFullYear());console.log("\ud83d\udd27 VacationRequestAdmin - Rendu du composant"),(0,s.useEffect)(()=>{console.log("\ud83d\udd27 \xc9tat showEditModal chang\xe9:",o),o||console.log("\ud83d\udd27 Modal ferm\xe9 - Stack trace:",(new Error).stack)},[o]);const g=async()=>{try{l(!0),console.log("\ud83d\udcc5 R\xe9cup\xe9ration des demandes de cong\xe9s...");const e=await va.get("/vacation-requests");e.data.success?(t(e.data.data),console.log("\u2705 Demandes de cong\xe9s charg\xe9es:",e.data.data.length),y(e.data.data)):(t([]),a([]),console.error("\u274c Format de donn\xe9es invalide"))}catch(e){console.error("\u274c Erreur lors du chargement:",e),Va.error("Erreur lors du chargement des demandes de cong\xe9s"),t([]),a([])}finally{l(!1)}},y=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;"all"!==p&&(t=t.filter(e=>e.status===p)),t=t.filter(e=>new Date(e.startDate).getFullYear()===f),a(t)};(0,s.useEffect)(()=>{y()},[p,f,e]),(0,s.useEffect)(()=>{g()},[]);const x=()=>{console.log("\ud83d\udd27 Fermeture modal - Appel\xe9e depuis:",(new Error).stack),console.log("\ud83d\udd27 \xc9tat showEditModal avant fermeture:",o),i(!1),d(null),m({startDate:"",endDate:""})},b=e=>{const t={pending:{text:"En attente",class:"badge-warning"},accepted:{text:"Accept\xe9",class:"badge-success"},rejected:{text:"Rejet\xe9",class:"badge-danger"}}[e]||{text:e,class:"badge-secondary"};return(0,Pe.jsx)("span",{className:"badge ".concat(t.class),children:t.text})},j=e=>new Date(e).toLocaleDateString("fr-FR"),N=(e,t)=>{const n=new Date(e),a=new Date(t),r=Math.abs(a-n);return Math.ceil(r/864e5)+1};return(0,Pe.jsxs)("div",{className:"vacation-request-admin",children:[(0,Pe.jsxs)("div",{className:"admin-header",children:[(0,Pe.jsx)("h1",{children:"\ud83c\udfd6\ufe0f Gestion des Demandes de Cong\xe9s"}),(0,Pe.jsx)("p",{children:"Validation et suivi des demandes de cong\xe9s des employ\xe9s"})]}),(0,Pe.jsxs)("div",{className:"admin-actions",children:[(0,Pe.jsx)("button",{className:"btn btn-primary",onClick:()=>window.open("/plan/vacation-planning","_blank"),children:"\ud83d\udda8\ufe0f Impression Calendrier"}),(0,Pe.jsx)("button",{className:"btn btn-warning",onClick:async()=>{try{const e=await va.post("/vacation-requests/sync-employees");e.data.success&&(Va.success("Synchronisation termin\xe9e: ".concat(e.data.syncedCount," employ\xe9s mis \xe0 jour")),g())}catch(e){Va.error("Erreur lors de la synchronisation")}},children:"\ud83d\udd04 Synchroniser Cong\xe9s"})]}),(0,Pe.jsxs)("div",{className:"filters-section",children:[(0,Pe.jsxs)("div",{className:"filter-group",children:[(0,Pe.jsx)("label",{children:"Statut:"}),(0,Pe.jsxs)("select",{value:p,onChange:e=>h(e.target.value),className:"form-control",children:[(0,Pe.jsxs)("option",{value:"all",children:["Toutes (",e.length,")"]}),(0,Pe.jsxs)("option",{value:"pending",children:["En attente (",e.filter(e=>"pending"===e.status).length,")"]}),(0,Pe.jsxs)("option",{value:"validated",children:["Valid\xe9es (",e.filter(e=>"validated"===e.status).length,")"]}),(0,Pe.jsxs)("option",{value:"rejected",children:["Rejet\xe9es (",e.filter(e=>"rejected"===e.status).length,")"]})]})]}),(0,Pe.jsxs)("div",{className:"filter-group",children:[(0,Pe.jsx)("label",{children:"Ann\xe9e des cong\xe9s:"}),(0,Pe.jsxs)("select",{value:f,onChange:e=>v(parseInt(e.target.value)),className:"form-control",children:[(0,Pe.jsx)("option",{value:(new Date).getFullYear(),children:(new Date).getFullYear()}),(0,Pe.jsx)("option",{value:(new Date).getFullYear()+1,children:(new Date).getFullYear()+1}),(0,Pe.jsx)("option",{value:(new Date).getFullYear()-1,children:(new Date).getFullYear()-1})]})]})]}),(0,Pe.jsx)("div",{className:"vacation-requests-list",children:r?(0,Pe.jsx)("div",{className:"loading",children:"Chargement des demandes de cong\xe9s..."}):0===n.length?(0,Pe.jsx)("div",{className:"no-data",children:(0,Pe.jsx)("p",{children:"Aucune demande de cong\xe9s trouv\xe9e pour les filtres s\xe9lectionn\xe9s"})}):(0,Pe.jsx)("div",{className:"requests-grid",children:n.map(e=>(0,Pe.jsxs)("div",{className:"request-card",children:[(0,Pe.jsxs)("div",{className:"card-header",children:[(0,Pe.jsx)("h3",{children:e.employeeName}),(0,Pe.jsx)("p",{children:e.employeeEmail}),(0,Pe.jsx)("p",{children:e.city})]}),(0,Pe.jsxs)("div",{className:"card-content",children:[(0,Pe.jsxs)("div",{className:"period",children:[(0,Pe.jsx)("strong",{children:"P\xe9riode:"})," ",j(e.startDate)," \u2192 ",j(e.endDate),(0,Pe.jsxs)("span",{className:"duration",children:["(",N(e.startDate,e.endDate)," jour",N(e.startDate,e.endDate)>1?"s":"",")"]})]}),(0,Pe.jsxs)("div",{className:"type",children:[(0,Pe.jsx)("strong",{children:"Type:"})," ",e.type]}),(0,Pe.jsx)("div",{className:"status",children:b(e.status)})]}),(0,Pe.jsx)("div",{className:"card-actions",children:"pending"===e.status&&(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsx)("button",{onClick:()=>(async e=>{try{(await va.patch("/vacation-requests/".concat(e,"/accept"))).data.success&&(Va.success("Demande accept\xe9e"),g())}catch(t){console.error("Erreur acceptation:",t),Va.error("Erreur lors de l'acceptation")}})(e._id),className:"btn btn-success",title:"Accepter",children:"\u2705"}),(0,Pe.jsx)("button",{onClick:()=>(e=>{console.log("\ud83d\udd27 Ouverture modal modification pour:",e);const t={startDate:e.startDate,endDate:e.endDate,startDateType:typeof e.startDate,endDateType:typeof e.endDate};console.log("\ud83d\udd27 Dates originales:",t);const n={startDate:e.startDate.split("T")[0],endDate:e.endDate.split("T")[0]};console.log("\ud83d\udd27 Dates extraites:",n),d(e),m(n),i(!0),console.log("\ud83d\udd27 Modal ouvert:",!0),setTimeout(()=>{console.log("\ud83d\udd27 V\xe9rification modal apr\xe8s 1 seconde - Modal devrait \xeatre ouvert"),o||console.log("\ud83d\udd27 MODAL FERM\xc9 AUTOMATIQUEMENT - Raison possible: re-render ou autre \xe9v\xe9nement")},1e3)})(e),className:"btn btn-warning",title:"Modifier",children:"\u270f\ufe0f"}),(0,Pe.jsx)("button",{onClick:()=>(async e=>{try{(await va.patch("/vacation-requests/".concat(e,"/reject"))).data.success&&(Va.success("Demande rejet\xe9e"),g())}catch(t){console.error("Erreur rejet:",t),Va.error("Erreur lors du rejet")}})(e._id),className:"btn btn-danger",title:"Rejeter",children:"\u274c"})]})})]},e._id))})}),o&&c&&(0,Pe.jsx)("div",{className:"modal-overlay",children:(0,Pe.jsxs)("div",{className:"modal-content",children:[(0,Pe.jsxs)("div",{className:"modal-header",children:[(0,Pe.jsx)("h3",{children:"\u270f\ufe0f Modifier les dates de cong\xe9s"}),(0,Pe.jsx)("button",{onClick:x,className:"close-btn",children:"\xd7"})]}),(0,Pe.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),c)try{console.log("\ud83d\udd27 Soumission modification pour:",c._id),console.log("\ud83d\udd27 Nouvelles dates:",u);const e=await va.patch("/vacation-requests/".concat(c._id),{startDate:u.startDate,endDate:u.endDate});console.log("\ud83d\udd27 R\xe9ponse API modification:",e.data),e.data.success?(Va.success("Demande de cong\xe9s modifi\xe9e avec succ\xe8s"),x(),g()):Va.error("Erreur lors de la modification")}catch(t){console.error("\u274c Erreur lors de la modification:",t),Va.error("Erreur lors de la modification de la demande")}},children:[(0,Pe.jsxs)("div",{className:"modal-body",children:[(0,Pe.jsx)("div",{className:"form-group",children:(0,Pe.jsxs)("label",{children:["Employ\xe9: ",c.employeeName]})}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{htmlFor:"editStartDate",children:"Date de d\xe9but:"}),(0,Pe.jsx)("input",{type:"date",id:"editStartDate",value:u.startDate,onChange:e=>m(Wt(Wt({},u),{},{startDate:e.target.value})),required:!0})]}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{htmlFor:"editEndDate",children:"Date de fin:"}),(0,Pe.jsx)("input",{type:"date",id:"editEndDate",value:u.endDate,onChange:e=>m(Wt(Wt({},u),{},{endDate:e.target.value})),required:!0})]})]}),(0,Pe.jsxs)("div",{className:"modal-footer",children:[(0,Pe.jsx)("button",{type:"submit",className:"btn btn-primary",children:"\ud83d\udcbe Sauvegarder"}),(0,Pe.jsx)("button",{type:"button",onClick:x,className:"btn btn-secondary",children:"Annuler"})]})]})]})}),(0,Pe.jsx)("style",{jsx:!0,children:"\n        .filters-section {\n          display: flex;\n          gap: 20px;\n          margin: 20px 0;\n          padding: 15px;\n          background-color: #f8f9fa;\n          border-radius: 8px;\n          border: 1px solid #dee2e6;\n        }\n        \n        .filter-group {\n          display: flex;\n          flex-direction: column;\n          gap: 5px;\n        }\n        \n        .filter-group label {\n          font-weight: bold;\n          color: #495057;\n          font-size: 14px;\n        }\n        \n        .filter-group select {\n          padding: 8px 12px;\n          border: 1px solid #ced4da;\n          border-radius: 4px;\n          background-color: white;\n          font-size: 14px;\n        }\n      "})]})},dr=()=>{const[e,t]=(0,s.useState)([]),[n,a]=(0,s.useState)([]),[r,l]=(0,s.useState)(!0),[o,i]=(0,s.useState)((new Date).getFullYear()),[c,d]=(0,s.useState)("all"),[u,m]=(0,s.useState)(null);console.log("\ud83d\udd27 VacationPlanning - Rendu du composant");const p=async()=>{try{l(!0),m(null),console.log("\ud83d\udcc5 R\xe9cup\xe9ration des donn\xe9es...");const e=await va.get("/employees"),n=e.data.success?e.data.data:e.data;a(n),console.log("\ud83d\udc65 Employ\xe9s charg\xe9s:",n.length);const r=await va.get("/vacation-requests?status=validated"),s=r.data.success?r.data.data:r.data;t(s),console.log("\ud83c\udfd6\ufe0f Cong\xe9s valid\xe9s charg\xe9s:",s.length),console.log("\ud83d\udd0d D\xe9tails des cong\xe9s:",s),console.log("\ud83d\udc65 D\xe9tails des employ\xe9s:",n);const o=n.find(e=>"Camille"===e.name);console.log("\ud83d\udd0d Camille trouv\xe9e:",o)}catch(u){console.error("\u274c Erreur lors du chargement:",u),m("Erreur lors du chargement des donn\xe9es"),Va.error("Erreur lors du chargement des donn\xe9es")}finally{l(!1)}};(0,s.useEffect)(()=>{p()},[]);const h=[{name:"Janvier",number:1},{name:"F\xe9vrier",number:2},{name:"Mars",number:3},{name:"Avril",number:4},{name:"Mai",number:5},{name:"Juin",number:6},{name:"Juillet",number:7},{name:"Ao\xfbt",number:8},{name:"Septembre",number:9},{name:"Octobre",number:10},{name:"Novembre",number:11},{name:"D\xe9cembre",number:12}],f=e=>new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"}),v=e=>"vendeuse"===e||"responsable"===e||"manager"===e||"Apprenti Vendeuse"===e?"#e3f2fd":"chef prod"===e||"boulanger"===e||"Apprenti Boulanger"===e?"#fff3e0":"pr\xe9parateur"===e||"Apprenti Pr\xe9parateur"===e?"#e8f5e8":"#f5f5f5";if(r)return(0,Pe.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh",fontSize:"18px"},children:"\ud83d\udd04 Chargement du calendrier des cong\xe9s..."});if(u)return(0,Pe.jsxs)("div",{style:{padding:"20px",textAlign:"center",backgroundColor:"#f8d7da",color:"#721c24",borderRadius:"5px",margin:"20px"},children:["\u274c ",u,(0,Pe.jsx)("button",{onClick:p,style:{marginLeft:"10px",padding:"5px 10px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"\ud83d\udd04 R\xe9essayer"})]});const g="all"===c?n:n.filter(e=>"vente"===c?"vendeuse"===e.role||"responsable"===e.role||"manager"===e.role||"Apprenti Vendeuse"===e.role:"production"===c&&("chef prod"===e.role||"boulanger"===e.role||"pr\xe9parateur"===e.role||"Apprenti Boulanger"===e.role||"Apprenti Pr\xe9parateur"===e.role));return(0,Pe.jsxs)("div",{className:"vacation-planning",style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[(0,Pe.jsxs)("div",{className:"planning-header",style:{marginBottom:"30px"},children:[(0,Pe.jsx)("h1",{style:{color:"#333",marginBottom:"10px"},children:"\ud83d\udcc5 Planning Annuel - Cong\xe9s Valid\xe9s"}),(0,Pe.jsxs)("p",{style:{color:"#666",fontSize:"16px"},children:["Boulangerie Arras - ",o]}),(0,Pe.jsxs)("div",{style:{display:"flex",gap:"20px",marginTop:"20px",flexWrap:"wrap",alignItems:"center"},children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{style:{marginRight:"10px",fontWeight:"bold"},children:"Ann\xe9e:"}),(0,Pe.jsxs)("select",{value:o,onChange:e=>i(parseInt(e.target.value)),style:{padding:"8px 12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"},children:[(0,Pe.jsx)("option",{value:o-1,children:o-1}),(0,Pe.jsx)("option",{value:o,children:o}),(0,Pe.jsx)("option",{value:o+1,children:o+1})]})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{style:{marginRight:"10px",fontWeight:"bold"},children:"Cat\xe9gorie:"}),(0,Pe.jsxs)("select",{value:c,onChange:e=>d(e.target.value),style:{padding:"8px 12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"},children:[(0,Pe.jsx)("option",{value:"all",children:"Tous"}),(0,Pe.jsx)("option",{value:"vente",children:"Vente (Vendeuse, Responsable, Manager, Apprenti Vendeuse)"}),(0,Pe.jsx)("option",{value:"production",children:"Production (Chef Prod, Boulanger, Pr\xe9parateur, Apprentis)"})]})]}),(0,Pe.jsx)("button",{onClick:()=>window.print(),style:{padding:"8px 16px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"\ud83d\udda8\ufe0f Imprimer"})]})]}),(0,Pe.jsxs)("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"5px",border:"1px solid #dee2e6"},children:[(0,Pe.jsx)("h4",{style:{margin:"0 0 10px 0",color:"#333"},children:"L\xe9gende:"}),(0,Pe.jsxs)("div",{style:{display:"flex",gap:"15px",flexWrap:"wrap"},children:[(0,Pe.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,Pe.jsx)("div",{style:{width:"15px",height:"15px",backgroundColor:"#e3f2fd",marginRight:"6px",borderRadius:"3px"}}),(0,Pe.jsx)("span",{style:{fontSize:"12px"},children:"Vendeuse, Responsable, Manager, App. Vendeuse"})]}),(0,Pe.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,Pe.jsx)("div",{style:{width:"15px",height:"15px",backgroundColor:"#fff3e0",marginRight:"6px",borderRadius:"3px"}}),(0,Pe.jsx)("span",{style:{fontSize:"12px"},children:"Chef Prod, Boulanger, App. Boulanger"})]}),(0,Pe.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,Pe.jsx)("div",{style:{width:"15px",height:"15px",backgroundColor:"#e8f5e8",marginRight:"6px",borderRadius:"3px"}}),(0,Pe.jsx)("span",{style:{fontSize:"12px"},children:"Pr\xe9parateur, App. Pr\xe9parateur"})]})]})]}),(0,Pe.jsx)("div",{className:"calendar-container",children:0===g.length?(0,Pe.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#666",fontSize:"16px"},children:"Aucun employ\xe9 trouv\xe9 pour la cat\xe9gorie s\xe9lectionn\xe9e"}):(0,Pe.jsxs)("div",{className:"calendar-grid",children:[(0,Pe.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"200px repeat(12, 1fr)",gap:"2px",marginBottom:"10px"},children:[(0,Pe.jsx)("div",{style:{fontWeight:"bold",padding:"10px",backgroundColor:"#e9ecef",border:"1px solid #dee2e6",textAlign:"center"},children:"Employ\xe9"}),h.map(e=>(0,Pe.jsx)("div",{style:{fontWeight:"bold",padding:"10px",backgroundColor:"#e9ecef",border:"1px solid #dee2e6",textAlign:"center",fontSize:"12px"},children:e.name},e.number))]}),g.map(t=>(0,Pe.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"200px repeat(12, 1fr)",gap:"2px",marginBottom:"2px"},children:[(0,Pe.jsxs)("div",{style:{padding:"10px",backgroundColor:"#f8f9fa",border:"1px solid #dee2e6",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,Pe.jsx)("span",{style:{fontWeight:"bold",fontSize:"13px"},children:t.name}),(0,Pe.jsx)("div",{style:{width:"12px",height:"12px",backgroundColor:v(t.role),borderRadius:"50%",marginLeft:"8px"}})]}),h.map(a=>{const r=((t,a)=>{const r=n.find(e=>e._id===t);return r?e.filter(e=>{if(e.employeeName!==r.name)return!1;const t=new Date(e.startDate),n=new Date(e.endDate);if(t.getFullYear()!==o)return!1;const s=t.getMonth()+1,l=n.getMonth()+1;return s<=a&&l>=a}):[]})(t._id,a.number);return(0,Pe.jsx)("div",{style:{padding:"8px",backgroundColor:r.length>0?"#d4edda":"#ffffff",border:"1px solid #dee2e6",minHeight:"40px",fontSize:"11px"},children:r.map((e,n)=>(0,Pe.jsxs)("div",{style:{backgroundColor:v(t.role),color:"black",padding:"2px 4px",borderRadius:"3px",marginBottom:"2px",fontSize:"10px",textAlign:"center",fontWeight:"bold"},children:[f(e.startDate),"-",f(e.endDate)]},n))},a.number)})]},t._id))]})}),(0,Pe.jsxs)("div",{style:{marginTop:"30px",padding:"10px",backgroundColor:"#e9ecef",borderRadius:"5px",textAlign:"center",fontSize:"12px",color:"#6c757d"},children:["\ud83d\ude80 D\xc9PLOIEMENT #019 - ",(new Date).toLocaleString()]})]})},ur=()=>{const[e,t]=(0,s.useState)((new Date).toISOString().slice(0,7)),[n,a]=(0,s.useState)([]),[r,l]=(0,s.useState)(!1),[o,i]=(0,s.useState)(!1),[c,d]=(0,s.useState)("up"),[u,m]=(0,s.useState)(!1),[p,h]=(0,s.useState)(""),[f,v]=(0,s.useState)(1),[g,y]=(0,s.useState)({up:{count:0,amount:0},pluxee:{count:0,amount:0},bimpli:{count:0,amount:0},edenred:{count:0,amount:0},total:{count:0,amount:0}});(0,s.useEffect)(()=>{x()},[e]),(0,s.useEffect)(()=>{b()},[n]);const x=async()=>{try{l(!0);const t=await va.get("/ticket-restaurant?month=".concat(e));a(t.data.tickets||[])}catch(t){console.error("Erreur lors du chargement des tickets:",t),Va.error("Erreur lors du chargement des tickets")}finally{l(!1)}},b=()=>{const e={up:{count:0,amount:0},pluxee:{count:0,amount:0},bimpli:{count:0,amount:0},edenred:{count:0,amount:0},total:{count:0,amount:0}};n.forEach(t=>{e[t.provider]&&(e[t.provider].count++,e[t.provider].amount+=t.amount),e.total.count++,e.total.amount+=t.amount}),y(e)},j=e=>{if(console.log("\ud83d\udd0d Code-barres scann\xe9:",e),!e||e.length<10)return console.warn("\u26a0\ufe0f Code-barres trop court:",e),null;try{let t=null;if(24===e.length){console.log("\ud83d\udd0d Extraction par structure officielle (24 caract\xe8res)...");const n=e.substring(11,16);console.log("\ud83d\udd0d Montant brut extrait:",n,"centimes");const a=parseFloat(n)/100;!isNaN(a)&&a>0&&a<=999.99&&(t=a,console.log("\ud83d\udd0d Structure officielle:",n,"centimes \u2192",t,"\u20ac"))}return t?(console.log("\u2705 Montant final:",t,"\u20ac"),Math.round(100*t)/100):(console.log("\u274c Aucun montant valide trouv\xe9"),null)}catch(t){return console.error("\u274c Erreur lors de l'extraction du montant:",t),null}},N=e=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(e),w=e=>({up:"UP",pluxee:"Pluxee",bimpli:"Bimpli",edenred:"Edenred"}[e]||e.toUpperCase()),k=e=>({up:"#e74c3c",pluxee:"#3498db",bimpli:"#2ecc71",edenred:"#f39c12"}[e]||"#95a5a6");return(0,Pe.jsxs)("div",{className:"ticket-restaurant fade-in",children:[(0,Pe.jsxs)("div",{className:"page-header",children:[(0,Pe.jsx)("h2",{children:"\ud83c\udfab Gestion des Tickets Restaurant"}),(0,Pe.jsx)("div",{className:"header-actions",children:(0,Pe.jsxs)("div",{className:"month-selector",children:[(0,Pe.jsx)("label",{htmlFor:"month",children:"Mois :"}),(0,Pe.jsx)("input",{type:"month",id:"month",value:e,onChange:e=>t(e.target.value),className:"form-control"})]})})]}),(0,Pe.jsxs)("div",{className:"card",children:[(0,Pe.jsx)("div",{className:"card-header",children:(0,Pe.jsx)("h3",{children:"\ud83d\udcf1 Scanner des Tickets"})}),(0,Pe.jsx)("div",{className:"card-body",children:(0,Pe.jsxs)("div",{className:"scanner-controls",children:[(0,Pe.jsxs)("div",{className:"provider-selector",children:[(0,Pe.jsx)("label",{children:"Fournisseur :"}),(0,Pe.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"form-control",disabled:o,children:[(0,Pe.jsx)("option",{value:"up",children:"UP"}),(0,Pe.jsx)("option",{value:"pluxee",children:"Pluxee"}),(0,Pe.jsx)("option",{value:"bimpli",children:"Bimpli"}),(0,Pe.jsx)("option",{value:"edenred",children:"Edenred"})]})]}),o?(0,Pe.jsxs)("div",{className:"scanner-active",children:[(0,Pe.jsxs)("div",{className:"scanner-status",children:[(0,Pe.jsx)("div",{className:"scanner-indicator"}),(0,Pe.jsx)("span",{children:"Scanner actif - Pointez vers le code-barres"}),(0,Pe.jsxs)("span",{className:"scan-order-badge",children:["Prochain scan: #",f]})]}),(0,Pe.jsx)("input",{id:"barcode-input",type:"text",onChange:t=>{const n=t.target.value;console.log("\ud83d\udd0d Input d\xe9tect\xe9:",n,"Longueur:",n.length);const a=p+n;console.log("\ud83d\udcdd Buffer actuel:",a,"Longueur:",a.length),t.target.value="",24===a.length?(console.log("\u2705 Code-barres complet scann\xe9:",a),(async t=>{try{m(!0);const n=window.pageYOffset||document.documentElement.scrollTop,a=j(t);if(!a)return void Va.error("Impossible d'extraire le montant du ticket");const r={provider:c,amount:a,date:(new Date).toISOString().split("T")[0],month:e,barcode:t};console.log("\ud83d\udce4 Envoi des donn\xe9es:",r);const s=await va.post("/ticket-restaurant",r);console.log("\u2705 R\xe9ponse du serveur:",s.data),Va.success("#".concat(f," - Ticket ").concat(c.toUpperCase()," ajout\xe9: ").concat(a,"\u20ac")),v(e=>e+1),await x(),setTimeout(()=>{window.scrollTo(0,n)},100)}catch(n){console.error("Erreur lors de l'ajout du ticket:",n),Va.error("Erreur lors de l'ajout du ticket")}finally{m(!1)}})(a),h("")):a.length>24?(console.error("\u274c Buffer trop long, r\xe9initialisation"),Va.error("\u274c Erreur de scan. Veuillez rescanner le ticket."),h("")):h(a)},placeholder:"Code-barres sera captur\xe9 automatiquement",style:{position:"absolute",left:"-9999px",opacity:0,width:"1px",height:"1px"},autoFocus:!0}),(0,Pe.jsx)("button",{className:"btn btn-secondary",onClick:()=>{i(!1)},children:"Arr\xeater le scanner"}),p.length>0&&(0,Pe.jsxs)("div",{className:"buffer-status",children:[(0,Pe.jsxs)("span",{children:["Buffer: ",p.length,"/24 caract\xe8res"]}),(0,Pe.jsx)("button",{className:"btn btn-warning btn-sm",onClick:()=>{h(""),console.log("\ud83d\udd04 Buffer r\xe9initialis\xe9 - Red\xe9marrage du scanner"),i(!1),setTimeout(()=>{i(!0),setTimeout(()=>{const e=document.getElementById("barcode-input");e&&(e.focus(),console.log("\ud83c\udfaf Scanner red\xe9marr\xe9 et focus restaur\xe9"))},100)},200),Va.info("\ud83d\udd04 Buffer r\xe9initialis\xe9 - Scanner red\xe9marr\xe9")},children:"\ud83d\udd04 R\xe9initialiser"})]})]}):(0,Pe.jsx)("button",{className:"btn btn-primary",onClick:()=>{i(!0),console.log("\ud83d\udd0d D\xe9marrage du scanner..."),setTimeout(()=>{const e=document.getElementById("barcode-input");e?(e.focus(),console.log("\ud83c\udfaf Focus appliqu\xe9 sur input scanner"),console.log("\ud83d\udcf1 Scanner pr\xeat - Pointez vers le code-barres")):console.error("\u274c Input scanner non trouv\xe9")},100)},disabled:u,children:u?"\u23f3 Traitement...":"\ud83d\udcf1 D\xe9marrer le scanner"})]})})]}),(0,Pe.jsx)("div",{className:"totals-grid",children:Object.entries(g).map(e=>{let[t,n]=e;return"total"===t?null:(0,Pe.jsxs)("div",{className:"total-card",style:{borderColor:k(t)},children:[(0,Pe.jsx)("div",{className:"total-header",children:(0,Pe.jsx)("h4",{style:{color:k(t)},children:w(t)})}),(0,Pe.jsxs)("div",{className:"total-content",children:[(0,Pe.jsxs)("div",{className:"total-count",children:[(0,Pe.jsx)("span",{className:"count-number",children:n.count}),(0,Pe.jsx)("span",{className:"count-label",children:"tickets"})]}),(0,Pe.jsx)("div",{className:"total-amount",children:N(n.amount)})]})]},t)})}),(0,Pe.jsxs)("div",{className:"card total-general",children:[(0,Pe.jsx)("div",{className:"card-header",children:(0,Pe.jsx)("h3",{children:"\ud83d\udcca Total du mois"})}),(0,Pe.jsx)("div",{className:"card-body",children:(0,Pe.jsxs)("div",{className:"general-totals",children:[(0,Pe.jsxs)("div",{className:"total-item",children:[(0,Pe.jsx)("span",{className:"total-label",children:"Nombre total de tickets :"}),(0,Pe.jsx)("span",{className:"total-value",children:g.total.count})]}),(0,Pe.jsxs)("div",{className:"total-item",children:[(0,Pe.jsx)("span",{className:"total-label",children:"Montant total :"}),(0,Pe.jsx)("span",{className:"total-value amount",children:N(g.total.amount)})]})]})})]}),(0,Pe.jsxs)("div",{className:"card",children:[(0,Pe.jsxs)("div",{className:"card-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Pe.jsx)("h3",{children:"\ud83d\udccb Historique des tickets"}),n.length>0&&(0,Pe.jsxs)("button",{className:"btn btn-danger",onClick:async()=>{if(0===n.length)return void Va.info("Aucun ticket \xe0 supprimer");const t="\u26a0\ufe0f ATTENTION \u26a0\ufe0f\n\nVous \xeates sur le point de supprimer TOUS les ".concat(n.length," tickets du mois ").concat(new Date(e).toLocaleDateString("fr-FR",{month:"long",year:"numeric"}),".\n\nMontant total : ").concat(N(g.total.amount),"\n\nCette action est IRR\xc9VERSIBLE !\n\n\xcates-vous absolument s\xfbr ?");if(window.confirm(t))try{l(!0);let e=0,t=0;for(const r of n)try{await va.delete("/ticket-restaurant/".concat(r._id)),e++}catch(a){console.error("Erreur suppression ticket ".concat(r._id,":"),a),t++}0===t?Va.success("\u2705 ".concat(e," tickets supprim\xe9s avec succ\xe8s")):Va.warning("\u26a0\ufe0f ".concat(e," tickets supprim\xe9s, ").concat(t," erreurs")),await x()}catch(a){console.error("Erreur lors de la suppression globale:",a),Va.error("Erreur lors de la suppression des tickets")}finally{l(!1)}},title:"Supprimer tous les tickets du mois",children:["\ud83d\uddd1\ufe0f Tout effacer (",n.length,")"]})]}),(0,Pe.jsx)("div",{className:"card-body",children:r?(0,Pe.jsxs)("div",{className:"loading-container",children:[(0,Pe.jsx)("div",{className:"loading"}),(0,Pe.jsx)("p",{children:"Chargement des tickets..."})]}):0===n.length?(0,Pe.jsx)("div",{className:"empty-state",children:(0,Pe.jsx)("p",{children:"\ud83c\udfab Aucun ticket enregistr\xe9 pour ce mois"})}):(0,Pe.jsx)("div",{className:"tickets-list",children:n.map((e,t)=>(0,Pe.jsxs)("div",{className:"ticket-item",children:[(0,Pe.jsxs)("div",{className:"ticket-info",children:[(0,Pe.jsx)("div",{className:"ticket-provider",style:{color:k(e.provider)},children:w(e.provider)}),(0,Pe.jsx)("div",{className:"ticket-amount",children:N(e.amount)}),(0,Pe.jsx)("div",{className:"ticket-date",children:new Date(e.date).toLocaleDateString("fr-FR")})]}),(0,Pe.jsx)("button",{className:"btn btn-danger btn-sm",onClick:()=>(async e=>{if(window.confirm("\xcates-vous s\xfbr de vouloir supprimer ce ticket ?"))try{await va.delete("/ticket-restaurant/".concat(e)),Va.success("Ticket supprim\xe9"),await x()}catch(t){console.error("Erreur lors de la suppression:",t),Va.error("Erreur lors de la suppression du ticket")}})(e._id),title:"Supprimer ce ticket",children:"\ud83d\uddd1\ufe0f"})]},e._id||t))})})]})]})},mr=e=>{let{document:t,onDownload:n,getCategoryIcon:a,getCategoryLabel:r,formatFileSize:s,formatDate:l,isPersonal:o=!1}=e;const i=(()=>{if(!o||!t.expiryDate)return null;const e=new Date,n=new Date(t.expiryDate)-e,a=Math.ceil(n/864e5);return a<=0?{status:"expired",text:"Expir\xe9",class:"expired"}:a<=7?{status:"warning",text:"Expire dans ".concat(a," jour").concat(a>1?"s":""),class:"warning"}:a<=15?{status:"info",text:"Expire dans ".concat(a," jours"),class:"info"}:null})();return(0,Pe.jsxs)("div",{className:"document-card ".concat(o?"personal":"general"),children:[(0,Pe.jsxs)("div",{className:"document-header",children:[(0,Pe.jsx)("div",{className:"document-icon",children:a(t.category)}),(0,Pe.jsxs)("div",{className:"document-title",children:[(0,Pe.jsx)("h3",{children:t.title}),(0,Pe.jsx)("span",{className:"document-category",children:r(t.category)})]}),i&&(0,Pe.jsx)("div",{className:"expiry-badge ".concat(i.class),children:i.text})]}),(0,Pe.jsxs)("div",{className:"document-content",children:[t.description&&(0,Pe.jsx)("p",{className:"document-description",children:t.description}),(0,Pe.jsxs)("div",{className:"document-details",children:[(0,Pe.jsxs)("div",{className:"detail-item",children:[(0,Pe.jsx)("span",{className:"detail-label",children:"\ud83d\udcc5 Ajout\xe9 le:"}),(0,Pe.jsx)("span",{className:"detail-value",children:l(t.uploadDate)})]}),(0,Pe.jsxs)("div",{className:"detail-item",children:[(0,Pe.jsx)("span",{className:"detail-label",children:"\ud83d\udccf Taille:"}),(0,Pe.jsx)("span",{className:"detail-value",children:s(t.fileSize)})]}),t.downloadCount>0&&(0,Pe.jsxs)("div",{className:"detail-item",children:[(0,Pe.jsx)("span",{className:"detail-label",children:"\u2b07\ufe0f T\xe9l\xe9charg\xe9:"}),(0,Pe.jsxs)("span",{className:"detail-value",children:[t.downloadCount," fois"]})]}),t.lastDownloadDate&&(0,Pe.jsxs)("div",{className:"detail-item",children:[(0,Pe.jsx)("span",{className:"detail-label",children:"\ud83d\udd52 Dernier t\xe9l\xe9chargement:"}),(0,Pe.jsx)("span",{className:"detail-value",children:l(t.lastDownloadDate)})]})]})]}),(0,Pe.jsxs)("div",{className:"document-actions",children:[(0,Pe.jsxs)("button",{className:"download-btn",onClick:()=>{n(t._id,t.title)},disabled:"expired"===(null===i||void 0===i?void 0:i.status),children:[(0,Pe.jsx)("span",{className:"download-icon",children:"\u2b07\ufe0f"}),"T\xe9l\xe9charger"]}),"expired"===(null===i||void 0===i?void 0:i.status)&&(0,Pe.jsx)("div",{className:"expired-message",children:"\u26a0\ufe0f Ce document a expir\xe9 et ne peut plus \xeatre t\xe9l\xe9charg\xe9"})]})]})},pr=e=>{let{title:t,description:n,documents:a,onDownload:r,getCategoryIcon:s,getCategoryLabel:l,formatFileSize:o,formatDate:i,emptyMessage:c,isPersonal:d=!1}=e;return(0,Pe.jsxs)("div",{className:"documents-section",children:[(0,Pe.jsxs)("div",{className:"section-header",children:[(0,Pe.jsx)("h2",{children:t}),(0,Pe.jsx)("p",{className:"section-description",children:n})]}),0===a.length?(0,Pe.jsxs)("div",{className:"empty-state",children:[(0,Pe.jsx)("div",{className:"empty-icon",children:"\ud83d\udcc4"}),(0,Pe.jsx)("h3",{children:"Aucun document"}),(0,Pe.jsx)("p",{children:c})]}):(0,Pe.jsx)("div",{className:"documents-grid",children:a.map(e=>(0,Pe.jsx)(mr,{document:e,onDownload:r,getCategoryIcon:s,getCategoryLabel:l,formatFileSize:o,formatDate:i,isPersonal:d},e._id))}),a.length>0&&(0,Pe.jsx)("div",{className:"section-footer",children:(0,Pe.jsxs)("p",{className:"document-count",children:[a.length," document",a.length>1?"s":""," disponible",a.length>1?"s":""]})})]})},hr=()=>{const{user:e}=Oe(),[t,n]=(0,s.useState)([]),[a,r]=(0,s.useState)([]),[l,o]=(0,s.useState)(!0),[i,c]=(0,s.useState)("general");(0,s.useEffect)(()=>{e&&d()},[e]);const d=async()=>{try{o(!0);const t=await va.get("/documents/general");if(t.data.success&&n(t.data.data),e.employeeId){const t=await va.get("/documents/personal/".concat(e.employeeId));t.data.success&&r(t.data.data)}}catch(t){console.error("Erreur lors du chargement des documents:",t),Va.error("Erreur lors du chargement des documents")}finally{o(!1)}},u=async(t,n)=>{try{console.log("\u2b07\ufe0f T\xe9l\xe9chargement document:",t);let a="/documents/".concat(t,"/download");e.employeeId&&(a+="?employeeId=".concat(e.employeeId));const r=document.createElement("a");r.href="".concat("https://boulangerie-planning-api-4-pbfy.onrender.com/api").concat(a),r.download=n,document.body.appendChild(r),r.click(),document.body.removeChild(r),Va.success('\ud83d\udce5 T\xe9l\xe9chargement de "'.concat(n,'" d\xe9marr\xe9'))}catch(a){console.error("Erreur lors du t\xe9l\xe9chargement:",a),Va.error("Erreur lors du t\xe9l\xe9chargement du document")}},m=e=>({notice:"\ud83d\udccb",procedure:"\ud83d\udcdd",formation:"\ud83c\udf93",payslip:"\ud83d\udcb0",contract:"\ud83d\udcc4",other:"\ud83d\udcc1"}[e]||"\ud83d\udcc4"),p=e=>({notice:"Notice",procedure:"Proc\xe9dure",formation:"Formation",payslip:"Fiche de paie",contract:"Contrat",other:"Autre"}[e]||e),h=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},f=e=>new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});return l?(0,Pe.jsx)("div",{className:"employee-dashboard",children:(0,Pe.jsxs)("div",{className:"loading-container",children:[(0,Pe.jsx)("div",{className:"loading"}),(0,Pe.jsx)("p",{children:"Chargement de vos documents..."})]})}):(0,Pe.jsxs)("div",{className:"employee-dashboard",children:[(0,Pe.jsxs)("div",{className:"dashboard-header",children:[(0,Pe.jsx)("h1",{children:"\ud83d\udcc1 Mes Documents"}),(0,Pe.jsxs)("p",{children:["Bienvenue ",(null===e||void 0===e?void 0:e.name)||"Employ\xe9",", consultez vos documents personnels et g\xe9n\xe9raux"]})]}),(0,Pe.jsxs)("div",{className:"dashboard-tabs",children:[(0,Pe.jsxs)("button",{className:"tab ".concat("general"===i?"active":""),onClick:()=>c("general"),children:["\ud83d\udccb Documents G\xe9n\xe9raux (",t.length,")"]}),(0,Pe.jsxs)("button",{className:"tab ".concat("personal"===i?"active":""),onClick:()=>c("personal"),children:["\ud83d\udc64 Mes Documents (",a.length,")"]})]}),(0,Pe.jsx)("div",{className:"dashboard-content",children:"general"===i?(0,Pe.jsx)(pr,{title:"\ud83d\udccb Documents G\xe9n\xe9raux",description:"Documents accessibles \xe0 tous les employ\xe9s",documents:t,onDownload:u,getCategoryIcon:m,getCategoryLabel:p,formatFileSize:h,formatDate:f,emptyMessage:"Aucun document g\xe9n\xe9ral disponible"}):(0,Pe.jsx)(pr,{title:"\ud83d\udc64 Mes Documents Personnels",description:"Vos documents personnels (fiches de paie, contrats, etc.)",documents:a,onDownload:u,getCategoryIcon:m,getCategoryLabel:p,formatFileSize:h,formatDate:f,emptyMessage:"Aucun document personnel disponible",isPersonal:!0})}),(0,Pe.jsx)("div",{className:"dashboard-footer",children:(0,Pe.jsxs)("div",{className:"info-box",children:[(0,Pe.jsx)("h3",{children:"\u2139\ufe0f Informations importantes"}),(0,Pe.jsxs)("ul",{children:[(0,Pe.jsxs)("li",{children:["\ud83d\udccb Les ",(0,Pe.jsx)("strong",{children:"documents g\xe9n\xe9raux"})," sont accessibles \xe0 tous les employ\xe9s"]}),(0,Pe.jsxs)("li",{children:["\ud83d\udc64 Les ",(0,Pe.jsx)("strong",{children:"documents personnels"})," sont sp\xe9cifiques \xe0 votre compte"]}),(0,Pe.jsx)("li",{children:"\u23f0 Les documents personnels sont automatiquement supprim\xe9s apr\xe8s 1 mois"}),(0,Pe.jsx)("li",{children:'\ud83d\udce5 Cliquez sur "T\xe9l\xe9charger" pour sauvegarder un document sur votre appareil'})]})]})})]})},fr=()=>{const[e,t]=(0,s.useState)([]),[n,a]=(0,s.useState)({}),[r,l]=(0,s.useState)(!0),[o,i]=(0,s.useState)(null),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)("all");(0,s.useEffect)(()=>{p(),h()},[]);const p=async()=>{try{l(!0);const e=await va.get("/advance-requests");e.data.success&&t(e.data.data)}catch(e){console.error("Erreur r\xe9cup\xe9ration demandes acompte:",e),Va.error("Erreur lors du chargement des demandes")}finally{l(!1)}},h=async()=>{try{const e=await va.get("/advance-requests/stats");e.data.success&&a(e.data.data)}catch(e){console.error("Erreur r\xe9cup\xe9ration stats acompte:",e)}},f=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{(await va.put("/advance-requests/".concat(e),Wt({status:t},n))).data.success&&(Va.success("Demande ".concat("approved"===t?"approuv\xe9e":"rejet\xe9e"," avec succ\xe8s")),p(),h(),d(!1),i(null))}catch(a){console.error("Erreur action acompte:",a),Va.error("Erreur lors de l'action")}},v=()=>{d(!1),i(null)},g=()=>"all"===u?e:e.filter(e=>e.status===u),y=e=>({pending:"En attente",approved:"Approuv\xe9e",rejected:"Rejet\xe9e"}[e]||e);return r?(0,Pe.jsx)("div",{className:"advance-requests",children:(0,Pe.jsxs)("div",{className:"loading",children:[(0,Pe.jsx)("div",{className:"spinner"}),(0,Pe.jsx)("p",{children:"Chargement des demandes d'acompte..."})]})}):(0,Pe.jsxs)("div",{className:"advance-requests",children:[(0,Pe.jsxs)("div",{className:"page-header",children:[(0,Pe.jsx)("h2",{children:"\ud83d\udcb0 Gestion des Demandes d'Acompte"}),(0,Pe.jsx)("div",{className:"header-actions",children:(0,Pe.jsx)("button",{className:"btn btn-primary",onClick:p,children:"\ud83d\udd04 Actualiser"})})]}),(0,Pe.jsxs)("div",{className:"advance-stats",children:[(0,Pe.jsxs)("div",{className:"stat-card",children:[(0,Pe.jsx)("div",{className:"stat-number",children:n.pending||0}),(0,Pe.jsx)("div",{className:"stat-label",children:"En attente"})]}),(0,Pe.jsxs)("div",{className:"stat-card",children:[(0,Pe.jsx)("div",{className:"stat-number",children:n.approved||0}),(0,Pe.jsx)("div",{className:"stat-label",children:"Approuv\xe9es"})]}),(0,Pe.jsxs)("div",{className:"stat-card",children:[(0,Pe.jsx)("div",{className:"stat-number",children:n.rejected||0}),(0,Pe.jsx)("div",{className:"stat-label",children:"Rejet\xe9es"})]}),(0,Pe.jsxs)("div",{className:"stat-card",children:[(0,Pe.jsxs)("div",{className:"stat-number",children:[n.totalAmount||0,"\u20ac"]}),(0,Pe.jsx)("div",{className:"stat-label",children:"Montant total"})]})]}),(0,Pe.jsxs)("div",{className:"filters",children:[(0,Pe.jsxs)("button",{className:"filter-btn ".concat("all"===u?"active":""),onClick:()=>m("all"),children:["Toutes (",n.total||0,")"]}),(0,Pe.jsxs)("button",{className:"filter-btn ".concat("pending"===u?"active":""),onClick:()=>m("pending"),children:["En attente (",n.pending||0,")"]}),(0,Pe.jsxs)("button",{className:"filter-btn ".concat("approved"===u?"active":""),onClick:()=>m("approved"),children:["Approuv\xe9es (",n.approved||0,")"]}),(0,Pe.jsxs)("button",{className:"filter-btn ".concat("rejected"===u?"active":""),onClick:()=>m("rejected"),children:["Rejet\xe9es (",n.rejected||0,")"]})]}),(0,Pe.jsx)("div",{className:"requests-list",children:0===g().length?(0,Pe.jsx)("div",{className:"no-requests",children:(0,Pe.jsx)("p",{children:"Aucune demande d'acompte trouv\xe9e"})}):g().map(e=>{return(0,Pe.jsxs)("div",{className:"request-card",children:[(0,Pe.jsxs)("div",{className:"request-info",children:[(0,Pe.jsxs)("div",{className:"employee-info",children:[(0,Pe.jsx)("div",{className:"employee-name",children:e.employeeName}),(0,Pe.jsx)("div",{className:"employee-email",children:e.employeeEmail})]}),(0,Pe.jsxs)("div",{className:"request-details",children:[(0,Pe.jsxs)("div",{className:"amount",children:[e.amount,"\u20ac"]}),(0,Pe.jsxs)("div",{className:"month",children:["D\xe9duction: ",e.deductionMonth]}),(0,Pe.jsxs)("div",{className:"date",children:["Demand\xe9 le: ",new Date(e.createdAt).toLocaleDateString("fr-FR")]}),e.comment&&(0,Pe.jsxs)("div",{className:"comment",children:[(0,Pe.jsx)("strong",{children:"Commentaire:"})," ",e.comment]}),e.managerComment&&(0,Pe.jsxs)("div",{className:"manager-comment",children:[(0,Pe.jsx)("strong",{children:"Commentaire manager:"})," ",e.managerComment]})]})]}),(0,Pe.jsxs)("div",{className:"request-actions",children:[(0,Pe.jsx)("div",{className:"status-badge ".concat((t=e.status,{pending:"status-pending",approved:"status-approved",rejected:"status-rejected"}[t]||"")),children:y(e.status)}),"pending"===e.status&&(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsx)("button",{className:"btn btn-success btn-sm",onClick:()=>f(e._id,"approved"),children:"\u2705 Approuver"}),(0,Pe.jsx)("button",{className:"btn btn-warning btn-sm",onClick:()=>(e=>{i(e),d(!0)})(e),children:"\u270f\ufe0f Modifier"}),(0,Pe.jsx)("button",{className:"btn btn-danger btn-sm",onClick:()=>f(e._id,"rejected"),children:"\u274c Rejeter"})]})]})]},e._id);var t})}),c&&o&&(0,Pe.jsx)("div",{className:"modal-overlay",children:(0,Pe.jsxs)("div",{className:"modal-content",children:[(0,Pe.jsxs)("div",{className:"modal-header",children:[(0,Pe.jsx)("h3",{children:"\u270f\ufe0f Modifier la Demande d'Acompte"}),(0,Pe.jsx)("button",{className:"close-btn",onClick:v,children:"\xd7"})]}),(0,Pe.jsxs)("div",{className:"modal-body",children:[(0,Pe.jsx)("div",{className:"form-group",children:(0,Pe.jsxs)("label",{children:["Employ\xe9: ",o.employeeName]})}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{children:"Montant (\u20ac):"}),(0,Pe.jsx)("input",{type:"number",id:"editAmount",defaultValue:o.amount,min:"1",max:"5000",step:"0.01"})]}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{children:"Mois de d\xe9duction:"}),(0,Pe.jsxs)("select",{id:"editMonth",defaultValue:o.deductionMonth,children:[(0,Pe.jsx)("option",{value:"Janvier 2025",children:"Janvier 2025"}),(0,Pe.jsx)("option",{value:"F\xe9vrier 2025",children:"F\xe9vrier 2025"}),(0,Pe.jsx)("option",{value:"Mars 2025",children:"Mars 2025"}),(0,Pe.jsx)("option",{value:"Avril 2025",children:"Avril 2025"}),(0,Pe.jsx)("option",{value:"Mai 2025",children:"Mai 2025"}),(0,Pe.jsx)("option",{value:"Juin 2025",children:"Juin 2025"}),(0,Pe.jsx)("option",{value:"Juillet 2025",children:"Juillet 2025"}),(0,Pe.jsx)("option",{value:"Ao\xfbt 2025",children:"Ao\xfbt 2025"}),(0,Pe.jsx)("option",{value:"Septembre 2025",children:"Septembre 2025"}),(0,Pe.jsx)("option",{value:"Octobre 2025",children:"Octobre 2025"}),(0,Pe.jsx)("option",{value:"Novembre 2025",children:"Novembre 2025"}),(0,Pe.jsx)("option",{value:"D\xe9cembre 2025",children:"D\xe9cembre 2025"})]})]}),(0,Pe.jsxs)("div",{className:"form-group",children:[(0,Pe.jsx)("label",{children:"Commentaire du manager:"}),(0,Pe.jsx)("textarea",{id:"editComment",rows:"3",placeholder:"Commentaire optionnel..."})]}),(0,Pe.jsxs)("div",{className:"modal-actions",children:[(0,Pe.jsx)("button",{className:"btn btn-success",onClick:()=>{const e=document.getElementById("editAmount").value,t=(document.getElementById("editMonth").value,document.getElementById("editComment").value);f(o._id,"approved",{approvedAmount:e,managerComment:t})},children:"\u2705 Approuver avec modifications"}),(0,Pe.jsx)("button",{className:"btn btn-danger",onClick:()=>{const e=document.getElementById("editComment").value;f(o._id,"rejected",{managerComment:e})},children:"\u274c Rejeter"}),(0,Pe.jsx)("button",{className:"btn btn-secondary",onClick:v,children:"Annuler"})]})]})]})})]})},vr=()=>{const{user:e}=Oe();return e?(0,Pe.jsxs)("div",{className:"App",children:[(0,Pe.jsx)(ga,{}),(0,Pe.jsxs)("div",{className:"app-container",children:[(0,Pe.jsx)(ya,{}),(0,Pe.jsx)("main",{className:"app-main",children:(0,Pe.jsxs)(xe,{children:[(0,Pe.jsx)(ge,{path:"/",element:(0,Pe.jsx)(ve,{to:"/dashboard",replace:!0})}),(0,Pe.jsx)(ge,{path:"/dashboard",element:(0,Pe.jsx)(xa,{children:(0,Pe.jsx)(Ga,{})})}),(0,Pe.jsx)(ge,{path:"/employees",element:(0,Pe.jsx)(xa,{children:(0,Pe.jsx)(Ja,{})})}),(0,Pe.jsx)(ge,{path:"/constraints",element:(0,Pe.jsx)(xa,{children:(0,Pe.jsx)(Qa,{})})}),(0,Pe.jsx)(ge,{path:"/planning",element:(0,Pe.jsx)(xa,{requiredPermission:"view_planning",children:(0,Pe.jsx)(Ka,{})})}),(0,Pe.jsx)(ge,{path:"/sales-stats",element:(0,Pe.jsx)(xa,{requiredPermission:"view_sales_stats",children:(0,Pe.jsx)(Ya,{})})}),(0,Pe.jsx)(ge,{path:"/absences",element:(0,Pe.jsx)(xa,{requiredPermission:"view_absences",children:(0,Pe.jsx)(Za,{})})}),(0,Pe.jsx)(ge,{path:"/meal-expenses",element:(0,Pe.jsx)(xa,{requiredPermission:"view_meal_expenses",children:(0,Pe.jsx)(er,{})})}),(0,Pe.jsx)(ge,{path:"/km-expenses",element:(0,Pe.jsx)(xa,{requiredPermission:"view_km_expenses",children:(0,Pe.jsx)(tr,{})})}),(0,Pe.jsx)(ge,{path:"/parameters",element:(0,Pe.jsx)(xa,{adminOnly:!0,children:(0,Pe.jsx)(nr,{})})}),(0,Pe.jsx)(ge,{path:"/employee-status-print",element:(0,Pe.jsx)(xa,{children:(0,Pe.jsx)(rr,{})})}),(0,Pe.jsx)(ge,{path:"/tutors",element:(0,Pe.jsx)(xa,{adminOnly:!0,children:(0,Pe.jsx)(sr,{})})}),(0,Pe.jsx)(ge,{path:"/sick-leave",element:(0,Pe.jsx)(ve,{to:"/plan/sick-leave",replace:!0})}),(0,Pe.jsx)(ge,{path:"/plan/sick-leave",element:(0,Pe.jsx)(ir,{})}),(0,Pe.jsx)(ge,{path:"/sick-leave-upload",element:(0,Pe.jsx)(lr,{})}),(0,Pe.jsx)(ge,{path:"/plan/sick-leave-upload",element:(0,Pe.jsx)(lr,{})}),(0,Pe.jsx)(ge,{path:"/sick-leave-management",element:(0,Pe.jsx)(xa,{adminOnly:!0,children:(0,Pe.jsx)(or,{})})}),(0,Pe.jsx)(ge,{path:"/vacation-management",element:(0,Pe.jsx)(xa,{adminOnly:!0,children:(0,Pe.jsx)(cr,{})})}),(0,Pe.jsx)(ge,{path:"/vacation-planning",element:(0,Pe.jsx)(xa,{adminOnly:!0,children:(0,Pe.jsx)(dr,{})})}),(0,Pe.jsx)(ge,{path:"/ticket-restaurant",element:(0,Pe.jsx)(xa,{children:(0,Pe.jsx)(ur,{})})}),(0,Pe.jsx)(ge,{path:"/employee-dashboard",element:(0,Pe.jsx)(xa,{children:(0,Pe.jsx)(hr,{})})}),(0,Pe.jsx)(ge,{path:"/advance-requests",element:(0,Pe.jsx)(xa,{children:(0,Pe.jsx)(fr,{})})})]})})]})]}):(0,Pe.jsx)(ba,{})};const gr=function(){return(0,Pe.jsx)(Me,{children:(0,Pe.jsx)(Ce,{basename:"/plan",children:(0,Pe.jsxs)(xe,{children:[(0,Pe.jsx)(ge,{path:"/login",element:(0,Pe.jsx)(ba,{})}),(0,Pe.jsx)(ge,{path:"/*",element:(0,Pe.jsx)(vr,{})})]})})})};o.createRoot(document.getElementById("root")).render((0,Pe.jsx)(s.StrictMode,{children:(0,Pe.jsx)(gr,{})}))})();
//# sourceMappingURL=main.db543bcf.js.map