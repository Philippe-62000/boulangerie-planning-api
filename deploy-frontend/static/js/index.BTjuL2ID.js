function Mf(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(s,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function Lf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jd={exports:{}},ga={},Nd={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var es=Symbol.for("react.element"),If=Symbol.for("react.portal"),Of=Symbol.for("react.fragment"),Ff=Symbol.for("react.strict_mode"),zf=Symbol.for("react.profiler"),$f=Symbol.for("react.provider"),Vf=Symbol.for("react.context"),Uf=Symbol.for("react.forward_ref"),Bf=Symbol.for("react.suspense"),Hf=Symbol.for("react.memo"),Wf=Symbol.for("react.lazy"),Fo=Symbol.iterator;function qf(e){return e===null||typeof e!="object"?null:(e=Fo&&e[Fo]||e["@@iterator"],typeof e=="function"?e:null)}var bd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wd=Object.assign,Sd={};function nr(e,t,r){this.props=e,this.context=t,this.refs=Sd,this.updater=r||bd}nr.prototype.isReactComponent={};nr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};nr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ed(){}Ed.prototype=nr.prototype;function Ni(e,t,r){this.props=e,this.context=t,this.refs=Sd,this.updater=r||bd}var bi=Ni.prototype=new Ed;bi.constructor=Ni;wd(bi,nr.prototype);bi.isPureReactComponent=!0;var zo=Array.isArray,kd=Object.prototype.hasOwnProperty,wi={current:null},Cd={key:!0,ref:!0,__self:!0,__source:!0};function _d(e,t,r){var s,a={},l=null,i=null;if(t!=null)for(s in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)kd.call(t,s)&&!Cd.hasOwnProperty(s)&&(a[s]=t[s]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in o=e.defaultProps,o)a[s]===void 0&&(a[s]=o[s]);return{$$typeof:es,type:e,key:l,ref:i,props:a,_owner:wi.current}}function Jf(e,t){return{$$typeof:es,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Si(e){return typeof e=="object"&&e!==null&&e.$$typeof===es}function Kf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var $o=/\/+/g;function Ba(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Kf(""+e.key):t.toString(36)}function Ds(e,t,r,s,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case es:case If:i=!0}}if(i)return i=e,a=a(i),e=s===""?"."+Ba(i,0):s,zo(a)?(r="",e!=null&&(r=e.replace($o,"$&/")+"/"),Ds(a,t,r,"",function(d){return d})):a!=null&&(Si(a)&&(a=Jf(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace($o,"$&/")+"/")+e)),t.push(a)),1;if(i=0,s=s===""?".":s+":",zo(e))for(var o=0;o<e.length;o++){l=e[o];var c=s+Ba(l,o);i+=Ds(l,t,r,c,a)}else if(c=qf(e),typeof c=="function")for(e=c.call(e),o=0;!(l=e.next()).done;)l=l.value,c=s+Ba(l,o++),i+=Ds(l,t,r,c,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function us(e,t,r){if(e==null)return e;var s=[],a=0;return Ds(e,s,"","",function(l){return t.call(r,l,a++)}),s}function Yf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var He={current:null},Ts={transition:null},Qf={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:Ts,ReactCurrentOwner:wi};function Dd(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:us,forEach:function(e,t,r){us(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return us(e,function(){t++}),t},toArray:function(e){return us(e,function(t){return t})||[]},only:function(e){if(!Si(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Component=nr;te.Fragment=Of;te.Profiler=zf;te.PureComponent=Ni;te.StrictMode=Ff;te.Suspense=Bf;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qf;te.act=Dd;te.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=wd({},e.props),a=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=wi.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)kd.call(t,c)&&!Cd.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];s.children=o}return{$$typeof:es,type:e.type,key:a,ref:l,props:s,_owner:i}};te.createContext=function(e){return e={$$typeof:Vf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$f,_context:e},e.Consumer=e};te.createElement=_d;te.createFactory=function(e){var t=_d.bind(null,e);return t.type=e,t};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:Uf,render:e}};te.isValidElement=Si;te.lazy=function(e){return{$$typeof:Wf,_payload:{_status:-1,_result:e},_init:Yf}};te.memo=function(e,t){return{$$typeof:Hf,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=Ts.transition;Ts.transition={};try{e()}finally{Ts.transition=t}};te.unstable_act=Dd;te.useCallback=function(e,t){return He.current.useCallback(e,t)};te.useContext=function(e){return He.current.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e){return He.current.useDeferredValue(e)};te.useEffect=function(e,t){return He.current.useEffect(e,t)};te.useId=function(){return He.current.useId()};te.useImperativeHandle=function(e,t,r){return He.current.useImperativeHandle(e,t,r)};te.useInsertionEffect=function(e,t){return He.current.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return He.current.useLayoutEffect(e,t)};te.useMemo=function(e,t){return He.current.useMemo(e,t)};te.useReducer=function(e,t,r){return He.current.useReducer(e,t,r)};te.useRef=function(e){return He.current.useRef(e)};te.useState=function(e){return He.current.useState(e)};te.useSyncExternalStore=function(e,t,r){return He.current.useSyncExternalStore(e,t,r)};te.useTransition=function(){return He.current.useTransition()};te.version="18.3.1";Nd.exports=te;var N=Nd.exports;const Td=Lf(N),Gf=Mf({__proto__:null,default:Td},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xf=N,Zf=Symbol.for("react.element"),ep=Symbol.for("react.fragment"),tp=Object.prototype.hasOwnProperty,np=Xf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rp={key:!0,ref:!0,__self:!0,__source:!0};function Ad(e,t,r){var s,a={},l=null,i=null;r!==void 0&&(l=""+r),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)tp.call(t,s)&&!rp.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:Zf,type:e,key:l,ref:i,props:a,_owner:np.current}}ga.Fragment=ep;ga.jsx=Ad;ga.jsxs=Ad;jd.exports=ga;var n=jd.exports,yl={},Rd={exports:{}},rt={},Pd={exports:{}},Md={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,H){var J=O.length;O.push(H);e:for(;0<J;){var G=J-1>>>1,Y=O[G];if(0<a(Y,H))O[G]=H,O[J]=Y,J=G;else break e}}function r(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var H=O[0],J=O.pop();if(J!==H){O[0]=J;e:for(var G=0,Y=O.length,he=Y>>>1;G<he;){var oe=2*(G+1)-1,Ce=O[oe],U=oe+1,ee=O[U];if(0>a(Ce,J))U<Y&&0>a(ee,Ce)?(O[G]=ee,O[U]=J,G=U):(O[G]=Ce,O[oe]=J,G=oe);else if(U<Y&&0>a(ee,J))O[G]=ee,O[U]=J,G=U;else break e}}return H}function a(O,H){var J=O.sortIndex-H.sortIndex;return J!==0?J:O.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],d=[],m=1,p=null,j=3,S=!1,h=!1,f=!1,v=typeof setTimeout=="function"?setTimeout:null,u=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(O){for(var H=r(d);H!==null;){if(H.callback===null)s(d);else if(H.startTime<=O)s(d),H.sortIndex=H.expirationTime,t(c,H);else break;H=r(d)}}function k(O){if(f=!1,x(O),!h)if(r(c)!==null)h=!0,I(D);else{var H=r(d);H!==null&&Q(k,H.startTime-O)}}function D(O,H){h=!1,f&&(f=!1,u(b),b=-1),S=!0;var J=j;try{for(x(H),p=r(c);p!==null&&(!(p.expirationTime>H)||O&&!z());){var G=p.callback;if(typeof G=="function"){p.callback=null,j=p.priorityLevel;var Y=G(p.expirationTime<=H);H=e.unstable_now(),typeof Y=="function"?p.callback=Y:p===r(c)&&s(c),x(H)}else s(c);p=r(c)}if(p!==null)var he=!0;else{var oe=r(d);oe!==null&&Q(k,oe.startTime-H),he=!1}return he}finally{p=null,j=J,S=!1}}var w=!1,y=null,b=-1,A=5,C=-1;function z(){return!(e.unstable_now()-C<A)}function _(){if(y!==null){var O=e.unstable_now();C=O;var H=!0;try{H=y(!0,O)}finally{H?M():(w=!1,y=null)}}else w=!1}var M;if(typeof g=="function")M=function(){g(_)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,F=T.port2;T.port1.onmessage=_,M=function(){F.postMessage(null)}}else M=function(){v(_,0)};function I(O){y=O,w||(w=!0,M())}function Q(O,H){b=v(function(){O(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){h||S||(h=!0,I(D))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return j},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(O){switch(j){case 1:case 2:case 3:var H=3;break;default:H=j}var J=j;j=H;try{return O()}finally{j=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,H){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var J=j;j=O;try{return H()}finally{j=J}},e.unstable_scheduleCallback=function(O,H,J){var G=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?G+J:G):J=G,O){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=J+Y,O={id:m++,callback:H,priorityLevel:O,startTime:J,expirationTime:Y,sortIndex:-1},J>G?(O.sortIndex=J,t(d,O),r(c)===null&&O===r(d)&&(f?(u(b),b=-1):f=!0,Q(k,J-G))):(O.sortIndex=Y,t(c,O),h||S||(h=!0,I(D))),O},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(O){var H=j;return function(){var J=j;j=H;try{return O.apply(this,arguments)}finally{j=J}}}})(Md);Pd.exports=Md;var sp=Pd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ap=N,nt=sp;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ld=new Set,Mr={};function kn(e,t){Kn(e,t),Kn(e+"Capture",t)}function Kn(e,t){for(Mr[e]=t,e=0;e<t.length;e++)Ld.add(t[e])}var Mt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jl=Object.prototype.hasOwnProperty,lp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vo={},Uo={};function ip(e){return jl.call(Uo,e)?!0:jl.call(Vo,e)?!1:lp.test(e)?Uo[e]=!0:(Vo[e]=!0,!1)}function op(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function cp(e,t,r,s){if(t===null||typeof t>"u"||op(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function We(e,t,r,s,a,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ie[e]=new We(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ie[t]=new We(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ie[e]=new We(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ie[e]=new We(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ie[e]=new We(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ie[e]=new We(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ie[e]=new We(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ie[e]=new We(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ie[e]=new We(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ei=/[\-:]([a-z])/g;function ki(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ei,ki);Ie[t]=new We(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ei,ki);Ie[t]=new We(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ei,ki);Ie[t]=new We(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ie[e]=new We(e,1,!1,e.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new We("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ie[e]=new We(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ci(e,t,r,s){var a=Ie.hasOwnProperty(t)?Ie[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(cp(t,r,a,s)&&(r=null),s||a===null?ip(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var Ft=ap.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ms=Symbol.for("react.element"),Tn=Symbol.for("react.portal"),An=Symbol.for("react.fragment"),_i=Symbol.for("react.strict_mode"),Nl=Symbol.for("react.profiler"),Id=Symbol.for("react.provider"),Od=Symbol.for("react.context"),Di=Symbol.for("react.forward_ref"),bl=Symbol.for("react.suspense"),wl=Symbol.for("react.suspense_list"),Ti=Symbol.for("react.memo"),Vt=Symbol.for("react.lazy"),Fd=Symbol.for("react.offscreen"),Bo=Symbol.iterator;function mr(e){return e===null||typeof e!="object"?null:(e=Bo&&e[Bo]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,Ha;function Nr(e){if(Ha===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ha=t&&t[1]||""}return`
`+Ha+e}var Wa=!1;function qa(e,t){if(!e||Wa)return"";Wa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),l=s.stack.split(`
`),i=a.length-1,o=l.length-1;1<=i&&0<=o&&a[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==l[o]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{Wa=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Nr(e):""}function dp(e){switch(e.tag){case 5:return Nr(e.type);case 16:return Nr("Lazy");case 13:return Nr("Suspense");case 19:return Nr("SuspenseList");case 0:case 2:case 15:return e=qa(e.type,!1),e;case 11:return e=qa(e.type.render,!1),e;case 1:return e=qa(e.type,!0),e;default:return""}}function Sl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case An:return"Fragment";case Tn:return"Portal";case Nl:return"Profiler";case _i:return"StrictMode";case bl:return"Suspense";case wl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Od:return(e.displayName||"Context")+".Consumer";case Id:return(e._context.displayName||"Context")+".Provider";case Di:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ti:return t=e.displayName||null,t!==null?t:Sl(e.type)||"Memo";case Vt:t=e._payload,e=e._init;try{return Sl(e(t))}catch{}}return null}function up(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sl(t);case 8:return t===_i?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function rn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mp(e){var t=zd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){s=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fs(e){e._valueTracker||(e._valueTracker=mp(e))}function $d(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=zd(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function Hs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function El(e,t){var r=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ho(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=rn(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Vd(e,t){t=t.checked,t!=null&&Ci(e,"checked",t,!1)}function kl(e,t){Vd(e,t);var r=rn(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Cl(e,t.type,r):t.hasOwnProperty("defaultValue")&&Cl(e,t.type,rn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wo(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Cl(e,t,r){(t!=="number"||Hs(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var br=Array.isArray;function Un(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+rn(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function _l(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qo(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error($(92));if(br(r)){if(1<r.length)throw Error($(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:rn(r)}}function Ud(e,t){var r=rn(t.value),s=rn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function Jo(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Bd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Bd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ps,Hd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ps=ps||document.createElement("div"),ps.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ps.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Lr(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Er={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fp=["Webkit","ms","Moz","O"];Object.keys(Er).forEach(function(e){fp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Er[t]=Er[e]})});function Wd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Er.hasOwnProperty(e)&&Er[e]?(""+t).trim():t+"px"}function qd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=Wd(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var pp=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tl(e,t){if(t){if(pp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function Al(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rl=null;function Ai(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pl=null,Bn=null,Hn=null;function Ko(e){if(e=rs(e)){if(typeof Pl!="function")throw Error($(280));var t=e.stateNode;t&&(t=Na(t),Pl(e.stateNode,e.type,t))}}function Jd(e){Bn?Hn?Hn.push(e):Hn=[e]:Bn=e}function Kd(){if(Bn){var e=Bn,t=Hn;if(Hn=Bn=null,Ko(e),t)for(e=0;e<t.length;e++)Ko(t[e])}}function Yd(e,t){return e(t)}function Qd(){}var Ja=!1;function Gd(e,t,r){if(Ja)return e(t,r);Ja=!0;try{return Yd(e,t,r)}finally{Ja=!1,(Bn!==null||Hn!==null)&&(Qd(),Kd())}}function Ir(e,t){var r=e.stateNode;if(r===null)return null;var s=Na(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error($(231,t,typeof r));return r}var Ml=!1;if(Mt)try{var fr={};Object.defineProperty(fr,"passive",{get:function(){Ml=!0}}),window.addEventListener("test",fr,fr),window.removeEventListener("test",fr,fr)}catch{Ml=!1}function hp(e,t,r,s,a,l,i,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(m){this.onError(m)}}var kr=!1,Ws=null,qs=!1,Ll=null,gp={onError:function(e){kr=!0,Ws=e}};function vp(e,t,r,s,a,l,i,o,c){kr=!1,Ws=null,hp.apply(gp,arguments)}function xp(e,t,r,s,a,l,i,o,c){if(vp.apply(this,arguments),kr){if(kr){var d=Ws;kr=!1,Ws=null}else throw Error($(198));qs||(qs=!0,Ll=d)}}function Cn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Xd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yo(e){if(Cn(e)!==e)throw Error($(188))}function yp(e){var t=e.alternate;if(!t){if(t=Cn(e),t===null)throw Error($(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var l=a.alternate;if(l===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===r)return Yo(a),e;if(l===s)return Yo(a),t;l=l.sibling}throw Error($(188))}if(r.return!==s.return)r=a,s=l;else{for(var i=!1,o=a.child;o;){if(o===r){i=!0,r=a,s=l;break}if(o===s){i=!0,s=a,r=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===r){i=!0,r=l,s=a;break}if(o===s){i=!0,s=l,r=a;break}o=o.sibling}if(!i)throw Error($(189))}}if(r.alternate!==s)throw Error($(190))}if(r.tag!==3)throw Error($(188));return r.stateNode.current===r?e:t}function Zd(e){return e=yp(e),e!==null?eu(e):null}function eu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=eu(e);if(t!==null)return t;e=e.sibling}return null}var tu=nt.unstable_scheduleCallback,Qo=nt.unstable_cancelCallback,jp=nt.unstable_shouldYield,Np=nt.unstable_requestPaint,be=nt.unstable_now,bp=nt.unstable_getCurrentPriorityLevel,Ri=nt.unstable_ImmediatePriority,nu=nt.unstable_UserBlockingPriority,Js=nt.unstable_NormalPriority,wp=nt.unstable_LowPriority,ru=nt.unstable_IdlePriority,va=null,St=null;function Sp(e){if(St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(va,e,void 0,(e.current.flags&128)===128)}catch{}}var gt=Math.clz32?Math.clz32:Cp,Ep=Math.log,kp=Math.LN2;function Cp(e){return e>>>=0,e===0?32:31-(Ep(e)/kp|0)|0}var hs=64,gs=4194304;function wr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ks(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,l=e.pingedLanes,i=r&268435455;if(i!==0){var o=i&~a;o!==0?s=wr(o):(l&=i,l!==0&&(s=wr(l)))}else i=r&~a,i!==0?s=wr(i):l!==0&&(s=wr(l));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-gt(t),a=1<<r,s|=e[r],t&=~a;return s}function _p(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dp(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-gt(l),o=1<<i,c=a[i];c===-1?(!(o&r)||o&s)&&(a[i]=_p(o,t)):c<=t&&(e.expiredLanes|=o),l&=~o}}function Il(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function su(){var e=hs;return hs<<=1,!(hs&4194240)&&(hs=64),e}function Ka(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ts(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gt(t),e[t]=r}function Tp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-gt(r),l=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~l}}function Pi(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-gt(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var ie=0;function au(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var lu,Mi,iu,ou,cu,Ol=!1,vs=[],Kt=null,Yt=null,Qt=null,Or=new Map,Fr=new Map,Bt=[],Ap="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Go(e,t){switch(e){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":Yt=null;break;case"mouseover":case"mouseout":Qt=null;break;case"pointerover":case"pointerout":Or.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fr.delete(t.pointerId)}}function pr(e,t,r,s,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:l,targetContainers:[a]},t!==null&&(t=rs(t),t!==null&&Mi(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Rp(e,t,r,s,a){switch(t){case"focusin":return Kt=pr(Kt,e,t,r,s,a),!0;case"dragenter":return Yt=pr(Yt,e,t,r,s,a),!0;case"mouseover":return Qt=pr(Qt,e,t,r,s,a),!0;case"pointerover":var l=a.pointerId;return Or.set(l,pr(Or.get(l)||null,e,t,r,s,a)),!0;case"gotpointercapture":return l=a.pointerId,Fr.set(l,pr(Fr.get(l)||null,e,t,r,s,a)),!0}return!1}function du(e){var t=fn(e.target);if(t!==null){var r=Cn(t);if(r!==null){if(t=r.tag,t===13){if(t=Xd(r),t!==null){e.blockedOn=t,cu(e.priority,function(){iu(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function As(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Fl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Rl=s,r.target.dispatchEvent(s),Rl=null}else return t=rs(r),t!==null&&Mi(t),e.blockedOn=r,!1;t.shift()}return!0}function Xo(e,t,r){As(e)&&r.delete(t)}function Pp(){Ol=!1,Kt!==null&&As(Kt)&&(Kt=null),Yt!==null&&As(Yt)&&(Yt=null),Qt!==null&&As(Qt)&&(Qt=null),Or.forEach(Xo),Fr.forEach(Xo)}function hr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ol||(Ol=!0,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,Pp)))}function zr(e){function t(a){return hr(a,e)}if(0<vs.length){hr(vs[0],e);for(var r=1;r<vs.length;r++){var s=vs[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Kt!==null&&hr(Kt,e),Yt!==null&&hr(Yt,e),Qt!==null&&hr(Qt,e),Or.forEach(t),Fr.forEach(t),r=0;r<Bt.length;r++)s=Bt[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Bt.length&&(r=Bt[0],r.blockedOn===null);)du(r),r.blockedOn===null&&Bt.shift()}var Wn=Ft.ReactCurrentBatchConfig,Ys=!0;function Mp(e,t,r,s){var a=ie,l=Wn.transition;Wn.transition=null;try{ie=1,Li(e,t,r,s)}finally{ie=a,Wn.transition=l}}function Lp(e,t,r,s){var a=ie,l=Wn.transition;Wn.transition=null;try{ie=4,Li(e,t,r,s)}finally{ie=a,Wn.transition=l}}function Li(e,t,r,s){if(Ys){var a=Fl(e,t,r,s);if(a===null)sl(e,t,s,Qs,r),Go(e,s);else if(Rp(a,e,t,r,s))s.stopPropagation();else if(Go(e,s),t&4&&-1<Ap.indexOf(e)){for(;a!==null;){var l=rs(a);if(l!==null&&lu(l),l=Fl(e,t,r,s),l===null&&sl(e,t,s,Qs,r),l===a)break;a=l}a!==null&&s.stopPropagation()}else sl(e,t,s,null,r)}}var Qs=null;function Fl(e,t,r,s){if(Qs=null,e=Ai(s),e=fn(e),e!==null)if(t=Cn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Xd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qs=e,null}function uu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bp()){case Ri:return 1;case nu:return 4;case Js:case wp:return 16;case ru:return 536870912;default:return 16}default:return 16}}var Wt=null,Ii=null,Rs=null;function mu(){if(Rs)return Rs;var e,t=Ii,r=t.length,s,a="value"in Wt?Wt.value:Wt.textContent,l=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(s=1;s<=i&&t[r-s]===a[l-s];s++);return Rs=a.slice(e,1<s?1-s:void 0)}function Ps(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xs(){return!0}function Zo(){return!1}function st(e){function t(r,s,a,l,i){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?xs:Zo,this.isPropagationStopped=Zo,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),t}var rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oi=st(rr),ns=ye({},rr,{view:0,detail:0}),Ip=st(ns),Ya,Qa,gr,xa=ye({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gr&&(gr&&e.type==="mousemove"?(Ya=e.screenX-gr.screenX,Qa=e.screenY-gr.screenY):Qa=Ya=0,gr=e),Ya)},movementY:function(e){return"movementY"in e?e.movementY:Qa}}),ec=st(xa),Op=ye({},xa,{dataTransfer:0}),Fp=st(Op),zp=ye({},ns,{relatedTarget:0}),Ga=st(zp),$p=ye({},rr,{animationName:0,elapsedTime:0,pseudoElement:0}),Vp=st($p),Up=ye({},rr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bp=st(Up),Hp=ye({},rr,{data:0}),tc=st(Hp),Wp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Jp[e])?!!t[e]:!1}function Fi(){return Kp}var Yp=ye({},ns,{key:function(e){if(e.key){var t=Wp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ps(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fi,charCode:function(e){return e.type==="keypress"?Ps(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ps(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qp=st(Yp),Gp=ye({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nc=st(Gp),Xp=ye({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fi}),Zp=st(Xp),eh=ye({},rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),th=st(eh),nh=ye({},xa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rh=st(nh),sh=[9,13,27,32],zi=Mt&&"CompositionEvent"in window,Cr=null;Mt&&"documentMode"in document&&(Cr=document.documentMode);var ah=Mt&&"TextEvent"in window&&!Cr,fu=Mt&&(!zi||Cr&&8<Cr&&11>=Cr),rc=" ",sc=!1;function pu(e,t){switch(e){case"keyup":return sh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rn=!1;function lh(e,t){switch(e){case"compositionend":return hu(t);case"keypress":return t.which!==32?null:(sc=!0,rc);case"textInput":return e=t.data,e===rc&&sc?null:e;default:return null}}function ih(e,t){if(Rn)return e==="compositionend"||!zi&&pu(e,t)?(e=mu(),Rs=Ii=Wt=null,Rn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fu&&t.locale!=="ko"?null:t.data;default:return null}}var oh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ac(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!oh[e.type]:t==="textarea"}function gu(e,t,r,s){Jd(s),t=Gs(t,"onChange"),0<t.length&&(r=new Oi("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var _r=null,$r=null;function ch(e){Cu(e,0)}function ya(e){var t=Ln(e);if($d(t))return e}function dh(e,t){if(e==="change")return t}var vu=!1;if(Mt){var Xa;if(Mt){var Za="oninput"in document;if(!Za){var lc=document.createElement("div");lc.setAttribute("oninput","return;"),Za=typeof lc.oninput=="function"}Xa=Za}else Xa=!1;vu=Xa&&(!document.documentMode||9<document.documentMode)}function ic(){_r&&(_r.detachEvent("onpropertychange",xu),$r=_r=null)}function xu(e){if(e.propertyName==="value"&&ya($r)){var t=[];gu(t,$r,e,Ai(e)),Gd(ch,t)}}function uh(e,t,r){e==="focusin"?(ic(),_r=t,$r=r,_r.attachEvent("onpropertychange",xu)):e==="focusout"&&ic()}function mh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ya($r)}function fh(e,t){if(e==="click")return ya(t)}function ph(e,t){if(e==="input"||e==="change")return ya(t)}function hh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:hh;function Vr(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!jl.call(t,a)||!xt(e[a],t[a]))return!1}return!0}function oc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cc(e,t){var r=oc(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=oc(r)}}function yu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ju(){for(var e=window,t=Hs();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Hs(e.document)}return t}function $i(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gh(e){var t=ju(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&yu(r.ownerDocument.documentElement,r)){if(s!==null&&$i(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,l=Math.min(s.start,a);s=s.end===void 0?l:Math.min(s.end,a),!e.extend&&l>s&&(a=s,s=l,l=a),a=cc(r,l);var i=cc(r,s);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vh=Mt&&"documentMode"in document&&11>=document.documentMode,Pn=null,zl=null,Dr=null,$l=!1;function dc(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$l||Pn==null||Pn!==Hs(s)||(s=Pn,"selectionStart"in s&&$i(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Dr&&Vr(Dr,s)||(Dr=s,s=Gs(zl,"onSelect"),0<s.length&&(t=new Oi("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Pn)))}function ys(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Mn={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionend:ys("Transition","TransitionEnd")},el={},Nu={};Mt&&(Nu=document.createElement("div").style,"AnimationEvent"in window||(delete Mn.animationend.animation,delete Mn.animationiteration.animation,delete Mn.animationstart.animation),"TransitionEvent"in window||delete Mn.transitionend.transition);function ja(e){if(el[e])return el[e];if(!Mn[e])return e;var t=Mn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Nu)return el[e]=t[r];return e}var bu=ja("animationend"),wu=ja("animationiteration"),Su=ja("animationstart"),Eu=ja("transitionend"),ku=new Map,uc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function an(e,t){ku.set(e,t),kn(t,[e])}for(var tl=0;tl<uc.length;tl++){var nl=uc[tl],xh=nl.toLowerCase(),yh=nl[0].toUpperCase()+nl.slice(1);an(xh,"on"+yh)}an(bu,"onAnimationEnd");an(wu,"onAnimationIteration");an(Su,"onAnimationStart");an("dblclick","onDoubleClick");an("focusin","onFocus");an("focusout","onBlur");an(Eu,"onTransitionEnd");Kn("onMouseEnter",["mouseout","mouseover"]);Kn("onMouseLeave",["mouseout","mouseover"]);Kn("onPointerEnter",["pointerout","pointerover"]);Kn("onPointerLeave",["pointerout","pointerover"]);kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kn("onBeforeInput",["compositionend","keypress","textInput","paste"]);kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function mc(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,xp(s,t,void 0,e),e.currentTarget=null}function Cu(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var l=void 0;if(t)for(var i=s.length-1;0<=i;i--){var o=s[i],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==l&&a.isPropagationStopped())break e;mc(a,o,d),l=c}else for(i=0;i<s.length;i++){if(o=s[i],c=o.instance,d=o.currentTarget,o=o.listener,c!==l&&a.isPropagationStopped())break e;mc(a,o,d),l=c}}}if(qs)throw e=Ll,qs=!1,Ll=null,e}function de(e,t){var r=t[Wl];r===void 0&&(r=t[Wl]=new Set);var s=e+"__bubble";r.has(s)||(_u(t,e,2,!1),r.add(s))}function rl(e,t,r){var s=0;t&&(s|=4),_u(r,e,s,t)}var js="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[js]){e[js]=!0,Ld.forEach(function(r){r!=="selectionchange"&&(jh.has(r)||rl(r,!1,e),rl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[js]||(t[js]=!0,rl("selectionchange",!1,t))}}function _u(e,t,r,s){switch(uu(t)){case 1:var a=Mp;break;case 4:a=Lp;break;default:a=Li}r=a.bind(null,t,r,e),a=void 0,!Ml||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function sl(e,t,r,s,a){var l=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var o=s.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=s.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;o!==null;){if(i=fn(o),i===null)return;if(c=i.tag,c===5||c===6){s=l=i;continue e}o=o.parentNode}}s=s.return}Gd(function(){var d=l,m=Ai(r),p=[];e:{var j=ku.get(e);if(j!==void 0){var S=Oi,h=e;switch(e){case"keypress":if(Ps(r)===0)break e;case"keydown":case"keyup":S=Qp;break;case"focusin":h="focus",S=Ga;break;case"focusout":h="blur",S=Ga;break;case"beforeblur":case"afterblur":S=Ga;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=ec;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=Fp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=Zp;break;case bu:case wu:case Su:S=Vp;break;case Eu:S=th;break;case"scroll":S=Ip;break;case"wheel":S=rh;break;case"copy":case"cut":case"paste":S=Bp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=nc}var f=(t&4)!==0,v=!f&&e==="scroll",u=f?j!==null?j+"Capture":null:j;f=[];for(var g=d,x;g!==null;){x=g;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,u!==null&&(k=Ir(g,u),k!=null&&f.push(Br(g,k,x)))),v)break;g=g.return}0<f.length&&(j=new S(j,h,null,r,m),p.push({event:j,listeners:f}))}}if(!(t&7)){e:{if(j=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",j&&r!==Rl&&(h=r.relatedTarget||r.fromElement)&&(fn(h)||h[Lt]))break e;if((S||j)&&(j=m.window===m?m:(j=m.ownerDocument)?j.defaultView||j.parentWindow:window,S?(h=r.relatedTarget||r.toElement,S=d,h=h?fn(h):null,h!==null&&(v=Cn(h),h!==v||h.tag!==5&&h.tag!==6)&&(h=null)):(S=null,h=d),S!==h)){if(f=ec,k="onMouseLeave",u="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(f=nc,k="onPointerLeave",u="onPointerEnter",g="pointer"),v=S==null?j:Ln(S),x=h==null?j:Ln(h),j=new f(k,g+"leave",S,r,m),j.target=v,j.relatedTarget=x,k=null,fn(m)===d&&(f=new f(u,g+"enter",h,r,m),f.target=x,f.relatedTarget=v,k=f),v=k,S&&h)t:{for(f=S,u=h,g=0,x=f;x;x=Dn(x))g++;for(x=0,k=u;k;k=Dn(k))x++;for(;0<g-x;)f=Dn(f),g--;for(;0<x-g;)u=Dn(u),x--;for(;g--;){if(f===u||u!==null&&f===u.alternate)break t;f=Dn(f),u=Dn(u)}f=null}else f=null;S!==null&&fc(p,j,S,f,!1),h!==null&&v!==null&&fc(p,v,h,f,!0)}}e:{if(j=d?Ln(d):window,S=j.nodeName&&j.nodeName.toLowerCase(),S==="select"||S==="input"&&j.type==="file")var D=dh;else if(ac(j))if(vu)D=ph;else{D=mh;var w=uh}else(S=j.nodeName)&&S.toLowerCase()==="input"&&(j.type==="checkbox"||j.type==="radio")&&(D=fh);if(D&&(D=D(e,d))){gu(p,D,r,m);break e}w&&w(e,j,d),e==="focusout"&&(w=j._wrapperState)&&w.controlled&&j.type==="number"&&Cl(j,"number",j.value)}switch(w=d?Ln(d):window,e){case"focusin":(ac(w)||w.contentEditable==="true")&&(Pn=w,zl=d,Dr=null);break;case"focusout":Dr=zl=Pn=null;break;case"mousedown":$l=!0;break;case"contextmenu":case"mouseup":case"dragend":$l=!1,dc(p,r,m);break;case"selectionchange":if(vh)break;case"keydown":case"keyup":dc(p,r,m)}var y;if(zi)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Rn?pu(e,r)&&(b="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(b="onCompositionStart");b&&(fu&&r.locale!=="ko"&&(Rn||b!=="onCompositionStart"?b==="onCompositionEnd"&&Rn&&(y=mu()):(Wt=m,Ii="value"in Wt?Wt.value:Wt.textContent,Rn=!0)),w=Gs(d,b),0<w.length&&(b=new tc(b,e,null,r,m),p.push({event:b,listeners:w}),y?b.data=y:(y=hu(r),y!==null&&(b.data=y)))),(y=ah?lh(e,r):ih(e,r))&&(d=Gs(d,"onBeforeInput"),0<d.length&&(m=new tc("onBeforeInput","beforeinput",null,r,m),p.push({event:m,listeners:d}),m.data=y))}Cu(p,t)})}function Br(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Gs(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=Ir(e,r),l!=null&&s.unshift(Br(e,l,a)),l=Ir(e,t),l!=null&&s.push(Br(e,l,a))),e=e.return}return s}function Dn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fc(e,t,r,s,a){for(var l=t._reactName,i=[];r!==null&&r!==s;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===s)break;o.tag===5&&d!==null&&(o=d,a?(c=Ir(r,l),c!=null&&i.unshift(Br(r,c,o))):a||(c=Ir(r,l),c!=null&&i.push(Br(r,c,o)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var Nh=/\r\n?/g,bh=/\u0000|\uFFFD/g;function pc(e){return(typeof e=="string"?e:""+e).replace(Nh,`
`).replace(bh,"")}function Ns(e,t,r){if(t=pc(t),pc(e)!==t&&r)throw Error($(425))}function Xs(){}var Vl=null,Ul=null;function Bl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hl=typeof setTimeout=="function"?setTimeout:void 0,wh=typeof clearTimeout=="function"?clearTimeout:void 0,hc=typeof Promise=="function"?Promise:void 0,Sh=typeof queueMicrotask=="function"?queueMicrotask:typeof hc<"u"?function(e){return hc.resolve(null).then(e).catch(Eh)}:Hl;function Eh(e){setTimeout(function(){throw e})}function al(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),zr(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);zr(t)}function Gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var sr=Math.random().toString(36).slice(2),wt="__reactFiber$"+sr,Hr="__reactProps$"+sr,Lt="__reactContainer$"+sr,Wl="__reactEvents$"+sr,kh="__reactListeners$"+sr,Ch="__reactHandles$"+sr;function fn(e){var t=e[wt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Lt]||r[wt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=gc(e);e!==null;){if(r=e[wt])return r;e=gc(e)}return t}e=r,r=e.parentNode}return null}function rs(e){return e=e[wt]||e[Lt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ln(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function Na(e){return e[Hr]||null}var ql=[],In=-1;function ln(e){return{current:e}}function me(e){0>In||(e.current=ql[In],ql[In]=null,In--)}function ce(e,t){In++,ql[In]=e.current,e.current=t}var sn={},Ve=ln(sn),Ke=ln(!1),jn=sn;function Yn(e,t){var r=e.type.contextTypes;if(!r)return sn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in r)a[l]=t[l];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ye(e){return e=e.childContextTypes,e!=null}function Zs(){me(Ke),me(Ve)}function vc(e,t,r){if(Ve.current!==sn)throw Error($(168));ce(Ve,t),ce(Ke,r)}function Du(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error($(108,up(e)||"Unknown",a));return ye({},r,s)}function ea(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||sn,jn=Ve.current,ce(Ve,e),ce(Ke,Ke.current),!0}function xc(e,t,r){var s=e.stateNode;if(!s)throw Error($(169));r?(e=Du(e,t,jn),s.__reactInternalMemoizedMergedChildContext=e,me(Ke),me(Ve),ce(Ve,e)):me(Ke),ce(Ke,r)}var Tt=null,ba=!1,ll=!1;function Tu(e){Tt===null?Tt=[e]:Tt.push(e)}function _h(e){ba=!0,Tu(e)}function on(){if(!ll&&Tt!==null){ll=!0;var e=0,t=ie;try{var r=Tt;for(ie=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}Tt=null,ba=!1}catch(a){throw Tt!==null&&(Tt=Tt.slice(e+1)),tu(Ri,on),a}finally{ie=t,ll=!1}}return null}var On=[],Fn=0,ta=null,na=0,at=[],lt=0,Nn=null,At=1,Rt="";function un(e,t){On[Fn++]=na,On[Fn++]=ta,ta=e,na=t}function Au(e,t,r){at[lt++]=At,at[lt++]=Rt,at[lt++]=Nn,Nn=e;var s=At;e=Rt;var a=32-gt(s)-1;s&=~(1<<a),r+=1;var l=32-gt(t)+a;if(30<l){var i=a-a%5;l=(s&(1<<i)-1).toString(32),s>>=i,a-=i,At=1<<32-gt(t)+a|r<<a|s,Rt=l+e}else At=1<<l|r<<a|s,Rt=e}function Vi(e){e.return!==null&&(un(e,1),Au(e,1,0))}function Ui(e){for(;e===ta;)ta=On[--Fn],On[Fn]=null,na=On[--Fn],On[Fn]=null;for(;e===Nn;)Nn=at[--lt],at[lt]=null,Rt=at[--lt],at[lt]=null,At=at[--lt],at[lt]=null}var tt=null,et=null,pe=!1,ht=null;function Ru(e,t){var r=it(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function yc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tt=e,et=Gt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tt=e,et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Nn!==null?{id:At,overflow:Rt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=it(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,tt=e,et=null,!0):!1;default:return!1}}function Jl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Kl(e){if(pe){var t=et;if(t){var r=t;if(!yc(e,t)){if(Jl(e))throw Error($(418));t=Gt(r.nextSibling);var s=tt;t&&yc(e,t)?Ru(s,r):(e.flags=e.flags&-4097|2,pe=!1,tt=e)}}else{if(Jl(e))throw Error($(418));e.flags=e.flags&-4097|2,pe=!1,tt=e}}}function jc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tt=e}function bs(e){if(e!==tt)return!1;if(!pe)return jc(e),pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bl(e.type,e.memoizedProps)),t&&(t=et)){if(Jl(e))throw Pu(),Error($(418));for(;t;)Ru(e,t),t=Gt(t.nextSibling)}if(jc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){et=Gt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}et=null}}else et=tt?Gt(e.stateNode.nextSibling):null;return!0}function Pu(){for(var e=et;e;)e=Gt(e.nextSibling)}function Qn(){et=tt=null,pe=!1}function Bi(e){ht===null?ht=[e]:ht.push(e)}var Dh=Ft.ReactCurrentBatchConfig;function vr(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error($(309));var s=r.stateNode}if(!s)throw Error($(147,e));var a=s,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var o=a.refs;i===null?delete o[l]:o[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error($(284));if(!r._owner)throw Error($(290,e))}return e}function ws(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Nc(e){var t=e._init;return t(e._payload)}function Mu(e){function t(u,g){if(e){var x=u.deletions;x===null?(u.deletions=[g],u.flags|=16):x.push(g)}}function r(u,g){if(!e)return null;for(;g!==null;)t(u,g),g=g.sibling;return null}function s(u,g){for(u=new Map;g!==null;)g.key!==null?u.set(g.key,g):u.set(g.index,g),g=g.sibling;return u}function a(u,g){return u=tn(u,g),u.index=0,u.sibling=null,u}function l(u,g,x){return u.index=x,e?(x=u.alternate,x!==null?(x=x.index,x<g?(u.flags|=2,g):x):(u.flags|=2,g)):(u.flags|=1048576,g)}function i(u){return e&&u.alternate===null&&(u.flags|=2),u}function o(u,g,x,k){return g===null||g.tag!==6?(g=fl(x,u.mode,k),g.return=u,g):(g=a(g,x),g.return=u,g)}function c(u,g,x,k){var D=x.type;return D===An?m(u,g,x.props.children,k,x.key):g!==null&&(g.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Vt&&Nc(D)===g.type)?(k=a(g,x.props),k.ref=vr(u,g,x),k.return=u,k):(k=$s(x.type,x.key,x.props,null,u.mode,k),k.ref=vr(u,g,x),k.return=u,k)}function d(u,g,x,k){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=pl(x,u.mode,k),g.return=u,g):(g=a(g,x.children||[]),g.return=u,g)}function m(u,g,x,k,D){return g===null||g.tag!==7?(g=xn(x,u.mode,k,D),g.return=u,g):(g=a(g,x),g.return=u,g)}function p(u,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=fl(""+g,u.mode,x),g.return=u,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ms:return x=$s(g.type,g.key,g.props,null,u.mode,x),x.ref=vr(u,null,g),x.return=u,x;case Tn:return g=pl(g,u.mode,x),g.return=u,g;case Vt:var k=g._init;return p(u,k(g._payload),x)}if(br(g)||mr(g))return g=xn(g,u.mode,x,null),g.return=u,g;ws(u,g)}return null}function j(u,g,x,k){var D=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return D!==null?null:o(u,g,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ms:return x.key===D?c(u,g,x,k):null;case Tn:return x.key===D?d(u,g,x,k):null;case Vt:return D=x._init,j(u,g,D(x._payload),k)}if(br(x)||mr(x))return D!==null?null:m(u,g,x,k,null);ws(u,x)}return null}function S(u,g,x,k,D){if(typeof k=="string"&&k!==""||typeof k=="number")return u=u.get(x)||null,o(g,u,""+k,D);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ms:return u=u.get(k.key===null?x:k.key)||null,c(g,u,k,D);case Tn:return u=u.get(k.key===null?x:k.key)||null,d(g,u,k,D);case Vt:var w=k._init;return S(u,g,x,w(k._payload),D)}if(br(k)||mr(k))return u=u.get(x)||null,m(g,u,k,D,null);ws(g,k)}return null}function h(u,g,x,k){for(var D=null,w=null,y=g,b=g=0,A=null;y!==null&&b<x.length;b++){y.index>b?(A=y,y=null):A=y.sibling;var C=j(u,y,x[b],k);if(C===null){y===null&&(y=A);break}e&&y&&C.alternate===null&&t(u,y),g=l(C,g,b),w===null?D=C:w.sibling=C,w=C,y=A}if(b===x.length)return r(u,y),pe&&un(u,b),D;if(y===null){for(;b<x.length;b++)y=p(u,x[b],k),y!==null&&(g=l(y,g,b),w===null?D=y:w.sibling=y,w=y);return pe&&un(u,b),D}for(y=s(u,y);b<x.length;b++)A=S(y,u,b,x[b],k),A!==null&&(e&&A.alternate!==null&&y.delete(A.key===null?b:A.key),g=l(A,g,b),w===null?D=A:w.sibling=A,w=A);return e&&y.forEach(function(z){return t(u,z)}),pe&&un(u,b),D}function f(u,g,x,k){var D=mr(x);if(typeof D!="function")throw Error($(150));if(x=D.call(x),x==null)throw Error($(151));for(var w=D=null,y=g,b=g=0,A=null,C=x.next();y!==null&&!C.done;b++,C=x.next()){y.index>b?(A=y,y=null):A=y.sibling;var z=j(u,y,C.value,k);if(z===null){y===null&&(y=A);break}e&&y&&z.alternate===null&&t(u,y),g=l(z,g,b),w===null?D=z:w.sibling=z,w=z,y=A}if(C.done)return r(u,y),pe&&un(u,b),D;if(y===null){for(;!C.done;b++,C=x.next())C=p(u,C.value,k),C!==null&&(g=l(C,g,b),w===null?D=C:w.sibling=C,w=C);return pe&&un(u,b),D}for(y=s(u,y);!C.done;b++,C=x.next())C=S(y,u,b,C.value,k),C!==null&&(e&&C.alternate!==null&&y.delete(C.key===null?b:C.key),g=l(C,g,b),w===null?D=C:w.sibling=C,w=C);return e&&y.forEach(function(_){return t(u,_)}),pe&&un(u,b),D}function v(u,g,x,k){if(typeof x=="object"&&x!==null&&x.type===An&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ms:e:{for(var D=x.key,w=g;w!==null;){if(w.key===D){if(D=x.type,D===An){if(w.tag===7){r(u,w.sibling),g=a(w,x.props.children),g.return=u,u=g;break e}}else if(w.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Vt&&Nc(D)===w.type){r(u,w.sibling),g=a(w,x.props),g.ref=vr(u,w,x),g.return=u,u=g;break e}r(u,w);break}else t(u,w);w=w.sibling}x.type===An?(g=xn(x.props.children,u.mode,k,x.key),g.return=u,u=g):(k=$s(x.type,x.key,x.props,null,u.mode,k),k.ref=vr(u,g,x),k.return=u,u=k)}return i(u);case Tn:e:{for(w=x.key;g!==null;){if(g.key===w)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){r(u,g.sibling),g=a(g,x.children||[]),g.return=u,u=g;break e}else{r(u,g);break}else t(u,g);g=g.sibling}g=pl(x,u.mode,k),g.return=u,u=g}return i(u);case Vt:return w=x._init,v(u,g,w(x._payload),k)}if(br(x))return h(u,g,x,k);if(mr(x))return f(u,g,x,k);ws(u,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(r(u,g.sibling),g=a(g,x),g.return=u,u=g):(r(u,g),g=fl(x,u.mode,k),g.return=u,u=g),i(u)):r(u,g)}return v}var Gn=Mu(!0),Lu=Mu(!1),ra=ln(null),sa=null,zn=null,Hi=null;function Wi(){Hi=zn=sa=null}function qi(e){var t=ra.current;me(ra),e._currentValue=t}function Yl(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function qn(e,t){sa=e,Hi=zn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Je=!0),e.firstContext=null)}function ct(e){var t=e._currentValue;if(Hi!==e)if(e={context:e,memoizedValue:t,next:null},zn===null){if(sa===null)throw Error($(308));zn=e,sa.dependencies={lanes:0,firstContext:e}}else zn=zn.next=e;return t}var pn=null;function Ji(e){pn===null?pn=[e]:pn.push(e)}function Iu(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,Ji(t)):(r.next=a.next,a.next=r),t.interleaved=r,It(e,s)}function It(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ut=!1;function Ki(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ou(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xt(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,ae&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,It(e,r)}return a=s.interleaved,a===null?(t.next=t,Ji(s)):(t.next=a.next,a.next=t),s.interleaved=t,It(e,r)}function Ms(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Pi(e,r)}}function bc(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?a=l=i:l=l.next=i,r=r.next}while(r!==null);l===null?a=l=t:l=l.next=t}else a=l=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function aa(e,t,r,s){var a=e.updateQueue;Ut=!1;var l=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,d=c.next;c.next=null,i===null?l=d:i.next=d,i=c;var m=e.alternate;m!==null&&(m=m.updateQueue,o=m.lastBaseUpdate,o!==i&&(o===null?m.firstBaseUpdate=d:o.next=d,m.lastBaseUpdate=c))}if(l!==null){var p=a.baseState;i=0,m=d=c=null,o=l;do{var j=o.lane,S=o.eventTime;if((s&j)===j){m!==null&&(m=m.next={eventTime:S,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=e,f=o;switch(j=t,S=r,f.tag){case 1:if(h=f.payload,typeof h=="function"){p=h.call(S,p,j);break e}p=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=f.payload,j=typeof h=="function"?h.call(S,p,j):h,j==null)break e;p=ye({},p,j);break e;case 2:Ut=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,j=a.effects,j===null?a.effects=[o]:j.push(o))}else S={eventTime:S,lane:j,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(d=m=S,c=p):m=m.next=S,i|=j;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;j=o,o=j.next,j.next=null,a.lastBaseUpdate=j,a.shared.pending=null}}while(!0);if(m===null&&(c=p),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=m,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);wn|=i,e.lanes=i,e.memoizedState=p}}function wc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error($(191,a));a.call(s)}}}var ss={},Et=ln(ss),Wr=ln(ss),qr=ln(ss);function hn(e){if(e===ss)throw Error($(174));return e}function Yi(e,t){switch(ce(qr,t),ce(Wr,e),ce(Et,ss),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Dl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Dl(t,e)}me(Et),ce(Et,t)}function Xn(){me(Et),me(Wr),me(qr)}function Fu(e){hn(qr.current);var t=hn(Et.current),r=Dl(t,e.type);t!==r&&(ce(Wr,e),ce(Et,r))}function Qi(e){Wr.current===e&&(me(Et),me(Wr))}var ve=ln(0);function la(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var il=[];function Gi(){for(var e=0;e<il.length;e++)il[e]._workInProgressVersionPrimary=null;il.length=0}var Ls=Ft.ReactCurrentDispatcher,ol=Ft.ReactCurrentBatchConfig,bn=0,xe=null,Ee=null,De=null,ia=!1,Tr=!1,Jr=0,Th=0;function Oe(){throw Error($(321))}function Xi(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!xt(e[r],t[r]))return!1;return!0}function Zi(e,t,r,s,a,l){if(bn=l,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ls.current=e===null||e.memoizedState===null?Mh:Lh,e=r(s,a),Tr){l=0;do{if(Tr=!1,Jr=0,25<=l)throw Error($(301));l+=1,De=Ee=null,t.updateQueue=null,Ls.current=Ih,e=r(s,a)}while(Tr)}if(Ls.current=oa,t=Ee!==null&&Ee.next!==null,bn=0,De=Ee=xe=null,ia=!1,t)throw Error($(300));return e}function eo(){var e=Jr!==0;return Jr=0,e}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?xe.memoizedState=De=e:De=De.next=e,De}function dt(){if(Ee===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=De===null?xe.memoizedState:De.next;if(t!==null)De=t,Ee=e;else{if(e===null)throw Error($(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},De===null?xe.memoizedState=De=e:De=De.next=e}return De}function Kr(e,t){return typeof t=="function"?t(e):t}function cl(e){var t=dt(),r=t.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=e;var s=Ee,a=s.baseQueue,l=r.pending;if(l!==null){if(a!==null){var i=a.next;a.next=l.next,l.next=i}s.baseQueue=a=l,r.pending=null}if(a!==null){l=a.next,s=s.baseState;var o=i=null,c=null,d=l;do{var m=d.lane;if((bn&m)===m)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var p={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=p,i=s):c=c.next=p,xe.lanes|=m,wn|=m}d=d.next}while(d!==null&&d!==l);c===null?i=s:c.next=o,xt(s,t.memoizedState)||(Je=!0),t.memoizedState=s,t.baseState=i,t.baseQueue=c,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do l=a.lane,xe.lanes|=l,wn|=l,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function dl(e){var t=dt(),r=t.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,l=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do l=e(l,i.action),i=i.next;while(i!==a);xt(l,t.memoizedState)||(Je=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,s]}function zu(){}function $u(e,t){var r=xe,s=dt(),a=t(),l=!xt(s.memoizedState,a);if(l&&(s.memoizedState=a,Je=!0),s=s.queue,to(Bu.bind(null,r,s,e),[e]),s.getSnapshot!==t||l||De!==null&&De.memoizedState.tag&1){if(r.flags|=2048,Yr(9,Uu.bind(null,r,s,a,t),void 0,null),Te===null)throw Error($(349));bn&30||Vu(r,t,a)}return a}function Vu(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Uu(e,t,r,s){t.value=r,t.getSnapshot=s,Hu(t)&&Wu(e)}function Bu(e,t,r){return r(function(){Hu(t)&&Wu(e)})}function Hu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!xt(e,r)}catch{return!0}}function Wu(e){var t=It(e,1);t!==null&&vt(t,e,1,-1)}function Sc(e){var t=bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:e},t.queue=e,e=e.dispatch=Ph.bind(null,xe,e),[t.memoizedState,e]}function Yr(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function qu(){return dt().memoizedState}function Is(e,t,r,s){var a=bt();xe.flags|=e,a.memoizedState=Yr(1|t,r,void 0,s===void 0?null:s)}function wa(e,t,r,s){var a=dt();s=s===void 0?null:s;var l=void 0;if(Ee!==null){var i=Ee.memoizedState;if(l=i.destroy,s!==null&&Xi(s,i.deps)){a.memoizedState=Yr(t,r,l,s);return}}xe.flags|=e,a.memoizedState=Yr(1|t,r,l,s)}function Ec(e,t){return Is(8390656,8,e,t)}function to(e,t){return wa(2048,8,e,t)}function Ju(e,t){return wa(4,2,e,t)}function Ku(e,t){return wa(4,4,e,t)}function Yu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qu(e,t,r){return r=r!=null?r.concat([e]):null,wa(4,4,Yu.bind(null,t,e),r)}function no(){}function Gu(e,t){var r=dt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Xi(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function Xu(e,t){var r=dt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Xi(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function Zu(e,t,r){return bn&21?(xt(r,t)||(r=su(),xe.lanes|=r,wn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Je=!0),e.memoizedState=r)}function Ah(e,t){var r=ie;ie=r!==0&&4>r?r:4,e(!0);var s=ol.transition;ol.transition={};try{e(!1),t()}finally{ie=r,ol.transition=s}}function em(){return dt().memoizedState}function Rh(e,t,r){var s=en(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},tm(e))nm(t,r);else if(r=Iu(e,t,r,s),r!==null){var a=Be();vt(r,e,s,a),rm(r,t,s)}}function Ph(e,t,r){var s=en(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(tm(e))nm(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,o=l(i,r);if(a.hasEagerState=!0,a.eagerState=o,xt(o,i)){var c=t.interleaved;c===null?(a.next=a,Ji(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=Iu(e,t,a,s),r!==null&&(a=Be(),vt(r,e,s,a),rm(r,t,s))}}function tm(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function nm(e,t){Tr=ia=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function rm(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Pi(e,r)}}var oa={readContext:ct,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},Mh={readContext:ct,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:Ec,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Is(4194308,4,Yu.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Is(4194308,4,e,t)},useInsertionEffect:function(e,t){return Is(4,2,e,t)},useMemo:function(e,t){var r=bt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=bt();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Rh.bind(null,xe,e),[s.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:Sc,useDebugValue:no,useDeferredValue:function(e){return bt().memoizedState=e},useTransition:function(){var e=Sc(!1),t=e[0];return e=Ah.bind(null,e[1]),bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=xe,a=bt();if(pe){if(r===void 0)throw Error($(407));r=r()}else{if(r=t(),Te===null)throw Error($(349));bn&30||Vu(s,t,r)}a.memoizedState=r;var l={value:r,getSnapshot:t};return a.queue=l,Ec(Bu.bind(null,s,l,e),[e]),s.flags|=2048,Yr(9,Uu.bind(null,s,l,r,t),void 0,null),r},useId:function(){var e=bt(),t=Te.identifierPrefix;if(pe){var r=Rt,s=At;r=(s&~(1<<32-gt(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Jr++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Th++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Lh={readContext:ct,useCallback:Gu,useContext:ct,useEffect:to,useImperativeHandle:Qu,useInsertionEffect:Ju,useLayoutEffect:Ku,useMemo:Xu,useReducer:cl,useRef:qu,useState:function(){return cl(Kr)},useDebugValue:no,useDeferredValue:function(e){var t=dt();return Zu(t,Ee.memoizedState,e)},useTransition:function(){var e=cl(Kr)[0],t=dt().memoizedState;return[e,t]},useMutableSource:zu,useSyncExternalStore:$u,useId:em,unstable_isNewReconciler:!1},Ih={readContext:ct,useCallback:Gu,useContext:ct,useEffect:to,useImperativeHandle:Qu,useInsertionEffect:Ju,useLayoutEffect:Ku,useMemo:Xu,useReducer:dl,useRef:qu,useState:function(){return dl(Kr)},useDebugValue:no,useDeferredValue:function(e){var t=dt();return Ee===null?t.memoizedState=e:Zu(t,Ee.memoizedState,e)},useTransition:function(){var e=dl(Kr)[0],t=dt().memoizedState;return[e,t]},useMutableSource:zu,useSyncExternalStore:$u,useId:em,unstable_isNewReconciler:!1};function ft(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ql(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:ye({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Sa={isMounted:function(e){return(e=e._reactInternals)?Cn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Be(),a=en(e),l=Pt(s,a);l.payload=t,r!=null&&(l.callback=r),t=Xt(e,l,a),t!==null&&(vt(t,e,a,s),Ms(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Be(),a=en(e),l=Pt(s,a);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=Xt(e,l,a),t!==null&&(vt(t,e,a,s),Ms(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Be(),s=en(e),a=Pt(r,s);a.tag=2,t!=null&&(a.callback=t),t=Xt(e,a,s),t!==null&&(vt(t,e,s,r),Ms(t,e,s))}};function kc(e,t,r,s,a,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,l,i):t.prototype&&t.prototype.isPureReactComponent?!Vr(r,s)||!Vr(a,l):!0}function sm(e,t,r){var s=!1,a=sn,l=t.contextType;return typeof l=="object"&&l!==null?l=ct(l):(a=Ye(t)?jn:Ve.current,s=t.contextTypes,l=(s=s!=null)?Yn(e,a):sn),t=new t(r,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Sa,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function Cc(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&Sa.enqueueReplaceState(t,t.state,null)}function Gl(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Ki(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=ct(l):(l=Ye(t)?jn:Ve.current,a.context=Yn(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Ql(e,t,l,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Sa.enqueueReplaceState(a,a.state,null),aa(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Zn(e,t){try{var r="",s=t;do r+=dp(s),s=s.return;while(s);var a=r}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function ul(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Xl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Oh=typeof WeakMap=="function"?WeakMap:Map;function am(e,t,r){r=Pt(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){da||(da=!0,oi=s),Xl(e,t)},r}function lm(e,t,r){r=Pt(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){Xl(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){Xl(e,t),typeof s!="function"&&(Zt===null?Zt=new Set([this]):Zt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function _c(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new Oh;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=Gh.bind(null,e,t,r),t.then(e,e))}function Dc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Tc(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Pt(-1,1),t.tag=2,Xt(r,t,1))),r.lanes|=1),e)}var Fh=Ft.ReactCurrentOwner,Je=!1;function Ue(e,t,r,s){t.child=e===null?Lu(t,null,r,s):Gn(t,e.child,r,s)}function Ac(e,t,r,s,a){r=r.render;var l=t.ref;return qn(t,a),s=Zi(e,t,r,s,l,a),r=eo(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ot(e,t,a)):(pe&&r&&Vi(t),t.flags|=1,Ue(e,t,s,a),t.child)}function Rc(e,t,r,s,a){if(e===null){var l=r.type;return typeof l=="function"&&!uo(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,im(e,t,l,s,a)):(e=$s(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var i=l.memoizedProps;if(r=r.compare,r=r!==null?r:Vr,r(i,s)&&e.ref===t.ref)return Ot(e,t,a)}return t.flags|=1,e=tn(l,s),e.ref=t.ref,e.return=t,t.child=e}function im(e,t,r,s,a){if(e!==null){var l=e.memoizedProps;if(Vr(l,s)&&e.ref===t.ref)if(Je=!1,t.pendingProps=s=l,(e.lanes&a)!==0)e.flags&131072&&(Je=!0);else return t.lanes=e.lanes,Ot(e,t,a)}return Zl(e,t,r,s,a)}function om(e,t,r){var s=t.pendingProps,a=s.children,l=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(Vn,Ze),Ze|=r;else{if(!(r&1073741824))return e=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(Vn,Ze),Ze|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=l!==null?l.baseLanes:r,ce(Vn,Ze),Ze|=s}else l!==null?(s=l.baseLanes|r,t.memoizedState=null):s=r,ce(Vn,Ze),Ze|=s;return Ue(e,t,a,r),t.child}function cm(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Zl(e,t,r,s,a){var l=Ye(r)?jn:Ve.current;return l=Yn(t,l),qn(t,a),r=Zi(e,t,r,s,l,a),s=eo(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ot(e,t,a)):(pe&&s&&Vi(t),t.flags|=1,Ue(e,t,r,a),t.child)}function Pc(e,t,r,s,a){if(Ye(r)){var l=!0;ea(t)}else l=!1;if(qn(t,a),t.stateNode===null)Os(e,t),sm(t,r,s),Gl(t,r,s,a),s=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,d=r.contextType;typeof d=="object"&&d!==null?d=ct(d):(d=Ye(r)?jn:Ve.current,d=Yn(t,d));var m=r.getDerivedStateFromProps,p=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function";p||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==s||c!==d)&&Cc(t,i,s,d),Ut=!1;var j=t.memoizedState;i.state=j,aa(t,s,i,a),c=t.memoizedState,o!==s||j!==c||Ke.current||Ut?(typeof m=="function"&&(Ql(t,r,m,s),c=t.memoizedState),(o=Ut||kc(t,r,o,s,j,c,d))?(p||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),i.props=s,i.state=c,i.context=d,s=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,Ou(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:ft(t.type,o),i.props=d,p=t.pendingProps,j=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=ct(c):(c=Ye(r)?jn:Ve.current,c=Yn(t,c));var S=r.getDerivedStateFromProps;(m=typeof S=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==p||j!==c)&&Cc(t,i,s,c),Ut=!1,j=t.memoizedState,i.state=j,aa(t,s,i,a);var h=t.memoizedState;o!==p||j!==h||Ke.current||Ut?(typeof S=="function"&&(Ql(t,r,S,s),h=t.memoizedState),(d=Ut||kc(t,r,d,s,j,h,c)||!1)?(m||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,h,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,h,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=h),i.props=s,i.state=h,i.context=c,s=d):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),s=!1)}return ei(e,t,r,s,l,a)}function ei(e,t,r,s,a,l){cm(e,t);var i=(t.flags&128)!==0;if(!s&&!i)return a&&xc(t,r,!1),Ot(e,t,l);s=t.stateNode,Fh.current=t;var o=i&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&i?(t.child=Gn(t,e.child,null,l),t.child=Gn(t,null,o,l)):Ue(e,t,o,l),t.memoizedState=s.state,a&&xc(t,r,!0),t.child}function dm(e){var t=e.stateNode;t.pendingContext?vc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vc(e,t.context,!1),Yi(e,t.containerInfo)}function Mc(e,t,r,s,a){return Qn(),Bi(a),t.flags|=256,Ue(e,t,r,s),t.child}var ti={dehydrated:null,treeContext:null,retryLane:0};function ni(e){return{baseLanes:e,cachePool:null,transitions:null}}function um(e,t,r){var s=t.pendingProps,a=ve.current,l=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ce(ve,a&1),e===null)return Kl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=s.children,e=s.fallback,l?(s=t.mode,l=t.child,i={mode:"hidden",children:i},!(s&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=Ca(i,s,0,null),e=xn(e,s,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=ni(r),t.memoizedState=ti,e):ro(t,i));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return zh(e,t,i,s,o,a,r);if(l){l=s.fallback,i=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:s.children};return!(i&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=tn(a,c),s.subtreeFlags=a.subtreeFlags&14680064),o!==null?l=tn(o,l):(l=xn(l,i,r,null),l.flags|=2),l.return=t,s.return=t,s.sibling=l,t.child=s,s=l,l=t.child,i=e.child.memoizedState,i=i===null?ni(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~r,t.memoizedState=ti,s}return l=e.child,e=l.sibling,s=tn(l,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function ro(e,t){return t=Ca({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ss(e,t,r,s){return s!==null&&Bi(s),Gn(t,e.child,null,r),e=ro(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zh(e,t,r,s,a,l,i){if(r)return t.flags&256?(t.flags&=-257,s=ul(Error($(422))),Ss(e,t,i,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=s.fallback,a=t.mode,s=Ca({mode:"visible",children:s.children},a,0,null),l=xn(l,a,i,null),l.flags|=2,s.return=t,l.return=t,s.sibling=l,t.child=s,t.mode&1&&Gn(t,e.child,null,i),t.child.memoizedState=ni(i),t.memoizedState=ti,l);if(!(t.mode&1))return Ss(e,t,i,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var o=s.dgst;return s=o,l=Error($(419)),s=ul(l,s,void 0),Ss(e,t,i,s)}if(o=(i&e.childLanes)!==0,Je||o){if(s=Te,s!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|i)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,It(e,a),vt(s,e,a,-1))}return co(),s=ul(Error($(421))),Ss(e,t,i,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Xh.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,et=Gt(a.nextSibling),tt=t,pe=!0,ht=null,e!==null&&(at[lt++]=At,at[lt++]=Rt,at[lt++]=Nn,At=e.id,Rt=e.overflow,Nn=t),t=ro(t,s.children),t.flags|=4096,t)}function Lc(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Yl(e.return,t,r)}function ml(e,t,r,s,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=s,l.tail=r,l.tailMode=a)}function mm(e,t,r){var s=t.pendingProps,a=s.revealOrder,l=s.tail;if(Ue(e,t,s.children,r),s=ve.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lc(e,r,t);else if(e.tag===19)Lc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ce(ve,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&la(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),ml(t,!1,a,r,l);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&la(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}ml(t,!0,r,null,l);break;case"together":ml(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Os(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ot(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),wn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,r=tn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=tn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function $h(e,t,r){switch(t.tag){case 3:dm(t),Qn();break;case 5:Fu(t);break;case 1:Ye(t.type)&&ea(t);break;case 4:Yi(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;ce(ra,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ce(ve,ve.current&1),t.flags|=128,null):r&t.child.childLanes?um(e,t,r):(ce(ve,ve.current&1),e=Ot(e,t,r),e!==null?e.sibling:null);ce(ve,ve.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return mm(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ce(ve,ve.current),s)break;return null;case 22:case 23:return t.lanes=0,om(e,t,r)}return Ot(e,t,r)}var fm,ri,pm,hm;fm=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ri=function(){};pm=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,hn(Et.current);var l=null;switch(r){case"input":a=El(e,a),s=El(e,s),l=[];break;case"select":a=ye({},a,{value:void 0}),s=ye({},s,{value:void 0}),l=[];break;case"textarea":a=_l(e,a),s=_l(e,s),l=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Xs)}Tl(r,s);var i;r=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var o=a[d];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Mr.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in s){var c=s[d];if(o=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(l||(l=[]),l.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(l=l||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Mr.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&de("scroll",e),l||o===c||(l=[])):(l=l||[]).push(d,c))}r&&(l=l||[]).push("style",r);var d=l;(t.updateQueue=d)&&(t.flags|=4)}};hm=function(e,t,r,s){r!==s&&(t.flags|=4)};function xr(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function Vh(e,t,r){var s=t.pendingProps;switch(Ui(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(t),null;case 1:return Ye(t.type)&&Zs(),Fe(t),null;case 3:return s=t.stateNode,Xn(),me(Ke),me(Ve),Gi(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(bs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ht!==null&&(ui(ht),ht=null))),ri(e,t),Fe(t),null;case 5:Qi(t);var a=hn(qr.current);if(r=t.type,e!==null&&t.stateNode!=null)pm(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error($(166));return Fe(t),null}if(e=hn(Et.current),bs(t)){s=t.stateNode,r=t.type;var l=t.memoizedProps;switch(s[wt]=t,s[Hr]=l,e=(t.mode&1)!==0,r){case"dialog":de("cancel",s),de("close",s);break;case"iframe":case"object":case"embed":de("load",s);break;case"video":case"audio":for(a=0;a<Sr.length;a++)de(Sr[a],s);break;case"source":de("error",s);break;case"img":case"image":case"link":de("error",s),de("load",s);break;case"details":de("toggle",s);break;case"input":Ho(s,l),de("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!l.multiple},de("invalid",s);break;case"textarea":qo(s,l),de("invalid",s)}Tl(r,l),a=null;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="children"?typeof o=="string"?s.textContent!==o&&(l.suppressHydrationWarning!==!0&&Ns(s.textContent,o,e),a=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&Ns(s.textContent,o,e),a=["children",""+o]):Mr.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&de("scroll",s)}switch(r){case"input":fs(s),Wo(s,l,!0);break;case"textarea":fs(s),Jo(s);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(s.onclick=Xs)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Bd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=i.createElement(r,{is:s.is}):(e=i.createElement(r),r==="select"&&(i=e,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):e=i.createElementNS(e,r),e[wt]=t,e[Hr]=s,fm(e,t,!1,!1),t.stateNode=e;e:{switch(i=Al(r,s),r){case"dialog":de("cancel",e),de("close",e),a=s;break;case"iframe":case"object":case"embed":de("load",e),a=s;break;case"video":case"audio":for(a=0;a<Sr.length;a++)de(Sr[a],e);a=s;break;case"source":de("error",e),a=s;break;case"img":case"image":case"link":de("error",e),de("load",e),a=s;break;case"details":de("toggle",e),a=s;break;case"input":Ho(e,s),a=El(e,s),de("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=ye({},s,{value:void 0}),de("invalid",e);break;case"textarea":qo(e,s),a=_l(e,s),de("invalid",e);break;default:a=s}Tl(r,a),o=a;for(l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="style"?qd(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Hd(e,c)):l==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Lr(e,c):typeof c=="number"&&Lr(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Mr.hasOwnProperty(l)?c!=null&&l==="onScroll"&&de("scroll",e):c!=null&&Ci(e,l,c,i))}switch(r){case"input":fs(e),Wo(e,s,!1);break;case"textarea":fs(e),Jo(e);break;case"option":s.value!=null&&e.setAttribute("value",""+rn(s.value));break;case"select":e.multiple=!!s.multiple,l=s.value,l!=null?Un(e,!!s.multiple,l,!1):s.defaultValue!=null&&Un(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Xs)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Fe(t),null;case 6:if(e&&t.stateNode!=null)hm(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error($(166));if(r=hn(qr.current),hn(Et.current),bs(t)){if(s=t.stateNode,r=t.memoizedProps,s[wt]=t,(l=s.nodeValue!==r)&&(e=tt,e!==null))switch(e.tag){case 3:Ns(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ns(s.nodeValue,r,(e.mode&1)!==0)}l&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[wt]=t,t.stateNode=s}return Fe(t),null;case 13:if(me(ve),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pe&&et!==null&&t.mode&1&&!(t.flags&128))Pu(),Qn(),t.flags|=98560,l=!1;else if(l=bs(t),s!==null&&s.dehydrated!==null){if(e===null){if(!l)throw Error($(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error($(317));l[wt]=t}else Qn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Fe(t),l=!1}else ht!==null&&(ui(ht),ht=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?ke===0&&(ke=3):co())),t.updateQueue!==null&&(t.flags|=4),Fe(t),null);case 4:return Xn(),ri(e,t),e===null&&Ur(t.stateNode.containerInfo),Fe(t),null;case 10:return qi(t.type._context),Fe(t),null;case 17:return Ye(t.type)&&Zs(),Fe(t),null;case 19:if(me(ve),l=t.memoizedState,l===null)return Fe(t),null;if(s=(t.flags&128)!==0,i=l.rendering,i===null)if(s)xr(l,!1);else{if(ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=la(e),i!==null){for(t.flags|=128,xr(l,!1),s=i.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)l=r,e=s,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ce(ve,ve.current&1|2),t.child}e=e.sibling}l.tail!==null&&be()>er&&(t.flags|=128,s=!0,xr(l,!1),t.lanes=4194304)}else{if(!s)if(e=la(i),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),xr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!pe)return Fe(t),null}else 2*be()-l.renderingStartTime>er&&r!==1073741824&&(t.flags|=128,s=!0,xr(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(r=l.last,r!==null?r.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=be(),t.sibling=null,r=ve.current,ce(ve,s?r&1|2:r&1),t):(Fe(t),null);case 22:case 23:return oo(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Ze&1073741824&&(Fe(t),t.subtreeFlags&6&&(t.flags|=8192)):Fe(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function Uh(e,t){switch(Ui(t),t.tag){case 1:return Ye(t.type)&&Zs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xn(),me(Ke),me(Ve),Gi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Qi(t),null;case 13:if(me(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));Qn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(ve),null;case 4:return Xn(),null;case 10:return qi(t.type._context),null;case 22:case 23:return oo(),null;case 24:return null;default:return null}}var Es=!1,ze=!1,Bh=typeof WeakSet=="function"?WeakSet:Set,q=null;function $n(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Ne(e,t,s)}else r.current=null}function si(e,t,r){try{r()}catch(s){Ne(e,t,s)}}var Ic=!1;function Hh(e,t){if(Vl=Ys,e=ju(),$i(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,l=s.focusNode;s=s.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var i=0,o=-1,c=-1,d=0,m=0,p=e,j=null;t:for(;;){for(var S;p!==r||a!==0&&p.nodeType!==3||(o=i+a),p!==l||s!==0&&p.nodeType!==3||(c=i+s),p.nodeType===3&&(i+=p.nodeValue.length),(S=p.firstChild)!==null;)j=p,p=S;for(;;){if(p===e)break t;if(j===r&&++d===a&&(o=i),j===l&&++m===s&&(c=i),(S=p.nextSibling)!==null)break;p=j,j=p.parentNode}p=S}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ul={focusedElem:e,selectionRange:r},Ys=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var f=h.memoizedProps,v=h.memoizedState,u=t.stateNode,g=u.getSnapshotBeforeUpdate(t.elementType===t.type?f:ft(t.type,f),v);u.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(k){Ne(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return h=Ic,Ic=!1,h}function Ar(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&si(t,r,l)}a=a.next}while(a!==s)}}function Ea(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function ai(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function gm(e){var t=e.alternate;t!==null&&(e.alternate=null,gm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wt],delete t[Hr],delete t[Wl],delete t[kh],delete t[Ch])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vm(e){return e.tag===5||e.tag===3||e.tag===4}function Oc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function li(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Xs));else if(s!==4&&(e=e.child,e!==null))for(li(e,t,r),e=e.sibling;e!==null;)li(e,t,r),e=e.sibling}function ii(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(ii(e,t,r),e=e.sibling;e!==null;)ii(e,t,r),e=e.sibling}var Me=null,pt=!1;function $t(e,t,r){for(r=r.child;r!==null;)xm(e,t,r),r=r.sibling}function xm(e,t,r){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(va,r)}catch{}switch(r.tag){case 5:ze||$n(r,t);case 6:var s=Me,a=pt;Me=null,$t(e,t,r),Me=s,pt=a,Me!==null&&(pt?(e=Me,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Me.removeChild(r.stateNode));break;case 18:Me!==null&&(pt?(e=Me,r=r.stateNode,e.nodeType===8?al(e.parentNode,r):e.nodeType===1&&al(e,r),zr(e)):al(Me,r.stateNode));break;case 4:s=Me,a=pt,Me=r.stateNode.containerInfo,pt=!0,$t(e,t,r),Me=s,pt=a;break;case 0:case 11:case 14:case 15:if(!ze&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var l=a,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&si(r,t,i),a=a.next}while(a!==s)}$t(e,t,r);break;case 1:if(!ze&&($n(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(o){Ne(r,t,o)}$t(e,t,r);break;case 21:$t(e,t,r);break;case 22:r.mode&1?(ze=(s=ze)||r.memoizedState!==null,$t(e,t,r),ze=s):$t(e,t,r);break;default:$t(e,t,r)}}function Fc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Bh),t.forEach(function(s){var a=Zh.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function mt(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var l=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Me=o.stateNode,pt=!1;break e;case 3:Me=o.stateNode.containerInfo,pt=!0;break e;case 4:Me=o.stateNode.containerInfo,pt=!0;break e}o=o.return}if(Me===null)throw Error($(160));xm(l,i,a),Me=null,pt=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Ne(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ym(t,e),t=t.sibling}function ym(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mt(t,e),jt(e),s&4){try{Ar(3,e,e.return),Ea(3,e)}catch(f){Ne(e,e.return,f)}try{Ar(5,e,e.return)}catch(f){Ne(e,e.return,f)}}break;case 1:mt(t,e),jt(e),s&512&&r!==null&&$n(r,r.return);break;case 5:if(mt(t,e),jt(e),s&512&&r!==null&&$n(r,r.return),e.flags&32){var a=e.stateNode;try{Lr(a,"")}catch(f){Ne(e,e.return,f)}}if(s&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,i=r!==null?r.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&Vd(a,l),Al(o,i);var d=Al(o,l);for(i=0;i<c.length;i+=2){var m=c[i],p=c[i+1];m==="style"?qd(a,p):m==="dangerouslySetInnerHTML"?Hd(a,p):m==="children"?Lr(a,p):Ci(a,m,p,d)}switch(o){case"input":kl(a,l);break;case"textarea":Ud(a,l);break;case"select":var j=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var S=l.value;S!=null?Un(a,!!l.multiple,S,!1):j!==!!l.multiple&&(l.defaultValue!=null?Un(a,!!l.multiple,l.defaultValue,!0):Un(a,!!l.multiple,l.multiple?[]:"",!1))}a[Hr]=l}catch(f){Ne(e,e.return,f)}}break;case 6:if(mt(t,e),jt(e),s&4){if(e.stateNode===null)throw Error($(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(f){Ne(e,e.return,f)}}break;case 3:if(mt(t,e),jt(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{zr(t.containerInfo)}catch(f){Ne(e,e.return,f)}break;case 4:mt(t,e),jt(e);break;case 13:mt(t,e),jt(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(lo=be())),s&4&&Fc(e);break;case 22:if(m=r!==null&&r.memoizedState!==null,e.mode&1?(ze=(d=ze)||m,mt(t,e),ze=d):mt(t,e),jt(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!m&&e.mode&1)for(q=e,m=e.child;m!==null;){for(p=q=m;q!==null;){switch(j=q,S=j.child,j.tag){case 0:case 11:case 14:case 15:Ar(4,j,j.return);break;case 1:$n(j,j.return);var h=j.stateNode;if(typeof h.componentWillUnmount=="function"){s=j,r=j.return;try{t=s,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(f){Ne(s,r,f)}}break;case 5:$n(j,j.return);break;case 22:if(j.memoizedState!==null){$c(p);continue}}S!==null?(S.return=j,q=S):$c(p)}m=m.sibling}e:for(m=null,p=e;;){if(p.tag===5){if(m===null){m=p;try{a=p.stateNode,d?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=p.stateNode,c=p.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Wd("display",i))}catch(f){Ne(e,e.return,f)}}}else if(p.tag===6){if(m===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(f){Ne(e,e.return,f)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;m===p&&(m=null),p=p.return}m===p&&(m=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:mt(t,e),jt(e),s&4&&Fc(e);break;case 21:break;default:mt(t,e),jt(e)}}function jt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(vm(r)){var s=r;break e}r=r.return}throw Error($(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(Lr(a,""),s.flags&=-33);var l=Oc(e);ii(e,l,a);break;case 3:case 4:var i=s.stateNode.containerInfo,o=Oc(e);li(e,o,i);break;default:throw Error($(161))}}catch(c){Ne(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wh(e,t,r){q=e,jm(e)}function jm(e,t,r){for(var s=(e.mode&1)!==0;q!==null;){var a=q,l=a.child;if(a.tag===22&&s){var i=a.memoizedState!==null||Es;if(!i){var o=a.alternate,c=o!==null&&o.memoizedState!==null||ze;o=Es;var d=ze;if(Es=i,(ze=c)&&!d)for(q=a;q!==null;)i=q,c=i.child,i.tag===22&&i.memoizedState!==null?Vc(a):c!==null?(c.return=i,q=c):Vc(a);for(;l!==null;)q=l,jm(l),l=l.sibling;q=a,Es=o,ze=d}zc(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,q=l):zc(e)}}function zc(e){for(;q!==null;){var t=q;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ze||Ea(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!ze)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ft(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&wc(t,l,s);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}wc(t,i,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var p=m.dehydrated;p!==null&&zr(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}ze||t.flags&512&&ai(t)}catch(j){Ne(t,t.return,j)}}if(t===e){q=null;break}if(r=t.sibling,r!==null){r.return=t.return,q=r;break}q=t.return}}function $c(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var r=t.sibling;if(r!==null){r.return=t.return,q=r;break}q=t.return}}function Vc(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ea(4,t)}catch(c){Ne(t,r,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){Ne(t,a,c)}}var l=t.return;try{ai(t)}catch(c){Ne(t,l,c)}break;case 5:var i=t.return;try{ai(t)}catch(c){Ne(t,i,c)}}}catch(c){Ne(t,t.return,c)}if(t===e){q=null;break}var o=t.sibling;if(o!==null){o.return=t.return,q=o;break}q=t.return}}var qh=Math.ceil,ca=Ft.ReactCurrentDispatcher,so=Ft.ReactCurrentOwner,ot=Ft.ReactCurrentBatchConfig,ae=0,Te=null,Se=null,Le=0,Ze=0,Vn=ln(0),ke=0,Qr=null,wn=0,ka=0,ao=0,Rr=null,qe=null,lo=0,er=1/0,Dt=null,da=!1,oi=null,Zt=null,ks=!1,qt=null,ua=0,Pr=0,ci=null,Fs=-1,zs=0;function Be(){return ae&6?be():Fs!==-1?Fs:Fs=be()}function en(e){return e.mode&1?ae&2&&Le!==0?Le&-Le:Dh.transition!==null?(zs===0&&(zs=su()),zs):(e=ie,e!==0||(e=window.event,e=e===void 0?16:uu(e.type)),e):1}function vt(e,t,r,s){if(50<Pr)throw Pr=0,ci=null,Error($(185));ts(e,r,s),(!(ae&2)||e!==Te)&&(e===Te&&(!(ae&2)&&(ka|=r),ke===4&&Ht(e,Le)),Qe(e,s),r===1&&ae===0&&!(t.mode&1)&&(er=be()+500,ba&&on()))}function Qe(e,t){var r=e.callbackNode;Dp(e,t);var s=Ks(e,e===Te?Le:0);if(s===0)r!==null&&Qo(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&Qo(r),t===1)e.tag===0?_h(Uc.bind(null,e)):Tu(Uc.bind(null,e)),Sh(function(){!(ae&6)&&on()}),r=null;else{switch(au(s)){case 1:r=Ri;break;case 4:r=nu;break;case 16:r=Js;break;case 536870912:r=ru;break;default:r=Js}r=_m(r,Nm.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Nm(e,t){if(Fs=-1,zs=0,ae&6)throw Error($(327));var r=e.callbackNode;if(Jn()&&e.callbackNode!==r)return null;var s=Ks(e,e===Te?Le:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=ma(e,s);else{t=s;var a=ae;ae|=2;var l=wm();(Te!==e||Le!==t)&&(Dt=null,er=be()+500,vn(e,t));do try{Yh();break}catch(o){bm(e,o)}while(!0);Wi(),ca.current=l,ae=a,Se!==null?t=0:(Te=null,Le=0,t=ke)}if(t!==0){if(t===2&&(a=Il(e),a!==0&&(s=a,t=di(e,a))),t===1)throw r=Qr,vn(e,0),Ht(e,s),Qe(e,be()),r;if(t===6)Ht(e,s);else{if(a=e.current.alternate,!(s&30)&&!Jh(a)&&(t=ma(e,s),t===2&&(l=Il(e),l!==0&&(s=l,t=di(e,l))),t===1))throw r=Qr,vn(e,0),Ht(e,s),Qe(e,be()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error($(345));case 2:mn(e,qe,Dt);break;case 3:if(Ht(e,s),(s&130023424)===s&&(t=lo+500-be(),10<t)){if(Ks(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){Be(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Hl(mn.bind(null,e,qe,Dt),t);break}mn(e,qe,Dt);break;case 4:if(Ht(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var i=31-gt(s);l=1<<i,i=t[i],i>a&&(a=i),s&=~l}if(s=a,s=be()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*qh(s/1960))-s,10<s){e.timeoutHandle=Hl(mn.bind(null,e,qe,Dt),s);break}mn(e,qe,Dt);break;case 5:mn(e,qe,Dt);break;default:throw Error($(329))}}}return Qe(e,be()),e.callbackNode===r?Nm.bind(null,e):null}function di(e,t){var r=Rr;return e.current.memoizedState.isDehydrated&&(vn(e,t).flags|=256),e=ma(e,t),e!==2&&(t=qe,qe=r,t!==null&&ui(t)),e}function ui(e){qe===null?qe=e:qe.push.apply(qe,e)}function Jh(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],l=a.getSnapshot;a=a.value;try{if(!xt(l(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ht(e,t){for(t&=~ao,t&=~ka,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-gt(t),s=1<<r;e[r]=-1,t&=~s}}function Uc(e){if(ae&6)throw Error($(327));Jn();var t=Ks(e,0);if(!(t&1))return Qe(e,be()),null;var r=ma(e,t);if(e.tag!==0&&r===2){var s=Il(e);s!==0&&(t=s,r=di(e,s))}if(r===1)throw r=Qr,vn(e,0),Ht(e,t),Qe(e,be()),r;if(r===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,mn(e,qe,Dt),Qe(e,be()),null}function io(e,t){var r=ae;ae|=1;try{return e(t)}finally{ae=r,ae===0&&(er=be()+500,ba&&on())}}function Sn(e){qt!==null&&qt.tag===0&&!(ae&6)&&Jn();var t=ae;ae|=1;var r=ot.transition,s=ie;try{if(ot.transition=null,ie=1,e)return e()}finally{ie=s,ot.transition=r,ae=t,!(ae&6)&&on()}}function oo(){Ze=Vn.current,me(Vn)}function vn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,wh(r)),Se!==null)for(r=Se.return;r!==null;){var s=r;switch(Ui(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Zs();break;case 3:Xn(),me(Ke),me(Ve),Gi();break;case 5:Qi(s);break;case 4:Xn();break;case 13:me(ve);break;case 19:me(ve);break;case 10:qi(s.type._context);break;case 22:case 23:oo()}r=r.return}if(Te=e,Se=e=tn(e.current,null),Le=Ze=t,ke=0,Qr=null,ao=ka=wn=0,qe=Rr=null,pn!==null){for(t=0;t<pn.length;t++)if(r=pn[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,l=r.pending;if(l!==null){var i=l.next;l.next=a,s.next=i}r.pending=s}pn=null}return e}function bm(e,t){do{var r=Se;try{if(Wi(),Ls.current=oa,ia){for(var s=xe.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}ia=!1}if(bn=0,De=Ee=xe=null,Tr=!1,Jr=0,so.current=null,r===null||r.return===null){ke=1,Qr=t,Se=null;break}e:{var l=e,i=r.return,o=r,c=t;if(t=Le,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,m=o,p=m.tag;if(!(m.mode&1)&&(p===0||p===11||p===15)){var j=m.alternate;j?(m.updateQueue=j.updateQueue,m.memoizedState=j.memoizedState,m.lanes=j.lanes):(m.updateQueue=null,m.memoizedState=null)}var S=Dc(i);if(S!==null){S.flags&=-257,Tc(S,i,o,l,t),S.mode&1&&_c(l,d,t),t=S,c=d;var h=t.updateQueue;if(h===null){var f=new Set;f.add(c),t.updateQueue=f}else h.add(c);break e}else{if(!(t&1)){_c(l,d,t),co();break e}c=Error($(426))}}else if(pe&&o.mode&1){var v=Dc(i);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Tc(v,i,o,l,t),Bi(Zn(c,o));break e}}l=c=Zn(c,o),ke!==4&&(ke=2),Rr===null?Rr=[l]:Rr.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var u=am(l,c,t);bc(l,u);break e;case 1:o=c;var g=l.type,x=l.stateNode;if(!(l.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Zt===null||!Zt.has(x)))){l.flags|=65536,t&=-t,l.lanes|=t;var k=lm(l,o,t);bc(l,k);break e}}l=l.return}while(l!==null)}Em(r)}catch(D){t=D,Se===r&&r!==null&&(Se=r=r.return);continue}break}while(!0)}function wm(){var e=ca.current;return ca.current=oa,e===null?oa:e}function co(){(ke===0||ke===3||ke===2)&&(ke=4),Te===null||!(wn&268435455)&&!(ka&268435455)||Ht(Te,Le)}function ma(e,t){var r=ae;ae|=2;var s=wm();(Te!==e||Le!==t)&&(Dt=null,vn(e,t));do try{Kh();break}catch(a){bm(e,a)}while(!0);if(Wi(),ae=r,ca.current=s,Se!==null)throw Error($(261));return Te=null,Le=0,ke}function Kh(){for(;Se!==null;)Sm(Se)}function Yh(){for(;Se!==null&&!jp();)Sm(Se)}function Sm(e){var t=Cm(e.alternate,e,Ze);e.memoizedProps=e.pendingProps,t===null?Em(e):Se=t,so.current=null}function Em(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Uh(r,t),r!==null){r.flags&=32767,Se=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ke=6,Se=null;return}}else if(r=Vh(r,t,Ze),r!==null){Se=r;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);ke===0&&(ke=5)}function mn(e,t,r){var s=ie,a=ot.transition;try{ot.transition=null,ie=1,Qh(e,t,r,s)}finally{ot.transition=a,ie=s}return null}function Qh(e,t,r,s){do Jn();while(qt!==null);if(ae&6)throw Error($(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(Tp(e,l),e===Te&&(Se=Te=null,Le=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ks||(ks=!0,_m(Js,function(){return Jn(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=ot.transition,ot.transition=null;var i=ie;ie=1;var o=ae;ae|=4,so.current=null,Hh(e,r),ym(r,e),gh(Ul),Ys=!!Vl,Ul=Vl=null,e.current=r,Wh(r),Np(),ae=o,ie=i,ot.transition=l}else e.current=r;if(ks&&(ks=!1,qt=e,ua=a),l=e.pendingLanes,l===0&&(Zt=null),Sp(r.stateNode),Qe(e,be()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(da)throw da=!1,e=oi,oi=null,e;return ua&1&&e.tag!==0&&Jn(),l=e.pendingLanes,l&1?e===ci?Pr++:(Pr=0,ci=e):Pr=0,on(),null}function Jn(){if(qt!==null){var e=au(ua),t=ot.transition,r=ie;try{if(ot.transition=null,ie=16>e?16:e,qt===null)var s=!1;else{if(e=qt,qt=null,ua=0,ae&6)throw Error($(331));var a=ae;for(ae|=4,q=e.current;q!==null;){var l=q,i=l.child;if(q.flags&16){var o=l.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(q=d;q!==null;){var m=q;switch(m.tag){case 0:case 11:case 15:Ar(8,m,l)}var p=m.child;if(p!==null)p.return=m,q=p;else for(;q!==null;){m=q;var j=m.sibling,S=m.return;if(gm(m),m===d){q=null;break}if(j!==null){j.return=S,q=j;break}q=S}}}var h=l.alternate;if(h!==null){var f=h.child;if(f!==null){h.child=null;do{var v=f.sibling;f.sibling=null,f=v}while(f!==null)}}q=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,q=i;else e:for(;q!==null;){if(l=q,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Ar(9,l,l.return)}var u=l.sibling;if(u!==null){u.return=l.return,q=u;break e}q=l.return}}var g=e.current;for(q=g;q!==null;){i=q;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,q=x;else e:for(i=g;q!==null;){if(o=q,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ea(9,o)}}catch(D){Ne(o,o.return,D)}if(o===i){q=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,q=k;break e}q=o.return}}if(ae=a,on(),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(va,e)}catch{}s=!0}return s}finally{ie=r,ot.transition=t}}return!1}function Bc(e,t,r){t=Zn(r,t),t=am(e,t,1),e=Xt(e,t,1),t=Be(),e!==null&&(ts(e,1,t),Qe(e,t))}function Ne(e,t,r){if(e.tag===3)Bc(e,e,r);else for(;t!==null;){if(t.tag===3){Bc(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Zt===null||!Zt.has(s))){e=Zn(r,e),e=lm(t,e,1),t=Xt(t,e,1),e=Be(),t!==null&&(ts(t,1,e),Qe(t,e));break}}t=t.return}}function Gh(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=Be(),e.pingedLanes|=e.suspendedLanes&r,Te===e&&(Le&r)===r&&(ke===4||ke===3&&(Le&130023424)===Le&&500>be()-lo?vn(e,0):ao|=r),Qe(e,t)}function km(e,t){t===0&&(e.mode&1?(t=gs,gs<<=1,!(gs&130023424)&&(gs=4194304)):t=1);var r=Be();e=It(e,t),e!==null&&(ts(e,t,r),Qe(e,r))}function Xh(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),km(e,r)}function Zh(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error($(314))}s!==null&&s.delete(t),km(e,r)}var Cm;Cm=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ke.current)Je=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Je=!1,$h(e,t,r);Je=!!(e.flags&131072)}else Je=!1,pe&&t.flags&1048576&&Au(t,na,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Os(e,t),e=t.pendingProps;var a=Yn(t,Ve.current);qn(t,r),a=Zi(null,t,s,e,a,r);var l=eo();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ye(s)?(l=!0,ea(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ki(t),a.updater=Sa,t.stateNode=a,a._reactInternals=t,Gl(t,s,e,r),t=ei(null,t,s,!0,l,r)):(t.tag=0,pe&&l&&Vi(t),Ue(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Os(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=tg(s),e=ft(s,e),a){case 0:t=Zl(null,t,s,e,r);break e;case 1:t=Pc(null,t,s,e,r);break e;case 11:t=Ac(null,t,s,e,r);break e;case 14:t=Rc(null,t,s,ft(s.type,e),r);break e}throw Error($(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:ft(s,a),Zl(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:ft(s,a),Pc(e,t,s,a,r);case 3:e:{if(dm(t),e===null)throw Error($(387));s=t.pendingProps,l=t.memoizedState,a=l.element,Ou(e,t),aa(t,s,null,r);var i=t.memoizedState;if(s=i.element,l.isDehydrated)if(l={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=Zn(Error($(423)),t),t=Mc(e,t,s,r,a);break e}else if(s!==a){a=Zn(Error($(424)),t),t=Mc(e,t,s,r,a);break e}else for(et=Gt(t.stateNode.containerInfo.firstChild),tt=t,pe=!0,ht=null,r=Lu(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Qn(),s===a){t=Ot(e,t,r);break e}Ue(e,t,s,r)}t=t.child}return t;case 5:return Fu(t),e===null&&Kl(t),s=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,i=a.children,Bl(s,a)?i=null:l!==null&&Bl(s,l)&&(t.flags|=32),cm(e,t),Ue(e,t,i,r),t.child;case 6:return e===null&&Kl(t),null;case 13:return um(e,t,r);case 4:return Yi(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Gn(t,null,s,r):Ue(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:ft(s,a),Ac(e,t,s,a,r);case 7:return Ue(e,t,t.pendingProps,r),t.child;case 8:return Ue(e,t,t.pendingProps.children,r),t.child;case 12:return Ue(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,l=t.memoizedProps,i=a.value,ce(ra,s._currentValue),s._currentValue=i,l!==null)if(xt(l.value,i)){if(l.children===a.children&&!Ke.current){t=Ot(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var o=l.dependencies;if(o!==null){i=l.child;for(var c=o.firstContext;c!==null;){if(c.context===s){if(l.tag===1){c=Pt(-1,r&-r),c.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?c.next=c:(c.next=m.next,m.next=c),d.pending=c}}l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),Yl(l.return,r,t),o.lanes|=r;break}c=c.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error($(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),Yl(i,r,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}Ue(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,qn(t,r),a=ct(a),s=s(a),t.flags|=1,Ue(e,t,s,r),t.child;case 14:return s=t.type,a=ft(s,t.pendingProps),a=ft(s.type,a),Rc(e,t,s,a,r);case 15:return im(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:ft(s,a),Os(e,t),t.tag=1,Ye(s)?(e=!0,ea(t)):e=!1,qn(t,r),sm(t,s,a),Gl(t,s,a,r),ei(null,t,s,!0,e,r);case 19:return mm(e,t,r);case 22:return om(e,t,r)}throw Error($(156,t.tag))};function _m(e,t){return tu(e,t)}function eg(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function it(e,t,r,s){return new eg(e,t,r,s)}function uo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tg(e){if(typeof e=="function")return uo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Di)return 11;if(e===Ti)return 14}return 2}function tn(e,t){var r=e.alternate;return r===null?(r=it(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function $s(e,t,r,s,a,l){var i=2;if(s=e,typeof e=="function")uo(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case An:return xn(r.children,a,l,t);case _i:i=8,a|=8;break;case Nl:return e=it(12,r,t,a|2),e.elementType=Nl,e.lanes=l,e;case bl:return e=it(13,r,t,a),e.elementType=bl,e.lanes=l,e;case wl:return e=it(19,r,t,a),e.elementType=wl,e.lanes=l,e;case Fd:return Ca(r,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Id:i=10;break e;case Od:i=9;break e;case Di:i=11;break e;case Ti:i=14;break e;case Vt:i=16,s=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=it(i,r,t,a),t.elementType=e,t.type=s,t.lanes=l,t}function xn(e,t,r,s){return e=it(7,e,s,t),e.lanes=r,e}function Ca(e,t,r,s){return e=it(22,e,s,t),e.elementType=Fd,e.lanes=r,e.stateNode={isHidden:!1},e}function fl(e,t,r){return e=it(6,e,null,t),e.lanes=r,e}function pl(e,t,r){return t=it(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ng(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ka(0),this.expirationTimes=Ka(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ka(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function mo(e,t,r,s,a,l,i,o,c){return e=new ng(e,t,r,o,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=it(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ki(l),e}function rg(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tn,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function Dm(e){if(!e)return sn;e=e._reactInternals;e:{if(Cn(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ye(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var r=e.type;if(Ye(r))return Du(e,r,t)}return t}function Tm(e,t,r,s,a,l,i,o,c){return e=mo(r,s,!0,e,a,l,i,o,c),e.context=Dm(null),r=e.current,s=Be(),a=en(r),l=Pt(s,a),l.callback=t??null,Xt(r,l,a),e.current.lanes=a,ts(e,a,s),Qe(e,s),e}function _a(e,t,r,s){var a=t.current,l=Be(),i=en(a);return r=Dm(r),t.context===null?t.context=r:t.pendingContext=r,t=Pt(l,i),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Xt(a,t,i),e!==null&&(vt(e,a,i,l),Ms(e,a,i)),i}function fa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Hc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function fo(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}function sg(){return null}var Am=typeof reportError=="function"?reportError:function(e){console.error(e)};function po(e){this._internalRoot=e}Da.prototype.render=po.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));_a(e,t,null,null)};Da.prototype.unmount=po.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sn(function(){_a(null,e,null,null)}),t[Lt]=null}};function Da(e){this._internalRoot=e}Da.prototype.unstable_scheduleHydration=function(e){if(e){var t=ou();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Bt.length&&t!==0&&t<Bt[r].priority;r++);Bt.splice(r,0,e),r===0&&du(e)}};function ho(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ta(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Wc(){}function ag(e,t,r,s,a){if(a){if(typeof s=="function"){var l=s;s=function(){var d=fa(i);l.call(d)}}var i=Tm(t,s,e,0,null,!1,!1,"",Wc);return e._reactRootContainer=i,e[Lt]=i.current,Ur(e.nodeType===8?e.parentNode:e),Sn(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var o=s;s=function(){var d=fa(c);o.call(d)}}var c=mo(e,0,!1,null,null,!1,!1,"",Wc);return e._reactRootContainer=c,e[Lt]=c.current,Ur(e.nodeType===8?e.parentNode:e),Sn(function(){_a(t,c,r,s)}),c}function Aa(e,t,r,s,a){var l=r._reactRootContainer;if(l){var i=l;if(typeof a=="function"){var o=a;a=function(){var c=fa(i);o.call(c)}}_a(t,i,e,a)}else i=ag(r,t,e,a,s);return fa(i)}lu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=wr(t.pendingLanes);r!==0&&(Pi(t,r|1),Qe(t,be()),!(ae&6)&&(er=be()+500,on()))}break;case 13:Sn(function(){var s=It(e,1);if(s!==null){var a=Be();vt(s,e,1,a)}}),fo(e,1)}};Mi=function(e){if(e.tag===13){var t=It(e,134217728);if(t!==null){var r=Be();vt(t,e,134217728,r)}fo(e,134217728)}};iu=function(e){if(e.tag===13){var t=en(e),r=It(e,t);if(r!==null){var s=Be();vt(r,e,t,s)}fo(e,t)}};ou=function(){return ie};cu=function(e,t){var r=ie;try{return ie=e,t()}finally{ie=r}};Pl=function(e,t,r){switch(t){case"input":if(kl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=Na(s);if(!a)throw Error($(90));$d(s),kl(s,a)}}}break;case"textarea":Ud(e,r);break;case"select":t=r.value,t!=null&&Un(e,!!r.multiple,t,!1)}};Yd=io;Qd=Sn;var lg={usingClientEntryPoint:!1,Events:[rs,Ln,Na,Jd,Kd,io]},yr={findFiberByHostInstance:fn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ig={bundleType:yr.bundleType,version:yr.version,rendererPackageName:yr.rendererPackageName,rendererConfig:yr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ft.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zd(e),e===null?null:e.stateNode},findFiberByHostInstance:yr.findFiberByHostInstance||sg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cs.isDisabled&&Cs.supportsFiber)try{va=Cs.inject(ig),St=Cs}catch{}}rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lg;rt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ho(t))throw Error($(200));return rg(e,t,null,r)};rt.createRoot=function(e,t){if(!ho(e))throw Error($(299));var r=!1,s="",a=Am;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=mo(e,1,!1,null,null,r,!1,s,a),e[Lt]=t.current,Ur(e.nodeType===8?e.parentNode:e),new po(t)};rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=Zd(t),e=e===null?null:e.stateNode,e};rt.flushSync=function(e){return Sn(e)};rt.hydrate=function(e,t,r){if(!Ta(t))throw Error($(200));return Aa(null,e,t,!0,r)};rt.hydrateRoot=function(e,t,r){if(!ho(e))throw Error($(405));var s=r!=null&&r.hydratedSources||null,a=!1,l="",i=Am;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Tm(t,null,e,1,r??null,a,!1,l,i),e[Lt]=t.current,Ur(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Da(t)};rt.render=function(e,t,r){if(!Ta(t))throw Error($(200));return Aa(null,e,t,!1,r)};rt.unmountComponentAtNode=function(e){if(!Ta(e))throw Error($(40));return e._reactRootContainer?(Sn(function(){Aa(null,null,e,!1,function(){e._reactRootContainer=null,e[Lt]=null})}),!0):!1};rt.unstable_batchedUpdates=io;rt.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Ta(r))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return Aa(e,t,r,!1,s)};rt.version="18.3.1-next-f1338f8080-20240426";function Rm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rm)}catch(e){console.error(e)}}Rm(),Rd.exports=rt;var og=Rd.exports,qc=og;yl.createRoot=qc.createRoot,yl.hydrateRoot=qc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gr(){return Gr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Gr.apply(this,arguments)}var Jt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Jt||(Jt={}));const Jc="popstate";function cg(e){e===void 0&&(e={});function t(s,a){let{pathname:l,search:i,hash:o}=s.location;return mi("",{pathname:l,search:i,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:pa(a)}return ug(t,r,null,e)}function we(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Pm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function dg(){return Math.random().toString(36).substr(2,8)}function Kc(e,t){return{usr:e.state,key:e.key,idx:t}}function mi(e,t,r,s){return r===void 0&&(r=null),Gr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ar(t):t,{state:r,key:t&&t.key||s||dg()})}function pa(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function ar(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function ug(e,t,r,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:l=!1}=s,i=a.history,o=Jt.Pop,c=null,d=m();d==null&&(d=0,i.replaceState(Gr({},i.state,{idx:d}),""));function m(){return(i.state||{idx:null}).idx}function p(){o=Jt.Pop;let v=m(),u=v==null?null:v-d;d=v,c&&c({action:o,location:f.location,delta:u})}function j(v,u){o=Jt.Push;let g=mi(f.location,v,u);d=m()+1;let x=Kc(g,d),k=f.createHref(g);try{i.pushState(x,"",k)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;a.location.assign(k)}l&&c&&c({action:o,location:f.location,delta:1})}function S(v,u){o=Jt.Replace;let g=mi(f.location,v,u);d=m();let x=Kc(g,d),k=f.createHref(g);i.replaceState(x,"",k),l&&c&&c({action:o,location:f.location,delta:0})}function h(v){let u=a.location.origin!=="null"?a.location.origin:a.location.href,g=typeof v=="string"?v:pa(v);return g=g.replace(/ $/,"%20"),we(u,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,u)}let f={get action(){return o},get location(){return e(a,i)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Jc,p),c=v,()=>{a.removeEventListener(Jc,p),c=null}},createHref(v){return t(a,v)},createURL:h,encodeLocation(v){let u=h(v);return{pathname:u.pathname,search:u.search,hash:u.hash}},push:j,replace:S,go(v){return i.go(v)}};return f}var Yc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Yc||(Yc={}));function mg(e,t,r){return r===void 0&&(r="/"),fg(e,t,r)}function fg(e,t,r,s){let a=typeof t=="string"?ar(t):t,l=go(a.pathname||"/",r);if(l==null)return null;let i=Mm(e);pg(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let d=kg(l);o=wg(i[c],d)}return o}function Mm(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let a=(l,i,o)=>{let c={relativePath:o===void 0?l.path||"":o,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};c.relativePath.startsWith("/")&&(we(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=nn([s,c.relativePath]),m=r.concat(c);l.children&&l.children.length>0&&(we(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Mm(l.children,t,m,d)),!(l.path==null&&!l.index)&&t.push({path:d,score:Ng(d,l.index),routesMeta:m})};return e.forEach((l,i)=>{var o;if(l.path===""||!((o=l.path)!=null&&o.includes("?")))a(l,i);else for(let c of Lm(l.path))a(l,i,c)}),t}function Lm(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let i=Lm(s.join("/")),o=[];return o.push(...i.map(c=>c===""?l:[l,c].join("/"))),a&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function pg(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:bg(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const hg=/^:[\w-]+$/,gg=3,vg=2,xg=1,yg=10,jg=-2,Qc=e=>e==="*";function Ng(e,t){let r=e.split("/"),s=r.length;return r.some(Qc)&&(s+=jg),t&&(s+=vg),r.filter(a=>!Qc(a)).reduce((a,l)=>a+(hg.test(l)?gg:l===""?xg:yg),s)}function bg(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function wg(e,t,r){let{routesMeta:s}=e,a={},l="/",i=[];for(let o=0;o<s.length;++o){let c=s[o],d=o===s.length-1,m=l==="/"?t:t.slice(l.length)||"/",p=Sg({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},m),j=c.route;if(!p)return null;Object.assign(a,p.params),i.push({params:a,pathname:nn([l,p.pathname]),pathnameBase:Tg(nn([l,p.pathnameBase])),route:j}),p.pathnameBase!=="/"&&(l=nn([l,p.pathnameBase]))}return i}function Sg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=Eg(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let l=a[0],i=l.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:s.reduce((d,m,p)=>{let{paramName:j,isOptional:S}=m;if(j==="*"){let f=o[p]||"";i=l.slice(0,l.length-f.length).replace(/(.)\/+$/,"$1")}const h=o[p];return S&&!h?d[j]=void 0:d[j]=(h||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:i,pattern:e}}function Eg(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Pm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(s.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function kg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Pm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function go(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function Cg(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?ar(e):e;return{pathname:r?r.startsWith("/")?r:_g(r,t):t,search:Ag(s),hash:Rg(a)}}function _g(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function hl(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Dg(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function vo(e,t){let r=Dg(e);return t?r.map((s,a)=>a===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function xo(e,t,r,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=ar(e):(a=Gr({},e),we(!a.pathname||!a.pathname.includes("?"),hl("?","pathname","search",a)),we(!a.pathname||!a.pathname.includes("#"),hl("#","pathname","hash",a)),we(!a.search||!a.search.includes("#"),hl("#","search","hash",a)));let l=e===""||a.pathname==="",i=l?"/":a.pathname,o;if(i==null)o=r;else{let p=t.length-1;if(!s&&i.startsWith("..")){let j=i.split("/");for(;j[0]==="..";)j.shift(),p-=1;a.pathname=j.join("/")}o=p>=0?t[p]:"/"}let c=Cg(a,o),d=i&&i!=="/"&&i.endsWith("/"),m=(l||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||m)&&(c.pathname+="/"),c}const nn=e=>e.join("/").replace(/\/\/+/g,"/"),Tg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ag=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Rg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Pg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Im=["post","put","patch","delete"];new Set(Im);const Mg=["get",...Im];new Set(Mg);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xr(){return Xr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Xr.apply(this,arguments)}const yo=N.createContext(null),Lg=N.createContext(null),cn=N.createContext(null),Ra=N.createContext(null),dn=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Om=N.createContext(null);function Ig(e,t){let{relative:r}=t===void 0?{}:t;lr()||we(!1);let{basename:s,navigator:a}=N.useContext(cn),{hash:l,pathname:i,search:o}=zm(e,{relative:r}),c=i;return s!=="/"&&(c=i==="/"?s:nn([s,i])),a.createHref({pathname:c,search:o,hash:l})}function lr(){return N.useContext(Ra)!=null}function _n(){return lr()||we(!1),N.useContext(Ra).location}function Fm(e){N.useContext(cn).static||N.useLayoutEffect(e)}function Pa(){let{isDataRoute:e}=N.useContext(dn);return e?Yg():Og()}function Og(){lr()||we(!1);let e=N.useContext(yo),{basename:t,future:r,navigator:s}=N.useContext(cn),{matches:a}=N.useContext(dn),{pathname:l}=_n(),i=JSON.stringify(vo(a,r.v7_relativeSplatPath)),o=N.useRef(!1);return Fm(()=>{o.current=!0}),N.useCallback(function(d,m){if(m===void 0&&(m={}),!o.current)return;if(typeof d=="number"){s.go(d);return}let p=xo(d,JSON.parse(i),l,m.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:nn([t,p.pathname])),(m.replace?s.replace:s.push)(p,m.state,m)},[t,s,i,l,e])}function zm(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=N.useContext(cn),{matches:a}=N.useContext(dn),{pathname:l}=_n(),i=JSON.stringify(vo(a,s.v7_relativeSplatPath));return N.useMemo(()=>xo(e,JSON.parse(i),l,r==="path"),[e,i,l,r])}function Fg(e,t){return zg(e,t)}function zg(e,t,r,s){lr()||we(!1);let{navigator:a}=N.useContext(cn),{matches:l}=N.useContext(dn),i=l[l.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=_n(),m;if(t){var p;let v=typeof t=="string"?ar(t):t;c==="/"||(p=v.pathname)!=null&&p.startsWith(c)||we(!1),m=v}else m=d;let j=m.pathname||"/",S=j;if(c!=="/"){let v=c.replace(/^\//,"").split("/");S="/"+j.replace(/^\//,"").split("/").slice(v.length).join("/")}let h=mg(e,{pathname:S}),f=Hg(h&&h.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:nn([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:nn([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),l,r,s);return t&&f?N.createElement(Ra.Provider,{value:{location:Xr({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Jt.Pop}},f):f}function $g(){let e=Kg(),t=Pg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:a},r):null,null)}const Vg=N.createElement($g,null);class Ug extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?N.createElement(dn.Provider,{value:this.props.routeContext},N.createElement(Om.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Bg(e){let{routeContext:t,match:r,children:s}=e,a=N.useContext(yo);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(dn.Provider,{value:t},s)}function Hg(e,t,r,s){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var l;if(!r)return null;if(r.errors)e=r.matches;else if((l=s)!=null&&l.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let m=i.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);m>=0||we(!1),i=i.slice(0,Math.min(i.length,m+1))}let c=!1,d=-1;if(r&&s&&s.v7_partialHydration)for(let m=0;m<i.length;m++){let p=i[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:j,errors:S}=r,h=p.route.loader&&j[p.route.id]===void 0&&(!S||S[p.route.id]===void 0);if(p.route.lazy||h){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((m,p,j)=>{let S,h=!1,f=null,v=null;r&&(S=o&&p.route.id?o[p.route.id]:void 0,f=p.route.errorElement||Vg,c&&(d<0&&j===0?(Qg("route-fallback"),h=!0,v=null):d===j&&(h=!0,v=p.route.hydrateFallbackElement||null)));let u=t.concat(i.slice(0,j+1)),g=()=>{let x;return S?x=f:h?x=v:p.route.Component?x=N.createElement(p.route.Component,null):p.route.element?x=p.route.element:x=m,N.createElement(Bg,{match:p,routeContext:{outlet:m,matches:u,isDataRoute:r!=null},children:x})};return r&&(p.route.ErrorBoundary||p.route.errorElement||j===0)?N.createElement(Ug,{location:r.location,revalidation:r.revalidation,component:f,error:S,children:g(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):g()},null)}var $m=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}($m||{}),Vm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Vm||{});function Wg(e){let t=N.useContext(yo);return t||we(!1),t}function qg(e){let t=N.useContext(Lg);return t||we(!1),t}function Jg(e){let t=N.useContext(dn);return t||we(!1),t}function Um(e){let t=Jg(),r=t.matches[t.matches.length-1];return r.route.id||we(!1),r.route.id}function Kg(){var e;let t=N.useContext(Om),r=qg(),s=Um();return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function Yg(){let{router:e}=Wg($m.UseNavigateStable),t=Um(Vm.UseNavigateStable),r=N.useRef(!1);return Fm(()=>{r.current=!0}),N.useCallback(function(a,l){l===void 0&&(l={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Xr({fromRouteId:t},l)))},[e,t])}const Gc={};function Qg(e,t,r){Gc[e]||(Gc[e]=!0)}function Gg(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function fi(e){let{to:t,replace:r,state:s,relative:a}=e;lr()||we(!1);let{future:l,static:i}=N.useContext(cn),{matches:o}=N.useContext(dn),{pathname:c}=_n(),d=Pa(),m=xo(t,vo(o,l.v7_relativeSplatPath),c,a==="path"),p=JSON.stringify(m);return N.useEffect(()=>d(JSON.parse(p),{replace:r,state:s,relative:a}),[d,p,a,r,s]),null}function ue(e){we(!1)}function Xg(e){let{basename:t="/",children:r=null,location:s,navigationType:a=Jt.Pop,navigator:l,static:i=!1,future:o}=e;lr()&&we(!1);let c=t.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:c,navigator:l,static:i,future:Xr({v7_relativeSplatPath:!1},o)}),[c,o,l,i]);typeof s=="string"&&(s=ar(s));let{pathname:m="/",search:p="",hash:j="",state:S=null,key:h="default"}=s,f=N.useMemo(()=>{let v=go(m,c);return v==null?null:{location:{pathname:v,search:p,hash:j,state:S,key:h},navigationType:a}},[c,m,p,j,S,h,a]);return f==null?null:N.createElement(cn.Provider,{value:d},N.createElement(Ra.Provider,{children:r,value:f}))}function Bm(e){let{children:t,location:r}=e;return Fg(pi(t),r)}new Promise(()=>{});function pi(e,t){t===void 0&&(t=[]);let r=[];return N.Children.forEach(e,(s,a)=>{if(!N.isValidElement(s))return;let l=[...t,a];if(s.type===N.Fragment){r.push.apply(r,pi(s.props.children,l));return}s.type!==ue&&we(!1),!s.props.index||!s.props.children||we(!1);let i={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=pi(s.props.children,l)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hi(){return hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},hi.apply(this,arguments)}function Zg(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,l;for(l=0;l<s.length;l++)a=s[l],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function ev(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function tv(e,t){return e.button===0&&(!t||t==="_self")&&!ev(e)}const nv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rv="6";try{window.__reactRouterVersion=rv}catch{}const sv="startTransition",Xc=Gf[sv];function av(e){let{basename:t,children:r,future:s,window:a}=e,l=N.useRef();l.current==null&&(l.current=cg({window:a,v5Compat:!0}));let i=l.current,[o,c]=N.useState({action:i.action,location:i.location}),{v7_startTransition:d}=s||{},m=N.useCallback(p=>{d&&Xc?Xc(()=>c(p)):c(p)},[c,d]);return N.useLayoutEffect(()=>i.listen(m),[i,m]),N.useEffect(()=>Gg(s),[s]),N.createElement(Xg,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:i,future:s})}const lv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hm=N.forwardRef(function(t,r){let{onClick:s,relative:a,reloadDocument:l,replace:i,state:o,target:c,to:d,preventScrollReset:m,viewTransition:p}=t,j=Zg(t,nv),{basename:S}=N.useContext(cn),h,f=!1;if(typeof d=="string"&&iv.test(d)&&(h=d,lv))try{let x=new URL(window.location.href),k=d.startsWith("//")?new URL(x.protocol+d):new URL(d),D=go(k.pathname,S);k.origin===x.origin&&D!=null?d=D+k.search+k.hash:f=!0}catch{}let v=Ig(d,{relative:a}),u=ov(d,{replace:i,state:o,target:c,preventScrollReset:m,relative:a,viewTransition:p});function g(x){s&&s(x),x.defaultPrevented||u(x)}return N.createElement("a",hi({},j,{href:h||v,onClick:f||l?s:g,ref:r,target:c}))});var Zc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Zc||(Zc={}));var ed;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ed||(ed={}));function ov(e,t){let{target:r,replace:s,state:a,preventScrollReset:l,relative:i,viewTransition:o}=t===void 0?{}:t,c=Pa(),d=_n(),m=zm(e,{relative:i});return N.useCallback(p=>{if(tv(p,r)){p.preventDefault();let j=s!==void 0?s:pa(d)===pa(m);c(e,{replace:j,state:a,preventScrollReset:l,relative:i,viewTransition:o})}},[d,c,m,s,a,r,e,l,i,o])}const Wm=N.createContext(),ir=()=>{const e=N.useContext(Wm);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},cv=({children:e})=>{const[t,r]=N.useState(null),[s,a]=N.useState(!0);N.useEffect(()=>{const p=localStorage.getItem("userRole");if(console.log(" Vrification utilisateur sauvegard:",p),p)try{const j=JSON.parse(p);console.log(" Utilisateur rcupr:",j),r(j)}catch(j){console.error(" Erreur lors du parsing des donnes utilisateur:",j),localStorage.removeItem("userRole")}else console.log(" Aucun utilisateur sauvegard");a(!1)},[]);const m={user:t,login:p=>{console.log(" Connexion utilisateur:",p),r(p),localStorage.setItem("userRole",JSON.stringify(p)),console.log(" Utilisateur connect et sauvegard")},logout:()=>{r(null),localStorage.removeItem("userRole")},hasPermission:p=>t?t.permissions.includes("all")?!0:t.permissions.includes(p):!1,isAdmin:()=>t&&t.role==="admin",isEmployee:()=>t&&t.role==="employee",loading:s};return n.jsx(Wm.Provider,{value:m,children:e})};function qm(e,t){return function(){return e.apply(t,arguments)}}const{toString:dv}=Object.prototype,{getPrototypeOf:jo}=Object,{iterator:Ma,toStringTag:Jm}=Symbol,La=(e=>t=>{const r=dv.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),yt=e=>(e=e.toLowerCase(),t=>La(t)===e),Ia=e=>t=>typeof t===e,{isArray:or}=Array,tr=Ia("undefined");function as(e){return e!==null&&!tr(e)&&e.constructor!==null&&!tr(e.constructor)&&Ge(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Km=yt("ArrayBuffer");function uv(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Km(e.buffer),t}const mv=Ia("string"),Ge=Ia("function"),Ym=Ia("number"),ls=e=>e!==null&&typeof e=="object",fv=e=>e===!0||e===!1,Vs=e=>{if(La(e)!=="object")return!1;const t=jo(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Jm in e)&&!(Ma in e)},pv=e=>{if(!ls(e)||as(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},hv=yt("Date"),gv=yt("File"),vv=yt("Blob"),xv=yt("FileList"),yv=e=>ls(e)&&Ge(e.pipe),jv=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ge(e.append)&&((t=La(e))==="formdata"||t==="object"&&Ge(e.toString)&&e.toString()==="[object FormData]"))},Nv=yt("URLSearchParams"),[bv,wv,Sv,Ev]=["ReadableStream","Request","Response","Headers"].map(yt),kv=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function is(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,a;if(typeof e!="object"&&(e=[e]),or(e))for(s=0,a=e.length;s<a;s++)t.call(null,e[s],s,e);else{if(as(e))return;const l=r?Object.getOwnPropertyNames(e):Object.keys(e),i=l.length;let o;for(s=0;s<i;s++)o=l[s],t.call(null,e[o],o,e)}}function Qm(e,t){if(as(e))return null;t=t.toLowerCase();const r=Object.keys(e);let s=r.length,a;for(;s-- >0;)if(a=r[s],t===a.toLowerCase())return a;return null}const gn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Gm=e=>!tr(e)&&e!==gn;function gi(){const{caseless:e,skipUndefined:t}=Gm(this)&&this||{},r={},s=(a,l)=>{const i=e&&Qm(r,l)||l;Vs(r[i])&&Vs(a)?r[i]=gi(r[i],a):Vs(a)?r[i]=gi({},a):or(a)?r[i]=a.slice():(!t||!tr(a))&&(r[i]=a)};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&is(arguments[a],s);return r}const Cv=(e,t,r,{allOwnKeys:s}={})=>(is(t,(a,l)=>{r&&Ge(a)?e[l]=qm(a,r):e[l]=a},{allOwnKeys:s}),e),_v=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Dv=(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Tv=(e,t,r,s)=>{let a,l,i;const o={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),l=a.length;l-- >0;)i=a[l],(!s||s(i,e,t))&&!o[i]&&(t[i]=e[i],o[i]=!0);e=r!==!1&&jo(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Av=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return s!==-1&&s===r},Rv=e=>{if(!e)return null;if(or(e))return e;let t=e.length;if(!Ym(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Pv=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&jo(Uint8Array)),Mv=(e,t)=>{const s=(e&&e[Ma]).call(e);let a;for(;(a=s.next())&&!a.done;){const l=a.value;t.call(e,l[0],l[1])}},Lv=(e,t)=>{let r;const s=[];for(;(r=e.exec(t))!==null;)s.push(r);return s},Iv=yt("HTMLFormElement"),Ov=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,a){return s.toUpperCase()+a}),td=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Fv=yt("RegExp"),Xm=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};is(r,(a,l)=>{let i;(i=t(a,l,e))!==!1&&(s[l]=i||a)}),Object.defineProperties(e,s)},zv=e=>{Xm(e,(t,r)=>{if(Ge(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(Ge(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},$v=(e,t)=>{const r={},s=a=>{a.forEach(l=>{r[l]=!0})};return or(e)?s(e):s(String(e).split(t)),r},Vv=()=>{},Uv=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Bv(e){return!!(e&&Ge(e.append)&&e[Jm]==="FormData"&&e[Ma])}const Hv=e=>{const t=new Array(10),r=(s,a)=>{if(ls(s)){if(t.indexOf(s)>=0)return;if(as(s))return s;if(!("toJSON"in s)){t[a]=s;const l=or(s)?[]:{};return is(s,(i,o)=>{const c=r(i,a+1);!tr(c)&&(l[o]=c)}),t[a]=void 0,l}}return s};return r(e,0)},Wv=yt("AsyncFunction"),qv=e=>e&&(ls(e)||Ge(e))&&Ge(e.then)&&Ge(e.catch),Zm=((e,t)=>e?setImmediate:t?((r,s)=>(gn.addEventListener("message",({source:a,data:l})=>{a===gn&&l===r&&s.length&&s.shift()()},!1),a=>{s.push(a),gn.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ge(gn.postMessage)),Jv=typeof queueMicrotask<"u"?queueMicrotask.bind(gn):typeof process<"u"&&process.nextTick||Zm,Kv=e=>e!=null&&Ge(e[Ma]),L={isArray:or,isArrayBuffer:Km,isBuffer:as,isFormData:jv,isArrayBufferView:uv,isString:mv,isNumber:Ym,isBoolean:fv,isObject:ls,isPlainObject:Vs,isEmptyObject:pv,isReadableStream:bv,isRequest:wv,isResponse:Sv,isHeaders:Ev,isUndefined:tr,isDate:hv,isFile:gv,isBlob:vv,isRegExp:Fv,isFunction:Ge,isStream:yv,isURLSearchParams:Nv,isTypedArray:Pv,isFileList:xv,forEach:is,merge:gi,extend:Cv,trim:kv,stripBOM:_v,inherits:Dv,toFlatObject:Tv,kindOf:La,kindOfTest:yt,endsWith:Av,toArray:Rv,forEachEntry:Mv,matchAll:Lv,isHTMLForm:Iv,hasOwnProperty:td,hasOwnProp:td,reduceDescriptors:Xm,freezeMethods:zv,toObjectSet:$v,toCamelCase:Ov,noop:Vv,toFiniteNumber:Uv,findKey:Qm,global:gn,isContextDefined:Gm,isSpecCompliantForm:Bv,toJSONObject:Hv,isAsyncFn:Wv,isThenable:qv,setImmediate:Zm,asap:Jv,isIterable:Kv};function Z(e,t,r,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}L.inherits(Z,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:L.toJSONObject(this.config),code:this.code,status:this.status}}});const ef=Z.prototype,tf={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{tf[e]={value:e}});Object.defineProperties(Z,tf);Object.defineProperty(ef,"isAxiosError",{value:!0});Z.from=(e,t,r,s,a,l)=>{const i=Object.create(ef);L.toFlatObject(e,i,function(m){return m!==Error.prototype},d=>d!=="isAxiosError");const o=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Z.call(i,o,c,r,s,a),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",l&&Object.assign(i,l),i};const Yv=null;function vi(e){return L.isPlainObject(e)||L.isArray(e)}function nf(e){return L.endsWith(e,"[]")?e.slice(0,-2):e}function nd(e,t,r){return e?e.concat(t).map(function(a,l){return a=nf(a),!r&&l?"["+a+"]":a}).join(r?".":""):t}function Qv(e){return L.isArray(e)&&!e.some(vi)}const Gv=L.toFlatObject(L,{},null,function(t){return/^is[A-Z]/.test(t)});function Oa(e,t,r){if(!L.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=L.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,v){return!L.isUndefined(v[f])});const s=r.metaTokens,a=r.visitor||m,l=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&L.isSpecCompliantForm(t);if(!L.isFunction(a))throw new TypeError("visitor must be a function");function d(h){if(h===null)return"";if(L.isDate(h))return h.toISOString();if(L.isBoolean(h))return h.toString();if(!c&&L.isBlob(h))throw new Z("Blob is not supported. Use a Buffer instead.");return L.isArrayBuffer(h)||L.isTypedArray(h)?c&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function m(h,f,v){let u=h;if(h&&!v&&typeof h=="object"){if(L.endsWith(f,"{}"))f=s?f:f.slice(0,-2),h=JSON.stringify(h);else if(L.isArray(h)&&Qv(h)||(L.isFileList(h)||L.endsWith(f,"[]"))&&(u=L.toArray(h)))return f=nf(f),u.forEach(function(x,k){!(L.isUndefined(x)||x===null)&&t.append(i===!0?nd([f],k,l):i===null?f:f+"[]",d(x))}),!1}return vi(h)?!0:(t.append(nd(v,f,l),d(h)),!1)}const p=[],j=Object.assign(Gv,{defaultVisitor:m,convertValue:d,isVisitable:vi});function S(h,f){if(!L.isUndefined(h)){if(p.indexOf(h)!==-1)throw Error("Circular reference detected in "+f.join("."));p.push(h),L.forEach(h,function(u,g){(!(L.isUndefined(u)||u===null)&&a.call(t,u,L.isString(g)?g.trim():g,f,j))===!0&&S(u,f?f.concat(g):[g])}),p.pop()}}if(!L.isObject(e))throw new TypeError("data must be an object");return S(e),t}function rd(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function No(e,t){this._pairs=[],e&&Oa(e,this,t)}const rf=No.prototype;rf.append=function(t,r){this._pairs.push([t,r])};rf.toString=function(t){const r=t?function(s){return t.call(this,s,rd)}:rd;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Xv(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function sf(e,t,r){if(!t)return e;const s=r&&r.encode||Xv;L.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let l;if(a?l=a(t,r):l=L.isURLSearchParams(t)?t.toString():new No(t,r).toString(s),l){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class sd{constructor(){this.handlers=[]}use(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){L.forEach(this.handlers,function(s){s!==null&&t(s)})}}const af={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Zv=typeof URLSearchParams<"u"?URLSearchParams:No,ex=typeof FormData<"u"?FormData:null,tx=typeof Blob<"u"?Blob:null,nx={isBrowser:!0,classes:{URLSearchParams:Zv,FormData:ex,Blob:tx},protocols:["http","https","file","blob","url","data"]},bo=typeof window<"u"&&typeof document<"u",xi=typeof navigator=="object"&&navigator||void 0,rx=bo&&(!xi||["ReactNative","NativeScript","NS"].indexOf(xi.product)<0),sx=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ax=bo&&window.location.href||"http://localhost",lx=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:bo,hasStandardBrowserEnv:rx,hasStandardBrowserWebWorkerEnv:sx,navigator:xi,origin:ax},Symbol.toStringTag,{value:"Module"})),$e={...lx,...nx};function ix(e,t){return Oa(e,new $e.classes.URLSearchParams,{visitor:function(r,s,a,l){return $e.isNode&&L.isBuffer(r)?(this.append(s,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function ox(e){return L.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function cx(e){const t={},r=Object.keys(e);let s;const a=r.length;let l;for(s=0;s<a;s++)l=r[s],t[l]=e[l];return t}function lf(e){function t(r,s,a,l){let i=r[l++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),c=l>=r.length;return i=!i&&L.isArray(a)?a.length:i,c?(L.hasOwnProp(a,i)?a[i]=[a[i],s]:a[i]=s,!o):((!a[i]||!L.isObject(a[i]))&&(a[i]=[]),t(r,s,a[i],l)&&L.isArray(a[i])&&(a[i]=cx(a[i])),!o)}if(L.isFormData(e)&&L.isFunction(e.entries)){const r={};return L.forEachEntry(e,(s,a)=>{t(ox(s),a,r,0)}),r}return null}function dx(e,t,r){if(L.isString(e))try{return(t||JSON.parse)(e),L.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const os={transitional:af,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const s=r.getContentType()||"",a=s.indexOf("application/json")>-1,l=L.isObject(t);if(l&&L.isHTMLForm(t)&&(t=new FormData(t)),L.isFormData(t))return a?JSON.stringify(lf(t)):t;if(L.isArrayBuffer(t)||L.isBuffer(t)||L.isStream(t)||L.isFile(t)||L.isBlob(t)||L.isReadableStream(t))return t;if(L.isArrayBufferView(t))return t.buffer;if(L.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(l){if(s.indexOf("application/x-www-form-urlencoded")>-1)return ix(t,this.formSerializer).toString();if((o=L.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Oa(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return l||a?(r.setContentType("application/json",!1),dx(t)):t}],transformResponse:[function(t){const r=this.transitional||os.transitional,s=r&&r.forcedJSONParsing,a=this.responseType==="json";if(L.isResponse(t)||L.isReadableStream(t))return t;if(t&&L.isString(t)&&(s&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(o){if(i)throw o.name==="SyntaxError"?Z.from(o,Z.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$e.classes.FormData,Blob:$e.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};L.forEach(["delete","get","head","post","put","patch"],e=>{os.headers[e]={}});const ux=L.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),mx=e=>{const t={};let r,s,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),s=i.substring(a+1).trim(),!(!r||t[r]&&ux[r])&&(r==="set-cookie"?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t},ad=Symbol("internals");function jr(e){return e&&String(e).trim().toLowerCase()}function Us(e){return e===!1||e==null?e:L.isArray(e)?e.map(Us):String(e)}function fx(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}const px=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function gl(e,t,r,s,a){if(L.isFunction(s))return s.call(this,t,r);if(a&&(t=r),!!L.isString(t)){if(L.isString(s))return t.indexOf(s)!==-1;if(L.isRegExp(s))return s.test(t)}}function hx(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,s)=>r.toUpperCase()+s)}function gx(e,t){const r=L.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(a,l,i){return this[s].call(this,t,a,l,i)},configurable:!0})})}let Xe=class{constructor(t){t&&this.set(t)}set(t,r,s){const a=this;function l(o,c,d){const m=jr(c);if(!m)throw new Error("header name must be a non-empty string");const p=L.findKey(a,m);(!p||a[p]===void 0||d===!0||d===void 0&&a[p]!==!1)&&(a[p||c]=Us(o))}const i=(o,c)=>L.forEach(o,(d,m)=>l(d,m,c));if(L.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(L.isString(t)&&(t=t.trim())&&!px(t))i(mx(t),r);else if(L.isObject(t)&&L.isIterable(t)){let o={},c,d;for(const m of t){if(!L.isArray(m))throw TypeError("Object iterator must return a key-value pair");o[d=m[0]]=(c=o[d])?L.isArray(c)?[...c,m[1]]:[c,m[1]]:m[1]}i(o,r)}else t!=null&&l(r,t,s);return this}get(t,r){if(t=jr(t),t){const s=L.findKey(this,t);if(s){const a=this[s];if(!r)return a;if(r===!0)return fx(a);if(L.isFunction(r))return r.call(this,a,s);if(L.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=jr(t),t){const s=L.findKey(this,t);return!!(s&&this[s]!==void 0&&(!r||gl(this,this[s],s,r)))}return!1}delete(t,r){const s=this;let a=!1;function l(i){if(i=jr(i),i){const o=L.findKey(s,i);o&&(!r||gl(s,s[o],o,r))&&(delete s[o],a=!0)}}return L.isArray(t)?t.forEach(l):l(t),a}clear(t){const r=Object.keys(this);let s=r.length,a=!1;for(;s--;){const l=r[s];(!t||gl(this,this[l],l,t,!0))&&(delete this[l],a=!0)}return a}normalize(t){const r=this,s={};return L.forEach(this,(a,l)=>{const i=L.findKey(s,l);if(i){r[i]=Us(a),delete r[l];return}const o=t?hx(l):String(l).trim();o!==l&&delete r[l],r[o]=Us(a),s[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return L.forEach(this,(s,a)=>{s!=null&&s!==!1&&(r[a]=t&&L.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const s=new this(t);return r.forEach(a=>s.set(a)),s}static accessor(t){const s=(this[ad]=this[ad]={accessors:{}}).accessors,a=this.prototype;function l(i){const o=jr(i);s[o]||(gx(a,i),s[o]=!0)}return L.isArray(t)?t.forEach(l):l(t),this}};Xe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);L.reduceDescriptors(Xe.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[r]=s}}});L.freezeMethods(Xe);function vl(e,t){const r=this||os,s=t||r,a=Xe.from(s.headers);let l=s.data;return L.forEach(e,function(o){l=o.call(r,l,a.normalize(),t?t.status:void 0)}),a.normalize(),l}function of(e){return!!(e&&e.__CANCEL__)}function cr(e,t,r){Z.call(this,e??"canceled",Z.ERR_CANCELED,t,r),this.name="CanceledError"}L.inherits(cr,Z,{__CANCEL__:!0});function cf(e,t,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):t(new Z("Request failed with status code "+r.status,[Z.ERR_BAD_REQUEST,Z.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function vx(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function xx(e,t){e=e||10;const r=new Array(e),s=new Array(e);let a=0,l=0,i;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),m=s[l];i||(i=d),r[a]=c,s[a]=d;let p=l,j=0;for(;p!==a;)j+=r[p++],p=p%e;if(a=(a+1)%e,a===l&&(l=(l+1)%e),d-i<t)return;const S=m&&d-m;return S?Math.round(j*1e3/S):void 0}}function yx(e,t){let r=0,s=1e3/t,a,l;const i=(d,m=Date.now())=>{r=m,a=null,l&&(clearTimeout(l),l=null),e(...d)};return[(...d)=>{const m=Date.now(),p=m-r;p>=s?i(d,m):(a=d,l||(l=setTimeout(()=>{l=null,i(a)},s-p)))},()=>a&&i(a)]}const ha=(e,t,r=3)=>{let s=0;const a=xx(50,250);return yx(l=>{const i=l.loaded,o=l.lengthComputable?l.total:void 0,c=i-s,d=a(c),m=i<=o;s=i;const p={loaded:i,total:o,progress:o?i/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&m?(o-i)/d:void 0,event:l,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(p)},r)},ld=(e,t)=>{const r=e!=null;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},id=e=>(...t)=>L.asap(()=>e(...t)),jx=$e.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,$e.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL($e.origin),$e.navigator&&/(msie|trident)/i.test($e.navigator.userAgent)):()=>!0,Nx=$e.hasStandardBrowserEnv?{write(e,t,r,s,a,l,i){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(t)}`];L.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),L.isString(s)&&o.push(`path=${s}`),L.isString(a)&&o.push(`domain=${a}`),l===!0&&o.push("secure"),L.isString(i)&&o.push(`SameSite=${i}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function bx(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function wx(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function df(e,t,r){let s=!bx(t);return e&&(s||r==!1)?wx(e,t):t}const od=e=>e instanceof Xe?{...e}:e;function En(e,t){t=t||{};const r={};function s(d,m,p,j){return L.isPlainObject(d)&&L.isPlainObject(m)?L.merge.call({caseless:j},d,m):L.isPlainObject(m)?L.merge({},m):L.isArray(m)?m.slice():m}function a(d,m,p,j){if(L.isUndefined(m)){if(!L.isUndefined(d))return s(void 0,d,p,j)}else return s(d,m,p,j)}function l(d,m){if(!L.isUndefined(m))return s(void 0,m)}function i(d,m){if(L.isUndefined(m)){if(!L.isUndefined(d))return s(void 0,d)}else return s(void 0,m)}function o(d,m,p){if(p in t)return s(d,m);if(p in e)return s(void 0,d)}const c={url:l,method:l,data:l,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(d,m,p)=>a(od(d),od(m),p,!0)};return L.forEach(Object.keys({...e,...t}),function(m){const p=c[m]||a,j=p(e[m],t[m],m);L.isUndefined(j)&&p!==o||(r[m]=j)}),r}const uf=e=>{const t=En({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:l,headers:i,auth:o}=t;if(t.headers=i=Xe.from(i),t.url=sf(df(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),L.isFormData(r)){if($e.hasStandardBrowserEnv||$e.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(L.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([m,p])=>{d.includes(m.toLowerCase())&&i.set(m,p)})}}if($e.hasStandardBrowserEnv&&(s&&L.isFunction(s)&&(s=s(t)),s||s!==!1&&jx(t.url))){const c=a&&l&&Nx.read(l);c&&i.set(a,c)}return t},Sx=typeof XMLHttpRequest<"u",Ex=Sx&&function(e){return new Promise(function(r,s){const a=uf(e);let l=a.data;const i=Xe.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=a,m,p,j,S,h;function f(){S&&S(),h&&h(),a.cancelToken&&a.cancelToken.unsubscribe(m),a.signal&&a.signal.removeEventListener("abort",m)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function u(){if(!v)return;const x=Xe.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),D={data:!o||o==="text"||o==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:x,config:e,request:v};cf(function(y){r(y),f()},function(y){s(y),f()},D),v=null}"onloadend"in v?v.onloadend=u:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(u)},v.onabort=function(){v&&(s(new Z("Request aborted",Z.ECONNABORTED,e,v)),v=null)},v.onerror=function(k){const D=k&&k.message?k.message:"Network Error",w=new Z(D,Z.ERR_NETWORK,e,v);w.event=k||null,s(w),v=null},v.ontimeout=function(){let k=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const D=a.transitional||af;a.timeoutErrorMessage&&(k=a.timeoutErrorMessage),s(new Z(k,D.clarifyTimeoutError?Z.ETIMEDOUT:Z.ECONNABORTED,e,v)),v=null},l===void 0&&i.setContentType(null),"setRequestHeader"in v&&L.forEach(i.toJSON(),function(k,D){v.setRequestHeader(D,k)}),L.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),o&&o!=="json"&&(v.responseType=a.responseType),d&&([j,h]=ha(d,!0),v.addEventListener("progress",j)),c&&v.upload&&([p,S]=ha(c),v.upload.addEventListener("progress",p),v.upload.addEventListener("loadend",S)),(a.cancelToken||a.signal)&&(m=x=>{v&&(s(!x||x.type?new cr(null,e,v):x),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(m),a.signal&&(a.signal.aborted?m():a.signal.addEventListener("abort",m)));const g=vx(a.url);if(g&&$e.protocols.indexOf(g)===-1){s(new Z("Unsupported protocol "+g+":",Z.ERR_BAD_REQUEST,e));return}v.send(l||null)})},kx=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let s=new AbortController,a;const l=function(d){if(!a){a=!0,o();const m=d instanceof Error?d:this.reason;s.abort(m instanceof Z?m:new cr(m instanceof Error?m.message:m))}};let i=t&&setTimeout(()=>{i=null,l(new Z(`timeout ${t} of ms exceeded`,Z.ETIMEDOUT))},t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(l):d.removeEventListener("abort",l)}),e=null)};e.forEach(d=>d.addEventListener("abort",l));const{signal:c}=s;return c.unsubscribe=()=>L.asap(o),c}},Cx=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let s=0,a;for(;s<r;)a=s+t,yield e.slice(s,a),s=a},_x=async function*(e,t){for await(const r of Dx(e))yield*Cx(r,t)},Dx=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:s}=await t.read();if(r)break;yield s}}finally{await t.cancel()}},cd=(e,t,r,s)=>{const a=_x(e,t);let l=0,i,o=c=>{i||(i=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:d,value:m}=await a.next();if(d){o(),c.close();return}let p=m.byteLength;if(r){let j=l+=p;r(j)}c.enqueue(new Uint8Array(m))}catch(d){throw o(d),d}},cancel(c){return o(c),a.return()}},{highWaterMark:2})},dd=64*1024,{isFunction:_s}=L,Tx=(({Request:e,Response:t})=>({Request:e,Response:t}))(L.global),{ReadableStream:ud,TextEncoder:md}=L.global,fd=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Ax=e=>{e=L.merge.call({skipUndefined:!0},Tx,e);const{fetch:t,Request:r,Response:s}=e,a=t?_s(t):typeof fetch=="function",l=_s(r),i=_s(s);if(!a)return!1;const o=a&&_s(ud),c=a&&(typeof md=="function"?(h=>f=>h.encode(f))(new md):async h=>new Uint8Array(await new r(h).arrayBuffer())),d=l&&o&&fd(()=>{let h=!1;const f=new r($e.origin,{body:new ud,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!f}),m=i&&o&&fd(()=>L.isReadableStream(new s("").body)),p={stream:m&&(h=>h.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!p[h]&&(p[h]=(f,v)=>{let u=f&&f[h];if(u)return u.call(f);throw new Z(`Response type '${h}' is not supported`,Z.ERR_NOT_SUPPORT,v)})});const j=async h=>{if(h==null)return 0;if(L.isBlob(h))return h.size;if(L.isSpecCompliantForm(h))return(await new r($e.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(L.isArrayBufferView(h)||L.isArrayBuffer(h))return h.byteLength;if(L.isURLSearchParams(h)&&(h=h+""),L.isString(h))return(await c(h)).byteLength},S=async(h,f)=>{const v=L.toFiniteNumber(h.getContentLength());return v??j(f)};return async h=>{let{url:f,method:v,data:u,signal:g,cancelToken:x,timeout:k,onDownloadProgress:D,onUploadProgress:w,responseType:y,headers:b,withCredentials:A="same-origin",fetchOptions:C}=uf(h),z=t||fetch;y=y?(y+"").toLowerCase():"text";let _=kx([g,x&&x.toAbortSignal()],k),M=null;const T=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let F;try{if(w&&d&&v!=="get"&&v!=="head"&&(F=await S(b,u))!==0){let G=new r(f,{method:"POST",body:u,duplex:"half"}),Y;if(L.isFormData(u)&&(Y=G.headers.get("content-type"))&&b.setContentType(Y),G.body){const[he,oe]=ld(F,ha(id(w)));u=cd(G.body,dd,he,oe)}}L.isString(A)||(A=A?"include":"omit");const I=l&&"credentials"in r.prototype,Q={...C,signal:_,method:v.toUpperCase(),headers:b.normalize().toJSON(),body:u,duplex:"half",credentials:I?A:void 0};M=l&&new r(f,Q);let O=await(l?z(M,C):z(f,Q));const H=m&&(y==="stream"||y==="response");if(m&&(D||H&&T)){const G={};["status","statusText","headers"].forEach(Ce=>{G[Ce]=O[Ce]});const Y=L.toFiniteNumber(O.headers.get("content-length")),[he,oe]=D&&ld(Y,ha(id(D),!0))||[];O=new s(cd(O.body,dd,he,()=>{oe&&oe(),T&&T()}),G)}y=y||"text";let J=await p[L.findKey(p,y)||"text"](O,h);return!H&&T&&T(),await new Promise((G,Y)=>{cf(G,Y,{data:J,headers:Xe.from(O.headers),status:O.status,statusText:O.statusText,config:h,request:M})})}catch(I){throw T&&T(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new Z("Network Error",Z.ERR_NETWORK,h,M),{cause:I.cause||I}):Z.from(I,I&&I.code,h,M)}}},Rx=new Map,mf=e=>{let t=e&&e.env||{};const{fetch:r,Request:s,Response:a}=t,l=[s,a,r];let i=l.length,o=i,c,d,m=Rx;for(;o--;)c=l[o],d=m.get(c),d===void 0&&m.set(c,d=o?new Map:Ax(t)),m=d;return d};mf();const wo={http:Yv,xhr:Ex,fetch:{get:mf}};L.forEach(wo,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const pd=e=>`- ${e}`,Px=e=>L.isFunction(e)||e===null||e===!1;function Mx(e,t){e=L.isArray(e)?e:[e];const{length:r}=e;let s,a;const l={};for(let i=0;i<r;i++){s=e[i];let o;if(a=s,!Px(s)&&(a=wo[(o=String(s)).toLowerCase()],a===void 0))throw new Z(`Unknown adapter '${o}'`);if(a&&(L.isFunction(a)||(a=a.get(t))))break;l[o||"#"+i]=a}if(!a){const i=Object.entries(l).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=r?i.length>1?`since :
`+i.map(pd).join(`
`):" "+pd(i[0]):"as no adapter specified";throw new Z("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a}const ff={getAdapter:Mx,adapters:wo};function xl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new cr(null,e)}function hd(e){return xl(e),e.headers=Xe.from(e.headers),e.data=vl.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ff.getAdapter(e.adapter||os.adapter,e)(e).then(function(s){return xl(e),s.data=vl.call(e,e.transformResponse,s),s.headers=Xe.from(s.headers),s},function(s){return of(s)||(xl(e),s&&s.response&&(s.response.data=vl.call(e,e.transformResponse,s.response),s.response.headers=Xe.from(s.response.headers))),Promise.reject(s)})}const pf="1.13.1",Fa={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Fa[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const gd={};Fa.transitional=function(t,r,s){function a(l,i){return"[Axios v"+pf+"] Transitional option '"+l+"'"+i+(s?". "+s:"")}return(l,i,o)=>{if(t===!1)throw new Z(a(i," has been removed"+(r?" in "+r:"")),Z.ERR_DEPRECATED);return r&&!gd[i]&&(gd[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(l,i,o):!0}};Fa.spelling=function(t){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function Lx(e,t,r){if(typeof e!="object")throw new Z("options must be an object",Z.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let a=s.length;for(;a-- >0;){const l=s[a],i=t[l];if(i){const o=e[l],c=o===void 0||i(o,l,e);if(c!==!0)throw new Z("option "+l+" must be "+c,Z.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Z("Unknown option "+l,Z.ERR_BAD_OPTION)}}const Bs={assertOptions:Lx,validators:Fa},Nt=Bs.validators;let yn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new sd,response:new sd}}async request(t,r){try{return await this._request(t,r)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?l&&!String(s.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+l):s.stack=l}catch{}}throw s}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=En(this.defaults,r);const{transitional:s,paramsSerializer:a,headers:l}=r;s!==void 0&&Bs.assertOptions(s,{silentJSONParsing:Nt.transitional(Nt.boolean),forcedJSONParsing:Nt.transitional(Nt.boolean),clarifyTimeoutError:Nt.transitional(Nt.boolean)},!1),a!=null&&(L.isFunction(a)?r.paramsSerializer={serialize:a}:Bs.assertOptions(a,{encode:Nt.function,serialize:Nt.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Bs.assertOptions(r,{baseUrl:Nt.spelling("baseURL"),withXsrfToken:Nt.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=l&&L.merge(l.common,l[r.method]);l&&L.forEach(["delete","get","head","post","put","patch","common"],h=>{delete l[h]}),r.headers=Xe.concat(i,l);const o=[];let c=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(r)===!1||(c=c&&f.synchronous,o.unshift(f.fulfilled,f.rejected))});const d=[];this.interceptors.response.forEach(function(f){d.push(f.fulfilled,f.rejected)});let m,p=0,j;if(!c){const h=[hd.bind(this),void 0];for(h.unshift(...o),h.push(...d),j=h.length,m=Promise.resolve(r);p<j;)m=m.then(h[p++],h[p++]);return m}j=o.length;let S=r;for(;p<j;){const h=o[p++],f=o[p++];try{S=h(S)}catch(v){f.call(this,v);break}}try{m=hd.call(this,S)}catch(h){return Promise.reject(h)}for(p=0,j=d.length;p<j;)m=m.then(d[p++],d[p++]);return m}getUri(t){t=En(this.defaults,t);const r=df(t.baseURL,t.url,t.allowAbsoluteUrls);return sf(r,t.params,t.paramsSerializer)}};L.forEach(["delete","get","head","options"],function(t){yn.prototype[t]=function(r,s){return this.request(En(s||{},{method:t,url:r,data:(s||{}).data}))}});L.forEach(["post","put","patch"],function(t){function r(s){return function(l,i,o){return this.request(En(o||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:l,data:i}))}}yn.prototype[t]=r(),yn.prototype[t+"Form"]=r(!0)});let Ix=class hf{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const s=this;this.promise.then(a=>{if(!s._listeners)return;let l=s._listeners.length;for(;l-- >0;)s._listeners[l](a);s._listeners=null}),this.promise.then=a=>{let l;const i=new Promise(o=>{s.subscribe(o),l=o}).then(a);return i.cancel=function(){s.unsubscribe(l)},i},t(function(l,i,o){s.reason||(s.reason=new cr(l,i,o),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=s=>{t.abort(s)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new hf(function(a){t=a}),cancel:t}}};function Ox(e){return function(r){return e.apply(null,r)}}function Fx(e){return L.isObject(e)&&e.isAxiosError===!0}const yi={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(yi).forEach(([e,t])=>{yi[t]=e});function gf(e){const t=new yn(e),r=qm(yn.prototype.request,t);return L.extend(r,yn.prototype,t,{allOwnKeys:!0}),L.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return gf(En(e,a))},r}const se=gf(os);se.Axios=yn;se.CanceledError=cr;se.CancelToken=Ix;se.isCancel=of;se.VERSION=pf;se.toFormData=Oa;se.AxiosError=Z;se.Cancel=se.CanceledError;se.all=function(t){return Promise.all(t)};se.spread=Ox;se.isAxiosError=Fx;se.mergeConfig=En;se.AxiosHeaders=Xe;se.formToJSON=e=>lf(L.isHTMLForm(e)?new FormData(e):e);se.getAdapter=ff.getAdapter;se.HttpStatusCode=yi;se.default=se;const{Axios:Dy,AxiosError:Ty,CanceledError:Ay,isCancel:Ry,CancelToken:Py,VERSION:My,all:Ly,Cancel:Iy,isAxiosError:Oy,spread:Fy,toFormData:zy,AxiosHeaders:$y,HttpStatusCode:Vy,formToJSON:Uy,getAdapter:By,mergeConfig:Hy}=se,B=se.create({baseURL:"https://boulangerie-planning-api-4-pbfy.onrender.com/api",timeout:12e4,headers:{"Content-Type":"application/json"}});B.interceptors.request.use(e=>{const t=localStorage.getItem("token")||localStorage.getItem("adminToken")||localStorage.getItem("managerToken")||localStorage.getItem("employeeToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));B.interceptors.response.use(e=>e,e=>{var t,r;return e.code==="ECONNABORTED"?console.warn(" Timeout API - Render en mode sleep, veuillez patienter..."):((t=e.response)==null?void 0:t.status)===401?console.error("Erreur d'authentification"):((r=e.response)==null?void 0:r.status)>=500?console.error("Erreur serveur:",e.response.data):e.response||console.warn(" Pas de rponse du serveur - Render peut tre en mode sleep"),Promise.reject(e)});const zx=()=>{const{user:e,logout:t,isAdmin:r}=ir(),[s,a]=N.useState(""),l=()=>{t()};return N.useEffect(()=>{(async()=>{try{const o=await B.get("/site");o.data&&o.data.city&&a(o.data.city)}catch(o){console.error("Erreur lors du chargement du nom du site:",o)}})()},[]),n.jsx("header",{className:"header",children:n.jsxs("div",{className:"header-content",children:[n.jsx("div",{className:"header-left",children:n.jsxs("h1",{className:"header-title",children:["Planning Boulangerie ",s&&s]})}),n.jsx("div",{className:"header-right",children:e&&n.jsxs("div",{className:"user-info",children:[n.jsxs("div",{className:"user-details",children:[n.jsx("span",{className:"user-icon",children:r()?"":""}),n.jsx("span",{className:"user-name",children:e.name}),n.jsxs("span",{className:"user-role",children:["(",e.role==="admin"?"Administrateur":"Salari",")"]})]}),n.jsxs("button",{onClick:l,className:"logout-btn",title:"Se dconnecter",children:[n.jsx("span",{className:"logout-icon",children:""}),n.jsx("span",{className:"logout-text",children:"Dconnexion"})]})]})})]})})},$x=()=>{const[e,t]=N.useState(!1),[r,s]=N.useState([]),a=_n(),{user:l,isAdmin:i,isEmployee:o}=ir(),c=S=>S==="admin"?[{menuId:"dashboard",isVisibleToAdmin:!0,isVisibleToEmployee:!1},{menuId:"employees",isVisibleToAdmin:!0,isVisibleToEmployee:!1},{menuId:"constraints",isVisibleToAdmin:!0,isVisibleToEmployee:!1},{menuId:"planning",isVisibleToAdmin:!0,isVisibleToEmployee:!0},{menuId:"sales-stats",isVisibleToAdmin:!0,isVisibleToEmployee:!0},{menuId:"absences",isVisibleToAdmin:!0,isVisibleToEmployee:!0},{menuId:"meal-expenses",isVisibleToAdmin:!0,isVisibleToEmployee:!0},{menuId:"km-expenses",isVisibleToAdmin:!0,isVisibleToEmployee:!0},{menuId:"employee-status-print",isVisibleToAdmin:!0,isVisibleToEmployee:!1},{menuId:"parameters",isVisibleToAdmin:!0,isVisibleToEmployee:!1},{menuId:"sick-leave-management",isVisibleToAdmin:!0,isVisibleToEmployee:!1},{menuId:"vacation-management",isVisibleToAdmin:!0,isVisibleToEmployee:!1},{menuId:"ticket-restaurant",isVisibleToAdmin:!0,isVisibleToEmployee:!0},{menuId:"advance-requests",isVisibleToAdmin:!0,isVisibleToEmployee:!1},{menuId:"employee-dashboard",isVisibleToAdmin:!1,isVisibleToEmployee:!0}]:[{menuId:"dashboard",isVisibleToAdmin:!1,isVisibleToEmployee:!0},{menuId:"planning",isVisibleToAdmin:!1,isVisibleToEmployee:!0},{menuId:"sales-stats",isVisibleToAdmin:!1,isVisibleToEmployee:!0},{menuId:"absences",isVisibleToAdmin:!1,isVisibleToEmployee:!0},{menuId:"meal-expenses",isVisibleToAdmin:!1,isVisibleToEmployee:!0},{menuId:"km-expenses",isVisibleToAdmin:!1,isVisibleToEmployee:!0},{menuId:"ticket-restaurant",isVisibleToAdmin:!1,isVisibleToEmployee:!0}];N.useEffect(()=>{(async()=>{if(l)try{const h=await fetch(`https://boulangerie-planning-api-4-pbfy.onrender.com/api/menu-permissions?role=${l.role}`),f=h.headers.get("content-type");if(!f||!f.includes("application/json")){console.warn(" API non disponible, utilisation des permissions par dfaut"),s(c(l.role));return}const v=await h.json();v.success?(s(v.menuPermissions),console.log(" Permissions de menu charges:",v.menuPermissions)):(console.warn(" Erreur API, utilisation des permissions par dfaut"),s(c(l.role)))}catch(h){console.error(" Erreur lors du chargement des permissions:",h),console.warn(" Utilisation des permissions par dfaut"),s(c(l.role))}})()},[l]);const d=[{path:"/dashboard",label:"Tableau de bord",icon:"",menuId:"dashboard"},{path:"/employees",label:"Gestion des employs",icon:"",menuId:"employees"},{path:"/constraints",label:"Contraintes hebdomadaires",icon:"",menuId:"constraints"},{path:"/planning",label:"Gnration du planning",icon:"",menuId:"planning"},{path:"/sales-stats",label:"Stats Vente",icon:"",menuId:"sales-stats"},{path:"/absences",label:"tat des absences",icon:"",menuId:"absences"},{path:"/meal-expenses",label:"Frais Repas",icon:"",menuId:"meal-expenses"},{path:"/km-expenses",label:"Frais KM",icon:"",menuId:"km-expenses"},{path:"/employee-status-print",label:"Imprimer tat",icon:"",menuId:"employee-status-print"},{path:"/parameters",label:"Paramtres",icon:"",menuId:"parameters"},{path:"/sick-leave-management",label:"Gestion des Arrts Maladie",icon:"",menuId:"sick-leave-management"},{path:"/vacation-management",label:"Gestion des Congs",icon:"",menuId:"vacation-management"},{path:"/ticket-restaurant",label:"Ticket restaurant",icon:"",menuId:"ticket-restaurant"},{path:"/advance-requests",label:"Demandes d'Acompte",icon:"",menuId:"advance-requests"},{path:"/employee-dashboard",label:"Mes Documents",icon:"",menuId:"employee-dashboard"}],m=()=>{if(!l)return console.log(" Pas d'utilisateur connect"),[];if(r.length===0)return console.log(" Permissions vides, utilisation des permissions par dfaut"),d.filter(h=>{const f=c(l.role).find(v=>v.menuId===h.menuId);return f?i()?f.isVisibleToAdmin:o()?f.isVisibleToEmployee:!1:!1});console.log(" Filtrage des menus pour:",l.role),console.log(" Permissions disponibles:",r),console.log(" isAdmin():",i()),console.log(" isEmployee():",o());const S=d.filter(h=>{const f=r.find(v=>v.menuId===h.menuId);if(console.log(` Menu ${h.menuId}:`,{permission:f,isAdmin:i(),isEmployee:o()}),!f)return console.log(` Pas de permission pour ${h.menuId}`),!1;if(i()){const v=f.isVisibleToAdmin;return console.log(` Admin - ${h.menuId}: ${v}`),v}else if(o()){const v=f.isVisibleToEmployee;return console.log(` Employee - ${h.menuId}: ${v}`),v}return!1});return console.log(" Menus filtrs:",S.map(h=>h.menuId)),S},p=()=>{t(!0)},j=()=>{t(!1)};return n.jsxs("div",{className:`sidebar ${e?"expanded":"collapsed"}`,onMouseEnter:p,onMouseLeave:j,children:[n.jsxs("div",{className:"sidebar-header",children:[n.jsx("div",{className:"logo-container",children:n.jsxs("div",{className:"filmara-logo-sidebar",children:[n.jsxs("div",{className:"logo-symbol",children:[n.jsx("div",{className:"orca-element"}),n.jsx("div",{className:"fox-element"})]}),n.jsx("div",{className:"logo-text",children:"FILMARA"})]})}),n.jsx("div",{className:"sidebar-title",children:"Boulangerie"})]}),n.jsx("nav",{className:"sidebar-nav",children:m().map(S=>n.jsxs(Hm,{to:S.path,className:`nav-item ${a.pathname===S.path?"active":""}`,children:[n.jsx("span",{className:"nav-icon",children:S.icon}),n.jsx("span",{className:"nav-label",children:S.label})]},S.path))}),n.jsxs("div",{className:"sidebar-footer",children:[n.jsx("div",{className:"user-info",children:l&&n.jsxs("div",{className:"user-role",children:[n.jsx("span",{className:"user-icon",children:i()?"":""}),n.jsx("span",{className:"user-name",children:l.name})]})}),n.jsx("div",{className:"version-info",children:"v2.0"})]})]})},Pe=({children:e,requiredPermission:t=null,adminOnly:r=!1})=>{const{user:s,hasPermission:a,isAdmin:l,loading:i}=ir(),o=_n();return i?n.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"1.2rem",color:"#666"},children:"Chargement..."}):s?r&&!l()?n.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",padding:"20px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"4rem",marginBottom:"20px"},children:""}),n.jsx("h2",{style:{color:"#e74c3c",marginBottom:"10px"},children:"Accs refus"}),n.jsx("p",{style:{color:"#666",marginBottom:"20px"},children:"Cette page est rserve aux administrateurs."}),n.jsx("button",{onClick:()=>window.history.back(),style:{padding:"10px 20px",backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"1rem"},children:"Retour"})]}):t&&!a(t)?n.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",padding:"20px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"4rem",marginBottom:"20px"},children:""}),n.jsx("h2",{style:{color:"#e74c3c",marginBottom:"10px"},children:"Permission insuffisante"}),n.jsx("p",{style:{color:"#666",marginBottom:"20px"},children:"Vous n'avez pas les permissions ncessaires pour accder  cette page."}),n.jsx("button",{onClick:()=>window.history.back(),style:{padding:"10px 20px",backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"1rem"},children:"Retour"})]}):e:n.jsx(fi,{to:"/login",state:{from:o},replace:!0})},vf=()=>{const[e,t]=N.useState(""),[r,s]=N.useState(""),a=Pa(),{login:l}=ir(),i=async()=>{if(e!=="admin2024"){s("Mot de passe administrateur incorrect");return}try{const m=await(await fetch("https://boulangerie-planning-api-4-pbfy.onrender.com/api/auth/admin-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e})})).json();m.success&&m.token?(localStorage.setItem("token",m.token),localStorage.setItem("adminToken",m.token),l({role:"admin",name:"Administrateur",permissions:["all"]}),a("/")):s(m.error||"Erreur lors de la connexion")}catch(d){console.error("Erreur lors de la connexion:",d),s("Erreur de connexion au serveur")}},o=()=>{e==="salarie2024"?(l({role:"employee",name:"Salari",permissions:["view_planning","view_absences","view_sales_stats","view_meal_expenses","view_km_expenses"]}),a("/")):s("Mot de passe salari incorrect")},c=(d,m)=>{d.key==="Enter"&&m()};return n.jsx("div",{className:"login-container",children:n.jsxs("div",{className:"login-card",children:[n.jsx("div",{className:"logo-section",children:n.jsxs("div",{className:"logo",children:[n.jsxs("div",{className:"logo-animals",children:[n.jsx("div",{className:"orca"}),n.jsx("div",{className:"fox"})]}),n.jsx("h1",{className:"logo-text",children:"FILMARA"}),n.jsx("p",{className:"logo-subtitle",children:"HOLDING COMPANY  & TWO BAKERS"})]})}),n.jsxs("div",{className:"login-section",children:[n.jsx("h2",{children:"Connexion au Planning"}),n.jsx("div",{className:"password-input",children:n.jsx("input",{type:"password",placeholder:"Mot de passe",value:e,onChange:d=>t(d.target.value),onKeyPress:d=>c(d,i),className:"password-field"})}),r&&n.jsx("div",{className:"error-message",children:r}),n.jsxs("div",{className:"login-buttons",children:[n.jsxs("button",{onClick:i,className:"login-btn admin-btn",disabled:!e,children:[n.jsx("span",{className:"btn-icon",children:""}),"Administrateur"]}),n.jsxs("button",{onClick:o,className:"login-btn employee-btn",disabled:!e,children:[n.jsx("span",{className:"btn-icon",children:""}),"Salari"]})]}),n.jsxs("div",{className:"login-info",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Administrateur :"})," Accs complet  toutes les fonctionnalits"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Salari :"})," Accs limit aux fonctions de consultation et saisie"]})]})]})]})})};function Vx(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Vx(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var So=e=>typeof e=="number"&&!isNaN(e),Zr=e=>typeof e=="string",xf=e=>typeof e=="function",Ux=e=>Zr(e)||So(e),Bx=e=>N.isValidElement(e)||Zr(e)||xf(e)||So(e),Hx=1,yf=()=>`${Hx++}`,kt=new Map,ji=[],vd=new Set,jf=()=>kt.size>0,Wx=(e,{containerId:t})=>{var r;return(r=kt.get(t||1))==null?void 0:r.toasts.get(e)};function qx(e,t){var r;if(t)return!!((r=kt.get(t))!=null&&r.isToastActive(e));let s=!1;return kt.forEach(a=>{a.isToastActive(e)&&(s=!0)}),s}function Jx(e){if(!jf()){ji=ji.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||Ux(e))kt.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=kt.get(e.containerId);t?t.removeToast(e.id):kt.forEach(r=>{r.removeToast(e.id)})}}var Kx=(e={})=>{kt.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function Yx(e,t){Bx(e)&&(jf()||ji.push({content:e,options:t}),kt.forEach(r=>{r.buildToast(e,t)}))}function Nf(e,t){kt.forEach(r=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===r.id)&&r.toggle(e,t==null?void 0:t.id)})}function Qx(e){return vd.add(e),()=>{vd.delete(e)}}function Gx(e){return e&&(Zr(e.toastId)||So(e.toastId))?e.toastId:yf()}function cs(e,t){return Yx(e,t),t.toastId}function za(e,t){return{...t,type:t&&t.type||e,toastId:Gx(t)}}function $a(e){return(t,r)=>cs(t,za(e,r))}function P(e,t){return cs(e,za("default",t))}P.loading=(e,t)=>cs(e,za("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function Xx(e,{pending:t,error:r,success:s},a){let l;t&&(l=Zr(t)?P.loading(t,a):P.loading(t.render,{...a,...t}));let i={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},o=(d,m,p)=>{if(m==null){P.dismiss(l);return}let j={type:d,...i,...a,data:p},S=Zr(m)?{render:m}:m;return l?P.update(l,{...j,...S}):P(S.render,{...j,...S}),p},c=xf(e)?e():e;return c.then(d=>o("success",s,d)).catch(d=>o("error",r,d)),c}P.promise=Xx;P.success=$a("success");P.info=$a("info");P.error=$a("error");P.warning=$a("warning");P.warn=P.warning;P.dark=(e,t)=>cs(e,za("default",{theme:"dark",...t}));function Zx(e){Jx(e)}P.dismiss=Zx;P.clearWaitingQueue=Kx;P.isActive=qx;P.update=(e,t={})=>{let r=Wx(e,t);if(r){let{props:s,content:a}=r,l={delay:100,...s,...t,toastId:t.toastId||e,updateId:yf()};l.toastId!==e&&(l.staleId=e);let i=l.render||a;delete l.render,cs(i,l)}};P.done=e=>{P.update(e,{progress:1})};P.onChange=Qx;P.play=e=>Nf(!0,e);P.pause=e=>Nf(!1,e);const ey=({employee:e,onSave:t,onClose:r,employees:s=[]})=>{const[a,l]=N.useState({name:"",contractType:"CDI",age:"",skills:[],role:"vendeuse",weeklyHours:35,trainingDays:[],contractEndDate:"",tutor:"",email:"",isActive:!0,emergencyContact:{lastName:"",firstName:"",phone:"",email:""}});N.useEffect(()=>{e&&l({name:e.name||"",contractType:e.contractType||"CDI",age:e.age||"",skills:e.skills||[],role:e.role||"vendeuse",weeklyHours:e.weeklyHours||35,trainingDays:e.trainingDays||[],contractEndDate:e.contractEndDate?new Date(e.contractEndDate).toISOString().split("T")[0]:"",tutorName:e.tutorName||"",email:e.email||"",isActive:e.isActive!==void 0?e.isActive:!0,emergencyContact:e.emergencyContact||{lastName:"",firstName:"",phone:"",email:""}})},[e]);const i=h=>{const{name:f,value:v,type:u,checked:g}=h.target;if(f.startsWith("emergencyContact.")){const x=f.split(".")[1];l(k=>({...k,emergencyContact:{...k.emergencyContact,[x]:v}}))}else l(x=>({...x,[f]:u==="checkbox"?g:v}))},o=h=>{l(f=>({...f,skills:f.skills.includes(h)?f.skills.filter(v=>v!==h):[...f.skills,h]}))},c=h=>{l(f=>({...f,trainingDays:f.trainingDays.includes(h)?f.trainingDays.filter(v=>v!==h):[...f.trainingDays,h]}))},d=async()=>{if(!e||!e.email){alert(" Aucun email configur pour cet employ");return}const h=` Envoyer les informations de connexion  ${e.email} ?

- Email: ${e.email}
- URL de connexion: https://www.filmara.fr/salarie-connexion
- Mot de passe: [Gnr automatiquement]

Confirmer l'envoi ?`;if(window.confirm(h))try{console.log(" Envoi du mot de passe via backend API pour:",e.name,e.email);const f=await fetch(`https://boulangerie-planning-api-4-pbfy.onrender.com/api/auth/send-password/${e._id}`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!f.ok){const u=await f.json();throw new Error(u.error||"Erreur backend")}const v=await f.json();console.log(" Mot de passe sauvegard et email envoy via backend (Modal)"),alert(` Mot de passe envoy avec succs  ${e.email}`),console.log(" Mot de passe envoy via backend API (Modal)")}catch(f){console.error(" Erreur envoi mot de passe:",f),alert(` Erreur lors de l'envoi: ${f.message}`)}},m=h=>{if(h.preventDefault(),console.log(" Donnes du formulaire avant validation:",a),!a.name.trim()){alert("Le nom est obligatoire");return}if(!a.age){alert("L'ge est obligatoire");return}if(a.age<16||a.age>65){alert("L'ge doit tre entre 16 et 65 ans");return}if(a.weeklyHours<20||a.weeklyHours>39){alert("Le volume hebdomadaire doit tre entre 20 et 39 heures");return}if(a.contractType==="Apprentissage"){if(a.trainingDays.length===0){alert("Les apprentis doivent avoir au moins un jour de formation");return}if(!a.contractEndDate){alert("Les apprentis doivent avoir une date de fin de contrat");return}}const f={...a,age:parseInt(a.age),weeklyHours:parseInt(a.weeklyHours),contractEndDate:a.contractEndDate||void 0,tutor:a.tutor||void 0,email:a.email||void 0};console.log(" Donnes prpares pour l'envoi:",f),t(f)},p=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"],j=["Ouverture","Fermeture","Management"],S=[{value:"vendeuse",label:"Vendeuse"},{value:"responsable",label:"Responsable"},{value:"manager",label:"Manager"},{value:"Apprenti Vendeuse",label:"Apprenti Vendeuse"},{value:"chef prod",label:"Chef Prod"},{value:"boulanger",label:"Boulanger"},{value:"prparateur",label:"Prparateur"},{value:"Apprenti Boulanger",label:"Apprenti Boulanger"},{value:"Apprenti Prparateur",label:"Apprenti Prparateur"}];return n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[n.jsx("h2",{style:{margin:0,color:"#333"},children:e?" Modifier l'employ":" Ajouter un employ"}),n.jsx("button",{onClick:r,style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#666",padding:"0.5rem"},children:""})]}),n.jsxs("div",{children:[n.jsxs("form",{onSubmit:m,className:"declaration-form",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Nom complet *"}),n.jsx("input",{type:"text",name:"name",value:a.name,onChange:i,className:"form-control",required:!0})]}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Contrat *"}),n.jsxs("select",{name:"contractType",value:a.contractType,onChange:i,className:"form-control",required:!0,children:[n.jsx("option",{value:"CDI",children:"CDI"}),n.jsx("option",{value:"Apprentissage",children:"Contrat d'apprentissage"})]})]}),(a.contractType==="Apprentissage"||a.role==="Apprenti Vendeuse"||a.role==="Apprenti Boulanger"||a.role==="Apprenti Prparateur")&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Fin du contrat d'apprentissage *"}),n.jsx("input",{type:"date",name:"contractEndDate",value:a.contractEndDate,onChange:i,className:"form-control",required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Nom du tuteur *"}),n.jsx("input",{type:"text",name:"tutorName",value:a.tutorName,onChange:i,className:"form-control",placeholder:"Nom du matre d'apprentissage",required:!0})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"ge *"}),n.jsx("input",{type:"number",name:"age",value:a.age,onChange:i,className:"form-control",min:"16",max:"65",required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Email"}),n.jsx("input",{type:"email",name:"email",value:a.email,onChange:i,className:"form-control",placeholder:"exemple@email.com"}),n.jsx("small",{className:"form-text",children:"Email pour l'envoi des identifiants de connexion"})]})]}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Rle *"}),n.jsx("select",{name:"role",value:a.role,onChange:i,className:"form-control",required:!0,children:S.map(h=>n.jsx("option",{value:h.value,children:h.label},h.value))})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Volume hebdomadaire (h) *"}),n.jsx("input",{type:"number",name:"weeklyHours",value:a.weeklyHours,onChange:i,className:"form-control",min:"20",max:"39",required:!0})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Comptences"}),n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:j.map(h=>n.jsxs("label",{style:{display:"flex",alignItems:"center",marginRight:"1rem"},children:[n.jsx("input",{type:"checkbox",checked:a.skills.includes(h),onChange:()=>o(h),style:{marginRight:"0.5rem"}}),h]},h))})]}),a.contractType==="Apprentissage"&&n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Tuteur *"}),n.jsxs("select",{name:"tutor",value:a.tutor,onChange:i,className:"form-control",required:!0,children:[n.jsx("option",{value:"",children:"Slectionner un tuteur"}),s.filter(h=>h._id!==(e==null?void 0:e._id)&&h.isActive).map(h=>n.jsxs("option",{value:h._id,children:[h.name," - ",h.role]},h._id))]})]}),a.contractType==="Apprentissage"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Jours de formation *"}),n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:p.map(h=>n.jsxs("label",{style:{display:"flex",alignItems:"center",marginRight:"1rem"},children:[n.jsx("input",{type:"checkbox",checked:a.trainingDays.includes(h),onChange:()=>c(h),style:{marginRight:"0.5rem"}}),h]},h))})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Date de fin de contrat *"}),n.jsx("input",{type:"date",name:"contractEndDate",value:a.contractEndDate,onChange:i,className:"form-control",required:!0})]})]}),n.jsxs("div",{style:{marginTop:"2rem",paddingTop:"1.5rem",borderTop:"2px solid #e0e0e0"},children:[n.jsx("h3",{style:{marginBottom:"1rem",color:"#333",fontSize:"1.1rem"},children:" Personne  Contacter en Cas d'Urgence"}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Nom"}),n.jsx("input",{type:"text",name:"emergencyContact.lastName",value:a.emergencyContact.lastName,onChange:i,className:"form-control",placeholder:"Nom de la personne"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Prnom"}),n.jsx("input",{type:"text",name:"emergencyContact.firstName",value:a.emergencyContact.firstName,onChange:i,className:"form-control",placeholder:"Prnom de la personne"})]})]}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Numro de tlphone"}),n.jsx("input",{type:"tel",name:"emergencyContact.phone",value:a.emergencyContact.phone,onChange:i,className:"form-control",placeholder:"06 12 34 56 78"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Email"}),n.jsx("input",{type:"email",name:"emergencyContact.email",value:a.emergencyContact.email,onChange:i,className:"form-control",placeholder:"contact@exemple.com"})]})]})]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"1.5rem"},children:[n.jsx("button",{type:"button",className:"btn btn-secondary",onClick:r,children:"Annuler"}),e&&n.jsx("button",{type:"button",className:"btn btn-info",onClick:d,title:"Envoyer les informations de connexion par email",children:" Envoyer mot de passe"}),n.jsx("button",{type:"submit",className:"btn btn-primary",onClick:m,children:e?"Modifier l'employ":"Ajouter l'employ"})]})]})]})},bf=({show:e,onClose:t,onSave:r,employees:s})=>{const[a,l]=N.useState("maladie"),[i,o]=N.useState(""),[c,d]=N.useState(""),[m,p]=N.useState(""),[j,S]=N.useState(""),[h,f]=N.useState(!1),v=async u=>{if(u.preventDefault(),!i||!c||!m){alert("Veuillez remplir tous les champs obligatoires");return}f(!0);try{await r({type:a,employeeId:i,startDate:c,endDate:m,reason:j||(a==="maladie"?"Arrt maladie":"Absence")}),o(""),d(""),p(""),S(""),t()}catch(g){console.error("Erreur lors de la sauvegarde:",g)}finally{f(!1)}};return e?n.jsx("div",{className:"modal show",onClick:t,children:n.jsxs("div",{className:"modal-content",onClick:u=>u.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{className:"modal-title",children:a==="maladie"?" Dclarer un arrt maladie":" Dclarer une absence"}),n.jsx("button",{className:"modal-close",onClick:t,children:n.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"close-icon",children:n.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),n.jsx("div",{className:"modal-body",children:n.jsxs("form",{onSubmit:v,className:"declaration-form",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Type de dclaration"}),n.jsxs("div",{className:"type-selector",children:[n.jsxs("button",{type:"button",className:`type-option ${a==="maladie"?"active":""}`,onClick:()=>l("maladie"),children:[n.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"type-icon",children:n.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14h-2v-2h2v2zm0-4h-2V7h2v6z"})}),"Arrt maladie"]}),n.jsxs("button",{type:"button",className:`type-option ${a==="absence"?"active":""}`,onClick:()=>l("absence"),children:[n.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"type-icon",children:n.jsx("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"})}),"Absence"]})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Employ *"}),n.jsxs("select",{className:"form-control",value:i,onChange:u=>o(u.target.value),required:!0,children:[n.jsx("option",{value:"",children:"Slectionner un employ"}),s.map(u=>n.jsxs("option",{value:u._id,children:[u.name," - ",u.role]},u._id))]})]}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Date de dbut *"}),n.jsx("input",{type:"date",className:"form-control",value:c,onChange:u=>d(u.target.value),required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Date de fin *"}),n.jsx("input",{type:"date",className:"form-control",value:m,onChange:u=>p(u.target.value),required:!0,min:c})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Raison (optionnel)"}),n.jsx("textarea",{className:"form-control",value:j,onChange:u=>S(u.target.value),placeholder:`Dtails sur ${a==="maladie"?"l'arrt maladie":"l'absence"}...`,rows:"3"})]}),n.jsxs("div",{className:"info-box",children:[n.jsx("div",{className:"info-icon",children:n.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),n.jsxs("div",{className:"info-content",children:[n.jsx("h4",{children:"Informations importantes"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Les dates sont inclusives"}),n.jsx("li",{children:"L'employ sera automatiquement marqu comme indisponible"}),n.jsx("li",{children:"Le planning sera mis  jour en consquence"})]})]})]})]})}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,disabled:h,children:"Annuler"}),n.jsx("button",{type:"submit",className:"btn btn-primary",onClick:v,disabled:h,children:h?n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"loading-spinner",viewBox:"0 0 24 24",children:n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"})}),"Enregistrement..."]}):`Dclarer ${a==="maladie"?"l'arrt maladie":"l'absence"}`})]})]})}):null},wf=({show:e,onClose:t,onSave:r,employees:s})=>{const[a,l]=N.useState(""),[i,o]=N.useState(""),[c,d]=N.useState(""),[m,p]=N.useState(""),[j,S]=N.useState(!1),h=async f=>{if(f.preventDefault(),!a||!i||!c){alert("Veuillez remplir tous les champs obligatoires");return}if(parseInt(c)<1){alert("La dure du retard doit tre d'au moins 1 minute");return}S(!0);try{await r({employeeId:a,date:i,duration:parseInt(c),reason:m||""}),l(""),o(""),d(""),p(""),t()}catch(v){console.error("Erreur lors de la sauvegarde:",v)}finally{S(!1)}};return e?n.jsx("div",{className:"modal show",onClick:t,children:n.jsxs("div",{className:"modal-content",onClick:f=>f.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{className:"modal-title",children:" Dclarer un retard"}),n.jsx("button",{className:"modal-close",onClick:t,children:n.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"close-icon",children:n.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),n.jsx("div",{className:"modal-body",children:n.jsxs("form",{onSubmit:h,className:"delay-form",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Employ *"}),n.jsxs("select",{className:"form-control",value:a,onChange:f=>l(f.target.value),required:!0,children:[n.jsx("option",{value:"",children:"Slectionner un employ"}),s.map(f=>n.jsxs("option",{value:f._id,children:[f.name," - ",f.role]},f._id))]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Date du retard *"}),n.jsx("input",{type:"date",className:"form-control",value:i,onChange:f=>o(f.target.value),required:!0,max:new Date().toISOString().split("T")[0]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Dure du retard (minutes) *"}),n.jsxs("div",{className:"duration-input",children:[n.jsx("input",{type:"number",className:"form-control",value:c,onChange:f=>d(f.target.value),placeholder:"Ex: 15",min:"1",max:"480",required:!0}),n.jsx("span",{className:"duration-unit",children:"minutes"})]}),n.jsx("div",{className:"duration-help",children:n.jsx("small",{children:"Dure en minutes (ex: 15 pour 15 minutes, 90 pour 1h30)"})})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Raison du retard (optionnel)"}),n.jsx("textarea",{className:"form-control",value:m,onChange:f=>p(f.target.value),placeholder:"Ex: Problme de transport, rveil tardif, embouteillage...",rows:"3"})]}),n.jsxs("div",{className:"info-box",children:[n.jsx("div",{className:"info-icon",children:n.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),n.jsxs("div",{className:"info-content",children:[n.jsx("h4",{children:"Informations importantes"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Le retard sera enregistr pour la date slectionne"}),n.jsx("li",{children:"La dure doit tre en minutes (minimum 1 minute)"}),n.jsx("li",{children:"Les retards sont visibles dans les statistiques d'absences"}),n.jsx("li",{children:"Vous ne pouvez pas dclarer un retard pour une date future"})]})]})]})]})}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,disabled:j,children:"Annuler"}),n.jsx("button",{type:"submit",className:"btn btn-primary",onClick:h,disabled:j,children:j?n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"loading-spinner",viewBox:"0 0 24 24",children:n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"})}),"Enregistrement..."]}):"Dclarer le retard"})]})]})}):null},ty=({isOpen:e,onClose:t,employees:r})=>{const[s,a]=N.useState(""),[l,i]=N.useState(null),[o,c]=N.useState("entree"),[d,m]=N.useState(!1),[p,j]=N.useState(!1),[S,h]=N.useState({contratSigne:{done:!1,date:"",comment:""},dpae:{done:!1,date:"",comment:""},declarationMedecineTravail:{done:!1,date:"",comment:""},demandeMutuelle:{done:!1,date:"",comment:"",refused:!1,attestationFournie:!1},visiteMedicale:{done:!1,date:"",comment:""},formationSecurite:{done:!1,date:"",comment:""},charteDiscrimination:{done:!1,date:"",comment:""},rib:{done:!1,date:"",comment:""},registrePresenceEntree:{done:!1,date:"",comment:""},gabriel:{done:!1,date:"",comment:""}}),[f,v]=N.useState({arretMutuel:{done:!1,date:"",comment:""},gabrielSortie:{done:!1,date:"",comment:""},mutuelleSortie:{done:!1,date:"",comment:""},retourTenues:{done:!1,date:"",comment:""},retourCles:{done:!1,date:"",comment:""},registrePresenceSortie:{done:!1,date:"",comment:""}}),[u,g]=N.useState(""),[x,k]=N.useState("");N.useEffect(()=>{if(s&&r.length>0){const _=r.find(M=>M._id===s);i(_),w(s)}},[s,r]);const D=_=>{if(!_)return"";try{const M=new Date(_);return isNaN(M.getTime())?"":M.toISOString().split("T")[0]}catch(M){return console.error("Erreur formatage date:",M),""}},w=async _=>{var M,T;try{m(!0);const F=await B.get(`/onboarding-offboarding/employee/${_}`);if(F.data.success&&F.data.data){const I=F.data.data,Q=O=>({done:(O==null?void 0:O.done)||!1,date:D(O==null?void 0:O.date)||"",comment:(O==null?void 0:O.comment)||""});I.onboarding&&h({contratSigne:Q(I.onboarding.contratSigne),dpae:Q(I.onboarding.dpae),declarationMedecineTravail:Q(I.onboarding.declarationMedecineTravail),demandeMutuelle:{...Q(I.onboarding.demandeMutuelle),refused:((M=I.onboarding.demandeMutuelle)==null?void 0:M.refused)||!1,attestationFournie:((T=I.onboarding.demandeMutuelle)==null?void 0:T.attestationFournie)||!1},visiteMedicale:Q(I.onboarding.visiteMedicale),formationSecurite:Q(I.onboarding.formationSecurite),charteDiscrimination:Q(I.onboarding.charteDiscrimination),rib:Q(I.onboarding.rib),registrePresenceEntree:Q(I.onboarding.registrePresenceEntree),gabriel:Q(I.onboarding.gabriel)}),I.offboarding&&v({arretMutuel:Q(I.offboarding.arretMutuel),gabrielSortie:Q(I.offboarding.gabrielSortie),mutuelleSortie:Q(I.offboarding.mutuelleSortie),retourTenues:Q(I.offboarding.retourTenues),retourCles:Q(I.offboarding.retourCles),registrePresenceSortie:Q(I.offboarding.registrePresenceSortie)}),g(D(I.entryDate)),k(D(I.exitDate))}}catch(F){console.error("Erreur lors du chargement des donnes:",F),P.error("Erreur lors du chargement des donnes")}finally{m(!1)}},y=(_,M,T)=>{h(F=>({...F,[_]:{...F[_],[M]:T}}))},b=(_,M,T)=>{v(F=>({...F,[_]:{...F[_],[M]:T}}))},A=async()=>{if(console.log(" handleSave appel"),console.log(" selectedEmployeeId:",s),console.log(" selectedEmployee:",l),!s||!l){console.log(" Validation choue: pas d'employ slectionn"),P.error("Veuillez slectionner un employ");return}try{j(!0);const _={};Object.keys(S).forEach(I=>{_[I]={...S[I],date:S[I].date||null}});const M={};Object.keys(f).forEach(I=>{M[I]={...f[I],date:f[I].date||null}});const T={employeeId:s,employeeName:l.name,onboarding:_,offboarding:M,entryDate:u||null,exitDate:x||null};console.log(" Envoi payload:",T);const F=await B.post("/onboarding-offboarding",T);console.log(" Rponse reue:",F.data),F.data.success&&(P.success(" Dmarches sauvegardes avec succs"),window.location.pathname.includes("dashboard")&&window.location.reload())}catch(_){console.error(" Erreur lors de la sauvegarde:",_),_.response?(console.error("Dtails erreur:",_.response.data),P.error(` Erreur: ${_.response.data.message||"Erreur serveur"}`)):P.error(" Erreur lors de la sauvegarde des dmarches")}finally{j(!1)}},C=()=>{const _=[{key:"contratSigne",label:"Contrat de travail sign des deux parties"},{key:"dpae",label:"DPAE"},{key:"declarationMedecineTravail",label:"Dclaration Mdecine du travail"},{key:"demandeMutuelle",label:"Demande de Mutuelle Entreprise",hasRefusal:!0},{key:"visiteMedicale",label:"Visite mdicale effectue"},{key:"formationSecurite",label:"Formation Scurit Magasin"},{key:"charteDiscrimination",label:"Charte Discrimination signe"},{key:"rib",label:"RIB"},{key:"registrePresenceEntree",label:"Registre de Prsence"},{key:"gabriel",label:"Gabriel"}];return n.jsxs("div",{className:"onboarding-form",children:[n.jsx("h3",{children:" Dmarches d'entre"}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Date d'entre"}),n.jsx("input",{type:"date",value:u,onChange:M=>g(M.target.value),className:"form-control"})]}),_.map(M=>{var T,F,I,Q,O,H,J,G;return n.jsxs("div",{className:"task-item",children:[n.jsx("div",{className:"task-header",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:((T=S[M.key])==null?void 0:T.done)||!1,onChange:Y=>y(M.key,"done",Y.target.checked)}),n.jsx("span",{className:(F=S[M.key])!=null&&F.done?"task-done":"",children:M.label})]})}),M.hasRefusal&&n.jsxs("div",{className:"mutuelle-refusal",children:[n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:((I=S[M.key])==null?void 0:I.refused)||!1,onChange:Y=>y(M.key,"refused",Y.target.checked)}),n.jsx("span",{children:"Refus de la mutuelle"})]}),((Q=S[M.key])==null?void 0:Q.refused)&&n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:((O=S[M.key])==null?void 0:O.attestationFournie)||!1,onChange:Y=>y(M.key,"attestationFournie",Y.target.checked)}),n.jsx("span",{children:"Attestation de refus fournie"})]})]}),((H=S[M.key])==null?void 0:H.done)&&n.jsxs("div",{className:"task-details",children:[n.jsx("input",{type:"date",value:((J=S[M.key])==null?void 0:J.date)||"",onChange:Y=>y(M.key,"date",Y.target.value),className:"form-control form-control-sm",placeholder:"Date"}),n.jsx("input",{type:"text",value:((G=S[M.key])==null?void 0:G.comment)||"",onChange:Y=>y(M.key,"comment",Y.target.value),className:"form-control form-control-sm",placeholder:"Commentaire (optionnel)"})]})]},M.key)})]})},z=()=>{const _=[{key:"arretMutuel",label:"Arrt Mutuel"},{key:"gabrielSortie",label:"Gabriel"},{key:"mutuelleSortie",label:"Mutuelle (si demande)"},{key:"retourTenues",label:"Retour tenues"},{key:"retourCles",label:"Retour cls"},{key:"registrePresenceSortie",label:"Registre de prsence"}];return n.jsxs("div",{className:"offboarding-form",children:[n.jsx("h3",{children:" Dmarches de sortie"}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Date de sortie"}),n.jsx("input",{type:"date",value:x,onChange:M=>k(M.target.value),className:"form-control"})]}),_.map(M=>{var T,F,I,Q,O;return n.jsxs("div",{className:"task-item",children:[n.jsx("div",{className:"task-header",children:n.jsxs("label",{className:"checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:((T=f[M.key])==null?void 0:T.done)||!1,onChange:H=>b(M.key,"done",H.target.checked)}),n.jsx("span",{className:(F=f[M.key])!=null&&F.done?"task-done":"",children:M.label})]})}),((I=f[M.key])==null?void 0:I.done)&&n.jsxs("div",{className:"task-details",children:[n.jsx("input",{type:"date",value:((Q=f[M.key])==null?void 0:Q.date)||"",onChange:H=>b(M.key,"date",H.target.value),className:"form-control form-control-sm",placeholder:"Date"}),n.jsx("input",{type:"text",value:((O=f[M.key])==null?void 0:O.comment)||"",onChange:H=>b(M.key,"comment",H.target.value),className:"form-control form-control-sm",placeholder:"Commentaire (optionnel)"})]})]},M.key)})]})};return e?n.jsx("div",{className:"onboarding-modal-overlay",children:n.jsxs("div",{className:"onboarding-modal",children:[n.jsxs("div",{className:"onboarding-modal-header",children:[n.jsx("h2",{children:" Entre/Sortie - Dmarches Administratives"}),n.jsx("button",{className:"close-btn",onClick:t,children:""})]}),n.jsxs("div",{className:"onboarding-modal-body",children:[n.jsxs("div",{className:"employee-selector",children:[n.jsx("label",{children:"Slectionner un employ :"}),n.jsxs("select",{value:s,onChange:_=>a(_.target.value),className:"form-control",children:[n.jsx("option",{value:"",children:"-- Choisir un employ --"}),r.map(_=>n.jsxs("option",{value:_._id,children:[_.name," (",_.role||"Non spcifi",")"]},_._id))]})]}),s&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"tabs",children:[n.jsx("button",{className:`tab ${o==="entree"?"active":""}`,onClick:()=>c("entree"),children:" Entre"}),n.jsx("button",{className:`tab ${o==="sortie"?"active":""}`,onClick:()=>c("sortie"),children:" Sortie"})]}),d?n.jsxs("div",{className:"loading-container",children:[n.jsx("div",{className:"loading"}),n.jsx("p",{children:"Chargement des donnes..."})]}):n.jsx("div",{className:"tab-content",children:o==="entree"?C():z()})]})]}),n.jsxs("div",{className:"onboarding-modal-footer",children:[n.jsx("button",{className:"btn btn-secondary",onClick:t,children:"Annuler"}),n.jsx("button",{className:"btn btn-primary",onClick:A,disabled:!s||p,children:p?"Sauvegarde...":" Sauvegarder"})]})]})}):null},ny=({isOpen:e,onClose:t,employees:r})=>{const[s,a]=N.useState(""),[l,i]=N.useState(null),[o,c]=N.useState("entree"),[d,m]=N.useState(!1),[p,j]=N.useState([]),[S,h]=N.useState({itemType:"pantalon",size:"",quantity:1,comment:""}),f=[{value:"pantalon",label:"Pantalon"},{value:"casquette",label:"Casquette"},{value:"chaussures",label:"Chaussures"},{value:"teeshirt",label:"T-shirt"},{value:"polaire",label:"Polaire"},{value:"carte_wengel",label:"Carte Wengel"},{value:"cle_entree",label:"Cl Entre"},{value:"cle_volet",label:"Cl Volet"},{value:"code_alarme",label:"Code Alarme"}];N.useEffect(()=>{if(s&&r.length>0){const b=r.find(A=>A._id===s);i(b),v(s)}},[s,r]);const v=async b=>{try{m(!0);const A=await B.get(`/uniforms/employee/${b}`);A.data.success&&A.data.data&&j(A.data.data.items||[])}catch(A){console.error("Erreur lors du chargement des tenues:",A),P.error("Erreur lors du chargement des tenues")}finally{m(!1)}},u=async()=>{if(!s||!l){P.error("Veuillez slectionner un employ");return}if(!S.itemType){P.error("Veuillez slectionner un type de tenue");return}try{const b={employeeId:s,employeeName:l.name,itemType:S.itemType,size:S.size,quantity:parseInt(S.quantity)||1,comment:S.comment};(await B.post("/uniforms",b)).data.success&&(P.success(" Tenue ajoute avec succs"),h({itemType:"pantalon",size:"",quantity:1,comment:""}),await v(s))}catch(b){console.error("Erreur lors de l'ajout de la tenue:",b),P.error(" Erreur lors de l'ajout de la tenue")}},g=async b=>{if(window.confirm("Confirmer le retour de cette tenue ?"))try{(await B.patch(`/uniforms/${s}/${b}/return`,{returnDate:new Date().toISOString(),returnComment:"Retourn"})).data.success&&(P.success(" Tenue marque comme retourne"),await v(s))}catch(A){console.error("Erreur lors du retour de la tenue:",A),P.error(" Erreur lors du retour de la tenue")}},x=async b=>{if(window.confirm("Confirmer la suppression de cette tenue ?"))try{(await B.delete(`/uniforms/${s}/${b}`)).data.success&&(P.success(" Tenue supprime"),await v(s))}catch(A){console.error("Erreur lors de la suppression:",A),P.error(" Erreur lors de la suppression")}},k=b=>{const A=f.find(C=>C.value===b);return A?A.label:b},D=b=>b?new Date(b).toLocaleDateString("fr-FR"):"-",w=()=>n.jsxs("div",{className:"uniform-entry-form",children:[n.jsx("h3",{children:" Ajouter une tenue"}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Type de tenue *"}),n.jsx("select",{value:S.itemType,onChange:b=>h({...S,itemType:b.target.value}),className:"form-control",children:f.map(b=>n.jsx("option",{value:b.value,children:b.label},b.value))})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Taille / Descriptif"}),n.jsx("input",{type:"text",value:S.size,onChange:b=>h({...S,size:b.target.value}),className:"form-control",placeholder:"Ex: L, 42, etc."})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Quantit"}),n.jsx("input",{type:"number",min:"1",value:S.quantity,onChange:b=>h({...S,quantity:b.target.value}),className:"form-control"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Commentaire"}),n.jsx("input",{type:"text",value:S.comment,onChange:b=>h({...S,comment:b.target.value}),className:"form-control",placeholder:"Optionnel"})]}),n.jsx("button",{className:"btn btn-primary",onClick:u,children:" Ajouter cette tenue"}),n.jsx("hr",{style:{margin:"2rem 0"}}),n.jsx("h3",{children:" Historique des tenues attribues"}),p.length===0?n.jsx("p",{className:"no-data",children:"Aucune tenue enregistre"}):n.jsx("div",{className:"uniform-list",children:p.sort((b,A)=>new Date(A.issueDate)-new Date(b.issueDate)).map(b=>n.jsxs("div",{className:`uniform-item ${b.returned?"returned":""}`,children:[n.jsxs("div",{className:"item-header",children:[n.jsx("span",{className:"item-type",children:k(b.itemType)}),n.jsx("span",{className:`item-status ${b.returned?"status-returned":"status-active"}`,children:b.returned?" Retourn":" En cours"})]}),n.jsxs("div",{className:"item-details",children:[n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Taille:"})," ",b.size||"-"]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Quantit:"})," ",b.quantity]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Date d'attribution:"})," ",D(b.issueDate)]}),b.comment&&n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Commentaire:"})," ",b.comment]}),b.returned&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Date de retour:"})," ",D(b.returnDate)]}),b.returnComment&&n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Commentaire retour:"})," ",b.returnComment]})]})]}),n.jsxs("div",{className:"item-actions",children:[!b.returned&&n.jsx("button",{className:"btn btn-sm btn-warning",onClick:()=>g(b._id),children:" Marquer comme retourn"}),n.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>x(b._id),children:" Supprimer"})]})]},b._id))})]}),y=()=>{const b=p.filter(A=>!A.returned);return n.jsxs("div",{className:"uniform-exit-form",children:[n.jsx("h3",{children:" Retour des tenues"}),b.length===0?n.jsx("div",{className:"no-pending",children:n.jsx("p",{children:" Aucune tenue en attente de retour"})}):n.jsxs("div",{className:"pending-returns",children:[n.jsxs("p",{className:"info-message",children:[" ",b.length," tenue(s) en attente de retour"]}),n.jsx("div",{className:"uniform-list",children:b.map(A=>n.jsxs("div",{className:"uniform-item",children:[n.jsxs("div",{className:"item-header",children:[n.jsx("span",{className:"item-type",children:k(A.itemType)}),n.jsx("span",{className:"item-status status-pending",children:"  retourner"})]}),n.jsxs("div",{className:"item-details",children:[n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Taille:"})," ",A.size||"-"]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Quantit:"})," ",A.quantity]}),n.jsxs("div",{className:"detail-row",children:[n.jsx("strong",{children:"Attribu le:"})," ",D(A.issueDate)]})]}),n.jsx("div",{className:"item-actions",children:n.jsx("button",{className:"btn btn-primary",onClick:()=>g(A._id),children:" Confirmer le retour"})})]},A._id))})]})]})};return e?n.jsx("div",{className:"uniform-modal-overlay",children:n.jsxs("div",{className:"uniform-modal",children:[n.jsxs("div",{className:"uniform-modal-header",children:[n.jsx("h2",{children:" Gestion des Tenues"}),n.jsx("button",{className:"close-btn",onClick:t,children:""})]}),n.jsxs("div",{className:"uniform-modal-body",children:[n.jsxs("div",{className:"employee-selector",children:[n.jsx("label",{children:"Slectionner un employ :"}),n.jsxs("select",{value:s,onChange:b=>a(b.target.value),className:"form-control",children:[n.jsx("option",{value:"",children:"-- Choisir un employ --"}),r.map(b=>n.jsxs("option",{value:b._id,children:[b.name," (",b.role||"Non spcifi",")"]},b._id))]})]}),s&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"tabs",children:[n.jsx("button",{className:`tab ${o==="entree"?"active":""}`,onClick:()=>c("entree"),children:" Entre / Historique"}),n.jsx("button",{className:`tab ${o==="sortie"?"active":""}`,onClick:()=>c("sortie"),children:" Sortie / Retours"})]}),d?n.jsxs("div",{className:"loading-container",children:[n.jsx("div",{className:"loading"}),n.jsx("p",{children:"Chargement des donnes..."})]}):n.jsx("div",{className:"tab-content",children:o==="entree"?w():y()})]})]}),n.jsx("div",{className:"uniform-modal-footer",children:n.jsx("button",{className:"btn btn-secondary",onClick:t,children:"Fermer"})})]})}):null},ry=()=>{const[e,t]=N.useState([]),[r,s]=N.useState(!0),[a,l]=N.useState(!1),[i,o]=N.useState(!1),[c,d]=N.useState(!1),[m,p]=N.useState(!1),[j,S]=N.useState(!1),[h,f]=N.useState(!1),[v,u]=N.useState(null),[g,x]=N.useState([]),[k,D]=N.useState({}),[w,y]=N.useState(null),b=Pa();N.useEffect(()=>{A(),he(),oe()},[]);const A=async()=>{try{s(!0);const R=await B.get("/employees");console.log(" Rponse API employs:",R.data);let X=null;R.data.success&&R.data.data?X=R.data.data:Array.isArray(R.data)&&(X=R.data),X?(t(X),console.log(" Employs chargs:",X.length)):(console.error(" Format de donnes invalide:",R.data),t([]),P.error("Format de donnes invalide"))}catch(R){P.error("Erreur lors du chargement des employs"),console.error(R),t([])}finally{s(!1)}},C=()=>{u(null),l(!0)},z=()=>{o(!0)},_=()=>{d(!0)},M=()=>{p(!0)},T=()=>{S(!0)},F=()=>{b("/tutors")},I=R=>{u(R),l(!0)},Q=async R=>{var X,je;try{if(!R.email){P.error("Aucun email configur pour cet employ");return}const fe=`Envoyer un mot de passe par email  ${R.name} (${R.email}) ?`;if(!window.confirm(fe))return;console.log(" Envoi mot de passe pour:",R.name);const ge=await fetch(`https://boulangerie-planning-api-4-pbfy.onrender.com/api/auth/send-password/${R._id}`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!ge.ok){const Ct=await ge.json();throw new Error(Ct.error||"Erreur backend")}const ut=await ge.json();console.log(" Mot de passe sauvegard et email envoy via backend"),P.success(`Mot de passe envoy  ${R.email}`),console.log(" Mot de passe envoy via backend API")}catch(fe){console.error(" Erreur envoi mot de passe:",fe),P.error(`Erreur: ${((je=(X=fe.response)==null?void 0:X.data)==null?void 0:je.error)||fe.message}`)}},O=async R=>{var X,je,fe;try{if(console.log(" Donnes employ  sauvegarder:",R),v)console.log(" Modification employ existant:",v._id),await B.put(`/employees/${v._id}`,R),P.success("Employ modifi avec succs");else{console.log(" Cration nouvel employ"),console.log(" Envoi POST vers /employees avec:",R);const ge=await B.post("/employees",R);console.log(" Rponse API:",ge.data),P.success("Employ ajout avec succs")}A(),l(!1)}catch(ge){console.error(" Erreur dtaille:",ge),console.error(" Erreur response:",ge.response),console.error(" Erreur data:",(X=ge.response)==null?void 0:X.data),P.error(`Erreur lors de la sauvegarde: ${((fe=(je=ge.response)==null?void 0:je.data)==null?void 0:fe.error)||ge.message}`)}},H=async R=>{var X;try{console.log("Donnes dclaration:",R),R.type==="maladie"?(await B.put(`/employees/${R.employeeId}`,{sickLeave:{isOnSickLeave:!0,startDate:R.startDate,endDate:R.endDate}}),P.success("Arrt maladie dclar avec succs")):(await B.put(`/employees/${R.employeeId}`,{absence:{isAbsent:!0,startDate:R.startDate,endDate:R.endDate,reason:R.reason}}),P.success("Absence dclare avec succs")),A(),o(!1)}catch(je){console.error("Erreur dtaille:",((X=je.response)==null?void 0:X.data)||je.message),P.error("Erreur lors de la dclaration")}},J=async R=>{try{console.log(" Sauvegarde retard:",R),await B.post("/delays",R),P.success("Retard dclar avec succs"),A(),d(!1)}catch(X){console.error(" Erreur sauvegarde retard:",X),P.error("Erreur lors de la dclaration du retard")}},G=async R=>{if(window.confirm("tes-vous sr de vouloir dsactiver cet employ ?"))try{await B.patch(`/employees/${R}/deactivate`),P.success("Employ dsactiv"),A()}catch{P.error("Erreur lors de la dsactivation")}},Y=async R=>{try{await B.patch(`/employees/${R}/reactivate`),P.success("Employ ractiv"),A()}catch{P.error("Erreur lors de la ractivation")}},he=async()=>{try{const R=await B.get("/advance-requests");R.data.success&&x(R.data.data)}catch(R){console.error("Erreur rcupration demandes acompte:",R)}},oe=async()=>{try{const R=await B.get("/advance-requests/stats");R.data.success&&D(R.data.data)}catch(R){console.error("Erreur rcupration stats acompte:",R)}},Ce=async(R,X,je={})=>{try{(await B.put(`/advance-requests/${R}`,{status:X,...je})).data.success&&(P.success(`Demande ${X==="approved"?"approuve":"rejete"} avec succs`),he(),oe(),f(!1),y(null))}catch(fe){console.error("Erreur action acompte:",fe),P.error("Erreur lors de l'action")}},U=R=>{y(R),f(!0)},ee=()=>{f(!1),y(null)},ne=R=>({vendeuse:"Vendeuse",apprenti:"Apprenti",responsable:"Responsable",manager:"Manager",preparateur:"Prparateur",chef_prod:"Chef Prod",boulanger:"Boulanger"})[R]||R,le=R=>({CDI:"CDI",Apprentissage:"Contrat d'apprentissage"})[R]||R,K=R=>R?new Date(R).toLocaleDateString("fr-FR"):"-";return r?n.jsx("div",{className:"card",children:n.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[n.jsx("div",{className:"loading"}),n.jsx("p",{children:"Chargement des employs..."})]})}):n.jsxs("div",{className:"employees fade-in",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h2",{children:"Gestion des employs"}),n.jsxs("div",{className:"header-actions",children:[n.jsxs("button",{className:"btn btn-info",onClick:F,children:[n.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"btn-icon",children:n.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),"Tuteurs"]}),n.jsxs("button",{className:"btn btn-purple",onClick:M,children:[n.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"btn-icon",children:n.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"})}),"Entre/Sortie"]}),n.jsxs("button",{className:"btn btn-pink",onClick:T,children:[n.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"btn-icon",children:n.jsx("path",{d:"M16 20H8V10h8v10zm4-16H4v2h2v14h12V6h2V4zm-4 0H8V3h8v1z"})}),"Tenue"]}),n.jsxs("button",{className:"btn btn-success",onClick:z,children:[n.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"btn-icon",children:n.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14h-2v-2h2v2zm0-4h-2V7h2v6z"})}),"Dclarer maladie/absence"]}),n.jsxs("button",{className:"btn btn-warning",onClick:_,children:[n.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"btn-icon",children:n.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),"Dclarer retard"]}),n.jsxs("button",{className:"btn btn-primary",onClick:C,children:[n.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"btn-icon",children:n.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})}),"Ajouter un employ"]})]})]}),a&&n.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:R=>{R.target===R.currentTarget&&l(!1)},children:n.jsx("div",{className:"modal-content",style:{backgroundColor:"white",borderRadius:"8px",padding:"2rem",maxWidth:"90vw",maxHeight:"90vh",overflow:"auto",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)"},children:n.jsx(ey,{employee:v,onSave:O,onClose:()=>l(!1),employees:e.filter(R=>R.isActive)})})}),n.jsx("div",{className:"card",children:n.jsx("div",{style:{overflowX:"auto"},children:n.jsxs("table",{className:"table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Nom"}),n.jsx("th",{children:"Rle"}),n.jsx("th",{children:"Contrat"}),n.jsx("th",{children:"ge"}),n.jsx("th",{children:"Volume hebdo"}),n.jsx("th",{children:"Comptences"}),n.jsx("th",{children:"Jours formation"}),n.jsx("th",{children:"Arrt maladie"}),n.jsx("th",{children:"Absences"}),n.jsx("th",{children:"Statut"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:e.map(R=>n.jsxs("tr",{children:[n.jsx("td",{children:R.name}),n.jsx("td",{children:ne(R.role)}),n.jsx("td",{children:le(R.contractType)}),n.jsxs("td",{children:[R.age," ans",R.isMinor&&n.jsx("span",{style:{color:"#ffc107",fontSize:"0.8rem",marginLeft:"0.5rem",fontWeight:"bold"},children:"(Mineur)"})]}),n.jsxs("td",{children:[R.weeklyHours,"h"]}),n.jsx("td",{children:R.skills&&R.skills.length>0?R.skills.join(", "):"Aucune"}),n.jsx("td",{children:R.trainingDays&&R.trainingDays.length>0?R.trainingDays.join(", "):"-"}),n.jsx("td",{children:(()=>{var je,fe;if((je=R.sickLeave)!=null&&je.isOnSickLeave){if((fe=R.sickLeave)!=null&&fe.endDate){const ge=new Date(R.sickLeave.endDate);if(Math.floor((new Date-ge)/(1e3*60*60*24))>8)return"-"}return n.jsxs("span",{style:{color:"#dc3545",fontWeight:"bold"},children:[K(R.sickLeave.startDate)," - ",K(R.sickLeave.endDate)]})}const X=(Array.isArray(R.absences)?R.absences:[]).filter(ge=>{if(ge.type!=="Arrt maladie")return!1;const ut=new Date(ge.endDate);return Math.floor((new Date-ut)/(1e3*60*60*24))<=8});if(X&&X.length>0){const ge=X[0];return n.jsxs("span",{style:{color:"#dc3545",fontWeight:"bold"},children:[K(ge.startDate)," - ",K(ge.endDate)]})}return"-"})()}),n.jsx("td",{children:(()=>{const X=(Array.isArray(R.absences)?R.absences:[]).filter(je=>je.type!=="Arrt maladie");return X.length>0?n.jsxs("span",{style:{color:"#ffc107",fontWeight:"bold"},children:[X.length," absence",X.length>1?"s":""]}):"-"})()}),n.jsx("td",{children:n.jsx("span",{style:{color:R.isActive?"#28a745":"#dc3545",fontWeight:"bold"},children:R.isActive?"Actif":"Inactif"})}),n.jsxs("td",{children:[n.jsx("button",{className:"btn btn-secondary",onClick:()=>I(R),style:{fontSize:"0.9rem",padding:"0.5rem 1rem"},children:" Modifier"}),R.email&&n.jsx("button",{className:"btn btn-info",onClick:()=>Q(R),style:{fontSize:"0.9rem",padding:"0.5rem 1rem",marginLeft:"0.5rem"},title:"Envoyer un mot de passe par email",children:" Mot de passe"}),R.isActive?n.jsx("button",{className:"btn btn-danger",onClick:()=>G(R._id),style:{fontSize:"0.9rem",padding:"0.5rem 1rem",marginLeft:"0.5rem"},children:" Dsactiver"}):n.jsx("button",{className:"btn btn-success",onClick:()=>Y(R._id),style:{fontSize:"0.9rem",padding:"0.5rem 1rem",marginLeft:"0.5rem"},children:" Ractiver"})]})]},R._id))})]})})}),e.length===0&&n.jsxs("div",{className:"card",style:{textAlign:"center",padding:"3rem"},children:[n.jsx("h3",{children:" Aucun employ trouv"}),n.jsx("p",{children:"Commencez par ajouter votre premier employ."}),n.jsx("button",{className:"btn btn-primary",onClick:C,children:"Ajouter un employ"})]}),n.jsx(bf,{show:i,onClose:()=>o(!1),onSave:H,employees:e.filter(R=>R.isActive)}),n.jsx(wf,{show:c,onClose:()=>d(!1),onSave:J,employees:e.filter(R=>R.isActive)}),n.jsx(ty,{isOpen:m,onClose:()=>p(!1),employees:e.filter(R=>R.isActive)}),n.jsx(ny,{isOpen:j,onClose:()=>S(!1),employees:e.filter(R=>R.isActive)}),h&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal-content",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{children:" Gestion des Demandes d'Acompte"}),n.jsx("button",{className:"close-btn",onClick:ee,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"advance-stats",children:[n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-number",children:k.pending||0}),n.jsx("div",{className:"stat-label",children:"En attente"})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-number",children:k.approved||0}),n.jsx("div",{className:"stat-label",children:"Approuves"})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-number",children:k.rejected||0}),n.jsx("div",{className:"stat-label",children:"Rejetes"})]}),n.jsxs("div",{className:"stat-card",children:[n.jsxs("div",{className:"stat-number",children:[k.totalAmount||0,""]}),n.jsx("div",{className:"stat-label",children:"Montant total"})]})]}),n.jsxs("div",{className:"advance-requests-list",children:[n.jsx("h4",{children:" Demandes en attente"}),g.filter(R=>R.status==="pending").map(R=>n.jsxs("div",{className:"advance-request-card",children:[n.jsxs("div",{className:"request-info",children:[n.jsx("div",{className:"employee-name",children:R.employeeName}),n.jsxs("div",{className:"request-amount",children:[R.amount,""]}),n.jsxs("div",{className:"request-month",children:["Dduction: ",R.deductionMonth]}),n.jsxs("div",{className:"request-date",children:["Demand le: ",new Date(R.createdAt).toLocaleDateString("fr-FR")]}),R.comment&&n.jsxs("div",{className:"request-comment",children:[n.jsx("strong",{children:"Commentaire:"})," ",R.comment]})]}),n.jsxs("div",{className:"request-actions",children:[n.jsx("button",{className:"btn btn-success btn-sm",onClick:()=>Ce(R._id,"approved"),children:" Approuver"}),n.jsx("button",{className:"btn btn-warning btn-sm",onClick:()=>U(R),children:" Modifier"}),n.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>Ce(R._id,"rejected"),children:" Rejeter"})]})]},R._id)),g.filter(R=>R.status==="pending").length===0&&n.jsx("div",{className:"no-requests",children:n.jsx("p",{children:"Aucune demande d'acompte en attente"})})]}),n.jsxs("div",{className:"advance-history",children:[n.jsx("h4",{children:" Historique"}),g.filter(R=>R.status!=="pending").slice(0,10).map(R=>n.jsx("div",{className:"advance-history-item",children:n.jsxs("div",{className:"history-info",children:[n.jsx("span",{className:"employee-name",children:R.employeeName}),n.jsxs("span",{className:"amount",children:[R.amount,""]}),n.jsx("span",{className:`status status-${R.status}`,children:R.status==="approved"?" Approuv":" Rejet"}),n.jsx("span",{className:"date",children:new Date(R.updatedAt).toLocaleDateString("fr-FR")})]})},R._id))]})]})]})}),w&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal-content",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{children:" Modifier la Demande d'Acompte"}),n.jsx("button",{className:"close-btn",onClick:ee,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsx("div",{className:"form-group",children:n.jsxs("label",{children:["Employ: ",w.employeeName]})}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Montant ():"}),n.jsx("input",{type:"number",id:"editAmount",defaultValue:w.amount,min:"1",max:"5000",step:"0.01"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Mois de dduction:"}),n.jsxs("select",{id:"editMonth",defaultValue:w.deductionMonth,children:[n.jsx("option",{value:"Janvier 2025",children:"Janvier 2025"}),n.jsx("option",{value:"Fvrier 2025",children:"Fvrier 2025"}),n.jsx("option",{value:"Mars 2025",children:"Mars 2025"}),n.jsx("option",{value:"Avril 2025",children:"Avril 2025"}),n.jsx("option",{value:"Mai 2025",children:"Mai 2025"}),n.jsx("option",{value:"Juin 2025",children:"Juin 2025"}),n.jsx("option",{value:"Juillet 2025",children:"Juillet 2025"}),n.jsx("option",{value:"Aot 2025",children:"Aot 2025"}),n.jsx("option",{value:"Septembre 2025",children:"Septembre 2025"}),n.jsx("option",{value:"Octobre 2025",children:"Octobre 2025"}),n.jsx("option",{value:"Novembre 2025",children:"Novembre 2025"}),n.jsx("option",{value:"Dcembre 2025",children:"Dcembre 2025"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Commentaire du manager:"}),n.jsx("textarea",{id:"editComment",rows:"3",placeholder:"Commentaire optionnel..."})]}),n.jsxs("div",{className:"modal-actions",children:[n.jsx("button",{className:"btn btn-success",onClick:()=>{const R=document.getElementById("editAmount").value;document.getElementById("editMonth").value;const X=document.getElementById("editComment").value;Ce(w._id,"approved",{approvedAmount:R,managerComment:X})},children:" Approuver avec modifications"}),n.jsx("button",{className:"btn btn-danger",onClick:()=>{const R=document.getElementById("editComment").value;Ce(w._id,"rejected",{managerComment:R})},children:" Rejeter"}),n.jsx("button",{className:"btn btn-secondary",onClick:ee,children:"Annuler"})]})]})]})})]})},sy=()=>{const[e,t]=N.useState(""),[r,s]=N.useState(new Date().getFullYear()),[a,l]=N.useState(null),[i,o]=N.useState(!1),c=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"];N.useEffect(()=>{const x=new URLSearchParams(window.location.search),k=x.get("week"),D=x.get("year");if(k&&t(k),D)s(parseInt(D));else{const y=d(new Date);t(y)}},[]),N.useEffect(()=>{e&&r&&S()},[e,r,S]);const d=x=>{const k=new Date(Date.UTC(x.getFullYear(),x.getMonth(),x.getDate())),D=k.getUTCDay()||7;k.setUTCDate(k.getUTCDate()+4-D);const w=new Date(Date.UTC(k.getUTCFullYear(),0,1));return Math.ceil(((k-w)/864e5+1)/7)},m=(x,k,D)=>{const w=new Date(k,0,1),y=Math.floor((x-1)*7)+D,b=new Date(w);return b.setDate(w.getDate()+y),`${b.getDate()}/${b.getMonth()+1}`},p=x=>{const k=parseInt(x.startTime.split(":")[0]);return k<=7?"Ouverture":k>=16?"Fermeture":"Standard"},j=x=>{switch(x){case"Ouverture":return"#28a745";case"Fermeture":return"#dc3545";default:return"#007bff"}},S=async()=>{try{o(!0);const x=await B.get(`/planning/${e}/${r}`);l(x.data)}catch{l(null)}finally{o(!1)}},h=async()=>{if(!e||!r){P.error("Veuillez saisir le numro de semaine et l'anne");return}o(!0);try{const x=await B.post("/planning/generate",{weekNumber:parseInt(e),year:parseInt(r),affluenceLevels:{Lundi:2,Mardi:2,Mercredi:2,Jeudi:2,Vendredi:2,Samedi:2,Dimanche:2}});P.success("Planning gnr avec succs !"),l(x.data.plannings)}catch(x){P.error("Erreur lors de la gnration du planning"),console.error(x)}finally{o(!1)}},f=async x=>{try{await B.patch(`/planning/${x}/realize`,{status:"realized"}),P.success("Planning marqu comme ralis"),S()}catch{P.error("Erreur lors de la mise  jour du statut")}},v=x=>x?x.substring(0,5):"",u=(x,k)=>x.filter(D=>{const w=D.schedule.find(y=>y.day===k);return w&&(w.shifts.length>0||w.constraint)}).length,g=(x,k)=>x.reduce((D,w)=>{const y=w.schedule.find(b=>b.day===k);return y&&y.shifts.length>0?D+y.totalHours:D},0);return n.jsxs("div",{className:"planning fade-in",children:[n.jsxs("div",{className:"card",children:[n.jsx("h2",{children:" Gnration du planning"}),n.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center",flexWrap:"wrap"},children:[n.jsxs("div",{children:[n.jsx("label",{children:"Semaine :"}),n.jsx("input",{type:"number",value:e,onChange:x=>t(x.target.value),min:"1",max:"53",style:{marginLeft:"0.5rem",padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"}})]}),n.jsxs("div",{children:[n.jsx("label",{children:"Anne :"}),n.jsx("input",{type:"number",value:r,onChange:x=>s(parseInt(x.target.value)),min:"2020",max:"2030",style:{marginLeft:"0.5rem",padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"}})]}),n.jsx("button",{className:"btn btn-primary",onClick:h,disabled:i,children:i?"Gnration...":" Gnrer le planning"}),n.jsx("button",{className:"btn btn-secondary",onClick:()=>window.location.href=`/constraints?week=${e}&year=${r}`,children:" Modifier contraintes"})]})]}),i&&n.jsx("div",{className:"card",children:n.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[n.jsx("div",{className:"loading"}),n.jsx("p",{children:"Gnration du planning en cours..."})]})}),a&&!i&&n.jsxs("div",{children:[n.jsxs("div",{className:"card",children:[n.jsx("h3",{children:" Rsum par jour"}),n.jsx("div",{style:{overflowX:"auto"},children:n.jsxs("table",{className:"table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Jour"}),n.jsx("th",{children:"Personnel prsent"}),n.jsx("th",{children:"Total heures"}),n.jsx("th",{children:"Affluence"})]})}),n.jsx("tbody",{children:c.map(x=>n.jsxs("tr",{children:[n.jsx("td",{style:{fontWeight:"bold"},children:x}),n.jsxs("td",{children:[u(a,x)," personnes"]}),n.jsxs("td",{children:[g(a,x).toFixed(1),"h"]}),n.jsx("td",{children:"2/4"})]},x))})]})})]}),n.jsxs("div",{className:"card",children:[n.jsxs("h3",{children:[" Planning dtaill - Semaine ",e," (",r,")"]}),n.jsx("div",{style:{overflowX:"auto"},children:n.jsxs("table",{className:"table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Employ"}),c.map((x,k)=>{const D=m(e,r,k);return n.jsxs("th",{children:[x,n.jsx("br",{}),n.jsx("small",{style:{fontSize:"0.8rem",color:"#666"},children:D})]},x)}),n.jsx("th",{children:"Total semaine"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:a.map(x=>n.jsxs("tr",{children:[n.jsx("td",{style:{fontWeight:"bold"},children:x.employeeName}),c.map(k=>{const D=x.schedule.find(w=>w.day===k);return n.jsx("td",{children:D&&D.shifts.length>0?n.jsxs("div",{children:[D.shifts.map((w,y)=>{const b=p(w),A=j(b);return n.jsxs("div",{className:"planning-shift",style:{color:A},children:[v(w.startTime)," - ",v(w.endTime),n.jsx("br",{}),n.jsx("small",{style:{color:A},children:b})]},y)}),n.jsxs("small",{style:{color:"#666"},children:[D.totalHours.toFixed(1),"h"]})]}):D&&D.constraint?n.jsx("div",{className:"planning-constraint",style:{color:D.constraint==="MAL"?"#dc3545":"#666",fontWeight:D.constraint==="MAL"?"bold":"normal"},children:D.constraint}):n.jsx("span",{style:{color:"#999"},children:""})},k)}),n.jsxs("td",{style:{fontWeight:"bold"},children:[x.schedule.reduce((k,D)=>k+(D.totalHours||0),0).toFixed(1),"h",n.jsx("br",{}),n.jsxs("small",{style:{color:"#666"},children:["/",x.contractedHours,"h"]})]}),n.jsxs("td",{children:[x.status==="generated"&&n.jsx("button",{className:"btn btn-primary",onClick:()=>f(x._id),style:{fontSize:"0.8rem",padding:"0.25rem 0.5rem"},children:" Marquer comme ralis"}),x.status==="realized"&&n.jsx("span",{className:"badge badge-success",children:" Ralis"})]})]},x.employeeId))})]})})]})]})]})},ay=()=>{const[e,t]=N.useState(""),[r,s]=N.useState(new Date().getFullYear()),[a,l]=N.useState([]),[i,o]=N.useState({}),[c,d]=N.useState({Lundi:2,Mardi:2,Mercredi:2,Jeudi:2,Vendredi:2,Samedi:2,Dimanche:2}),[m,p]=N.useState(!1),[j,S]=N.useState({}),h=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"],f=[{value:"",label:"Travail normal"},{value:"Ferm",label:"Ferm"},{value:"Matin",label:"Matin seulement"},{value:"Aprs-midi",label:"Aprs-midi seulement"},{value:"Repos",label:"Repos"},{value:"Formation",label:"Formation (8h)"},{value:"CP",label:"Cong pay"},{value:"MAL",label:"Maladie"},{value:"ABS",label:"Absence"},{value:"RET",label:"Retard"},{value:"Fri",label:"Jour fri"},{value:"Management",label:"Management"}];N.useEffect(()=>{u();const M=v(new Date);t(M)},[]),N.useEffect(()=>{if(a.length>0&&Object.keys(i).length>0){const _={...i};let M=!1;a.forEach(T=>{T.contractType==="Apprentissage"&&T.trainingDays&&T.trainingDays.forEach(F=>{var I;((I=i[T._id])==null?void 0:I[F])!=="Formation"&&(_[T._id]||(_[T._id]={}),_[T._id][F]="Formation",M=!0)})}),M&&o(_)}},[a,i]);const v=_=>{const M=new Date(Date.UTC(_.getFullYear(),_.getMonth(),_.getDate())),T=M.getUTCDay()||7;M.setUTCDate(M.getUTCDate()+4-T);const F=new Date(Date.UTC(M.getUTCFullYear(),0,1));return Math.ceil(((M-F)/864e5+1)/7)},u=async()=>{try{const _=await B.get("/employees");let M=null;_.data.success&&_.data.data?M=_.data.data:Array.isArray(_.data)&&(M=_.data),M?l(M.filter(T=>T.isActive)):(l([]),P.error("Format de donnes invalide"))}catch{P.error("Erreur lors du chargement des employs"),l([])}},g=async()=>{try{const _=await B.get(`/constraints/${e}/${r}`),M={};_.data.forEach(T=>{M[T.employeeId._id]=T.constraints}),o(M)}catch{const M={};a.forEach(T=>{M[T._id]={}}),o(M)}};N.useEffect(()=>{e&&r&&g()},[e,r,g]);const x=(_,M,T)=>{o(F=>({...F,[_]:{...F[_],[M]:T}}))},k=(_,M)=>{d(T=>({...T,[_]:parseInt(M)}))},D=(_,M)=>{o(T=>{const F={...T};return a.forEach(I=>{F[I._id]||(F[I._id]={}),F[I._id][_]=M}),F})},w=_=>{o(M=>{const T={...M};return T[_]||(T[_]={}),h.forEach(F=>{T[_][F]="MAL"}),T}),P.success("Maladie applique pour toute la semaine")},y=_=>{S(M=>({...M,[_]:!M[_]})),o(M=>{const T={...M};if(T[_]||(T[_]={}),j[_])h.forEach(F=>{T[_][F]=""}),P.success("6j/7 dsactiv pour cet employ");else{h.forEach(I=>{T[_][I]=""});const F="Dimanche";T[_][F]="Repos",P.success("6 jours de travail appliqus (1 jour de repos)")}return T})},b=async()=>{p(!0);try{const _=a.map(M=>{const T=i[M._id]||{},F={};return h.forEach(I=>{T[I]&&T[I].trim()!==""&&(F[I]=T[I])}),B.post("/constraints",{weekNumber:parseInt(e),year:parseInt(r),employeeId:M._id,constraints:F})});await Promise.all(_),P.success("Contraintes sauvegardes avec succs")}catch(_){console.error("Erreur dtaille:",_),P.error("Erreur lors de la sauvegarde des contraintes")}finally{p(!1)}},A=async()=>{try{await b(),window.location.href=`/planning?week=${e}&year=${r}`}catch{P.error("Erreur lors de la sauvegarde des contraintes")}},C=_=>({0:"Faible",1:"Moyen-faible",2:"Normal",3:"Moyen-fort",4:"Trs fort"})[_]||"Normal",z=_=>({Lundi:1,Mardi:2,Mercredi:3,Jeudi:4,Vendredi:5,Samedi:6,Dimanche:0})[_]||1;return n.jsxs("div",{className:"constraints fade-in",children:[n.jsx("h2",{children:"Contraintes hebdomadaires"}),n.jsx("div",{className:"card",children:n.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem",alignItems:"center"},children:[n.jsxs("div",{className:"form-group",style:{margin:0},children:[n.jsx("label",{children:"Semaine n"}),n.jsx("input",{type:"number",value:e,onChange:_=>t(_.target.value),min:"1",max:"52",style:{width:"80px"}})]}),n.jsxs("div",{className:"form-group",style:{margin:0},children:[n.jsx("label",{children:"Anne"}),n.jsx("input",{type:"number",value:r,onChange:_=>s(_.target.value),min:"2020",max:"2030",style:{width:"100px"}})]}),n.jsx("button",{className:"btn btn-primary",onClick:b,disabled:m,children:m?"Sauvegarde...":" Sauvegarder"})]})}),n.jsxs("div",{className:"card",children:[n.jsx("h3",{children:" Niveaux d'affluence"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"1rem"},children:h.map(_=>n.jsxs("div",{className:"form-group",style:{margin:0},children:[n.jsx("label",{children:_}),n.jsxs("select",{value:c[_],onChange:M=>k(_,M.target.value),children:[n.jsx("option",{value:0,children:"Faible (0)"}),n.jsx("option",{value:1,children:"Moyen-faible (1)"}),n.jsx("option",{value:2,children:"Normal (2)"}),n.jsx("option",{value:3,children:"Moyen-fort (3)"}),n.jsx("option",{value:4,children:"Trs fort (4)"})]}),n.jsx("small",{style:{color:"#666",display:"block",marginTop:"0.25rem"},children:C(c[_])})]},_))})]}),n.jsxs("div",{className:"card",children:[n.jsx("h3",{children:" Contraintes individuelles"}),n.jsx("div",{style:{overflowX:"auto"},children:n.jsxs("table",{className:"table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Employ"}),h.map(_=>n.jsxs("th",{children:[_,n.jsx("br",{}),n.jsx("button",{className:"btn btn-secondary",onClick:()=>D(_,"Ferm"),style:{fontSize:"0.7rem",padding:"0.25rem 0.5rem",marginTop:"0.25rem"},title:`Fermer ${_} pour tous`,children:"Fermer"}),n.jsx("br",{}),n.jsx("button",{className:"btn btn-warning",onClick:()=>D(_,"Fri"),style:{fontSize:"0.7rem",padding:"0.25rem 0.5rem",marginTop:"0.25rem"},title:`Enregistrer travail jour fri pour ${_}`,children:"Jour fri"})]},_))]})}),n.jsx("tbody",{children:a.map(_=>n.jsxs("tr",{children:[n.jsxs("td",{style:{fontWeight:"bold"},children:[_.name,n.jsx("br",{}),n.jsxs("small",{style:{color:"#666"},children:[_.role,"  ",_.weeklyHours,"h"]}),n.jsx("br",{}),n.jsx("button",{className:"btn btn-danger",onClick:()=>w(_._id),style:{fontSize:"0.7rem",padding:"0.25rem 0.5rem",marginTop:"0.25rem"},title:"Dclarer maladie pour toute la semaine",children:" Maladie"}),n.jsx("br",{}),n.jsx("button",{className:`btn btn-info ${j[_._id]?"active":""}`,onClick:()=>y(_._id),style:{fontSize:"0.7rem",padding:"0.25rem 0.5rem",marginTop:"0.25rem",backgroundColor:j[_._id]?"#17a2b8":"#6c757d",color:"white"},title:j[_._id]?"Dsactiver 6j/7":"Appliquer 6 jours de travail (1 jour de repos)",children:j[_._id]?" 6j/7":" 6j/7"})]}),h.map(M=>{var T,F;return n.jsx("td",{children:(T=_.sickLeave)!=null&&T.isOnSickLeave&&new Date(_.sickLeave.startDate)<=new Date(`${r}-${String(parseInt(e)+1).padStart(2,"0")}-${z(M)}`)&&new Date(_.sickLeave.endDate)>=new Date(`${r}-${String(parseInt(e)+1).padStart(2,"0")}-${z(M)}`)?n.jsx("div",{style:{backgroundColor:"#f8d7da",color:"#721c24",padding:"0.5rem",borderRadius:"4px",textAlign:"center",fontWeight:"bold"},children:" Maladie"}):n.jsx("select",{value:((F=i[_._id])==null?void 0:F[M])||"",onChange:I=>x(_._id,M,I.target.value),style:{width:"100%",fontSize:"0.9rem"},children:f.map(I=>n.jsx("option",{value:I.value,children:I.label},I.value))})},M)})]},_._id))})]})})]}),n.jsxs("div",{className:"card",children:[n.jsx("h3",{children:" Actions"}),n.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[n.jsx("button",{className:"btn btn-success",onClick:A,disabled:m,children:m?" Sauvegarde...":" Gnrer le planning"}),n.jsx("button",{className:"btn btn-secondary",onClick:()=>{const _=parseInt(e)+1;t(_>52?1:_),_>52&&s(r+1)},children:"Semaine suivante"}),n.jsx("button",{className:"btn btn-secondary",onClick:()=>{const _=parseInt(e)-1;t(_<1?52:_),_<1&&s(r-1)},children:"Semaine prcdente"})]})]})]})},ly=()=>{const[e,t]=N.useState([]),[r,s]=N.useState(!0),[a,l]=N.useState([]);N.useEffect(()=>{i(),o()},[]);const i=async()=>{try{s(!0);const h=await B.get("/employees");let f=null;h.data.success&&h.data.data?f=h.data.data:Array.isArray(h.data)&&(f=h.data),f?t(f):(t([]),console.error("Format de donnes invalide:",h.data))}catch(h){console.error("Erreur lors du chargement du tableau de bord:",h),t([])}finally{s(!1)}},o=async()=>{try{const h=await B.get("/onboarding-offboarding/pending-obligations");h.data.success&&h.data.data&&l(h.data.data)}catch(h){console.error("Erreur lors du chargement des obligations lgales:",h),l([])}},c=e.filter(h=>{var f,v;if(!((f=h.sickLeave)!=null&&f.isOnSickLeave))return!1;if((v=h.sickLeave)!=null&&v.endDate){const u=new Date(h.sickLeave.endDate);if(Math.floor((new Date-u)/(1e3*60*60*24))>8)return!1}return!0}),d=e.filter(h=>{var f,v;if(!((f=h.vacation)!=null&&f.isOnVacation))return!1;if((v=h.vacation)!=null&&v.startDate){const u=new Date(h.vacation.startDate);if(Math.floor((u-new Date)/(1e3*60*60*24))>8)return!1}return!0}),m=e.filter(h=>h.age<18),p=e.filter(h=>h.contractType==="Apprentissage"),j=h=>h?new Date(h).toLocaleDateString("fr-FR"):"-",S=h=>{if(!h)return 0;const u=new Date(h)-new Date;return Math.ceil(u/(1e3*60*60*24))};return r?n.jsx("div",{className:"card",children:n.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[n.jsx("div",{className:"loading"}),n.jsx("p",{children:"Chargement du tableau de bord..."})]})}):n.jsxs("div",{className:"dashboard fade-in",children:[n.jsx("h2",{children:" Tableau de bord"}),n.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[n.jsx("h3",{children:" Rcapitulatif : Arrts maladie"}),c.length===0?n.jsx("p",{children:"Aucun employ en arrt maladie"}):n.jsx("div",{style:{overflowX:"auto"},children:n.jsxs("table",{className:"table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Nom"}),n.jsx("th",{children:"Date de reprise"}),n.jsx("th",{children:"Jours avant reprise"})]})}),n.jsx("tbody",{children:c.map(h=>{var f;return n.jsxs("tr",{children:[n.jsx("td",{children:h.name}),n.jsx("td",{children:j((f=h.sickLeave)==null?void 0:f.endDate)}),n.jsx("td",{children:(()=>{var u;const v=S((u=h.sickLeave)==null?void 0:u.endDate);return n.jsx("span",{style:{color:v>0?"#28a745":"#dc3545",fontWeight:"bold"},children:v>0?`${v} jours`:"Repris"})})()})]},h._id)})})]})})]}),n.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[n.jsx("h3",{children:" Rcapitulatif : Congs"}),d.length===0?n.jsx("p",{children:"Aucun employ en congs dans les 8 prochains jours"}):n.jsx("div",{style:{overflowX:"auto"},children:n.jsxs("table",{className:"table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Nom"}),n.jsx("th",{children:"Date de dbut"}),n.jsx("th",{children:"Date de fin"}),n.jsx("th",{children:"Jours avant congs"})]})}),n.jsx("tbody",{children:d.map(h=>{var f,v;return n.jsxs("tr",{children:[n.jsx("td",{children:h.name}),n.jsx("td",{children:j((f=h.vacation)==null?void 0:f.startDate)}),n.jsx("td",{children:j((v=h.vacation)==null?void 0:v.endDate)}),n.jsx("td",{children:(()=>{var g;const u=S((g=h.vacation)==null?void 0:g.startDate);return n.jsx("span",{style:{color:u>0?"#ffc107":"#28a745",fontWeight:"bold"},children:u>0?`${u} jours`:"En congs"})})()})]},h._id)})})]})})]}),n.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[n.jsx("h3",{children:" tat ge : Salaris mineurs"}),m.length===0?n.jsx("p",{children:"Aucun employ mineur"}):n.jsx("div",{style:{overflowX:"auto"},children:n.jsxs("table",{className:"table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Nom"}),n.jsx("th",{children:"Date des 18 ans"}),n.jsx("th",{children:"Jours avant les 18 ans"})]})}),n.jsx("tbody",{children:m.map(h=>n.jsxs("tr",{children:[n.jsx("td",{children:h.name}),n.jsx("td",{children:(()=>{const v=18-h.age,u=new Date,g=new Date(u.getFullYear()+v,u.getMonth(),u.getDate());return j(g)})()}),n.jsx("td",{children:(()=>{const v=18-h.age,u=new Date,g=new Date(u.getFullYear()+v,u.getMonth(),u.getDate()),x=S(g);return n.jsx("span",{style:{color:x>0?"#ffc107":"#28a745",fontWeight:"bold"},children:x>0?`${x} jours`:"Majeur"})})()})]},h._id))})]})})]}),n.jsxs("div",{className:"card",children:[n.jsx("h3",{children:" tat Contrat : Apprentis"}),p.length===0?n.jsx("p",{children:"Aucun apprenti"}):n.jsx("div",{style:{overflowX:"auto"},children:n.jsxs("table",{className:"table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Nom"}),n.jsx("th",{children:"Date de fin de contrat"}),n.jsx("th",{children:"Jours avant fin de contrat"})]})}),n.jsx("tbody",{children:p.map(h=>n.jsxs("tr",{children:[n.jsx("td",{children:h.name}),n.jsx("td",{children:j(h.contractEndDate)}),n.jsx("td",{children:(()=>{const f=S(h.contractEndDate);return n.jsx("span",{style:{color:f>30?"#28a745":f>7?"#ffc107":"#dc3545",fontWeight:"bold"},children:f>0?`${f} jours`:"Termin"})})()})]},h._id))})]})})]}),n.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[n.jsx("h3",{children:" Obligations Lgales"}),a.length===0?n.jsxs("div",{style:{textAlign:"center",padding:"2rem",backgroundColor:"#d4edda",color:"#155724",borderRadius:"8px",border:"1px solid #c3e6cb"},children:[n.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:"48px",height:"48px",marginBottom:"1rem"},children:n.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),n.jsx("p",{style:{fontWeight:"bold",fontSize:"1.1rem"},children:" Toutes les obligations lgales sont  jour !"})]}):n.jsxs("div",{style:{overflowX:"auto"},children:[n.jsx("div",{style:{padding:"0.75rem",backgroundColor:"#fff3cd",color:"#856404",borderRadius:"8px",marginBottom:"1rem",border:"1px solid #ffeaa7"},children:n.jsxs("strong",{children:[" ",a.length," dmarche(s) administrative(s) en attente"]})}),n.jsxs("table",{className:"table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Employ"}),n.jsx("th",{children:"Dmarche"}),n.jsx("th",{children:"Commentaire"})]})}),n.jsx("tbody",{children:a.map((h,f)=>n.jsxs("tr",{children:[n.jsx("td",{style:{fontWeight:"bold"},children:h.employeeName}),n.jsx("td",{children:n.jsx("span",{style:{padding:"0.25rem 0.75rem",backgroundColor:"#f8d7da",color:"#721c24",borderRadius:"4px",fontSize:"0.9rem",fontWeight:"500"},children:h.taskLabel})}),n.jsx("td",{style:{color:"#6c757d",fontStyle:"italic"},children:h.comment||"-"})]},f))})]})]})]}),n.jsxs("div",{className:"card",children:[n.jsx("h3",{children:" Statistiques gnrales"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[n.jsxs("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[n.jsx("h4",{children:e.length}),n.jsx("p",{children:"Total employs"})]}),n.jsxs("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[n.jsx("h4",{children:e.filter(h=>h.isActive).length}),n.jsx("p",{children:"Employs actifs"})]}),n.jsxs("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[n.jsx("h4",{children:c.length}),n.jsx("p",{children:"En arrt maladie"})]}),n.jsxs("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[n.jsx("h4",{children:d.length}),n.jsx("p",{children:"En congs (8j)"})]}),n.jsxs("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[n.jsx("h4",{children:m.length}),n.jsx("p",{children:"Employs mineurs"})]}),n.jsxs("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[n.jsx("h4",{children:p.length}),n.jsx("p",{children:"Apprentis"})]}),n.jsxs("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"#fff3cd",borderRadius:"8px",border:"2px solid #ffc107"},children:[n.jsx("h4",{style:{color:"#856404"},children:a.length}),n.jsx("p",{style:{color:"#856404"},children:"Obligations lgales"})]})]})]})]})},iy=()=>{const[r,s]=N.useState([]),[a,l]=N.useState({}),[i,o]=N.useState(""),[c,d]=N.useState(new Date().getFullYear()),[m,p]=N.useState({}),[j,S]=N.useState(!1);N.useEffect(()=>{const w=new Date,y=String(w.getMonth()+1).padStart(2,"0"),b=w.getFullYear();o(y),d(b)},[]),N.useEffect(()=>{h()},[]);const h=async()=>{try{const w=await fetch("https://boulangerie-planning-api-4-pbfy.onrender.com/api/employees");if(w.ok){const y=await w.json();let b=[];Array.isArray(y)?b=y:y.success&&Array.isArray(y.data)?b=y.data:y.employees&&Array.isArray(y.employees)&&(b=y.employees),s(b),console.log(" Employs chargs pour SalesStats:",b.length,b);const A={};b.forEach(C=>{A[C._id]={caNetHt:0,nbClients:0,panierMoyen:0,nbMenus:0,nbCartesFid:0,nbAvisPositifs:0,nbAvisNegatifs:0}}),l(A)}}catch(w){console.error("Erreur lors du chargement des employs:",w)}},f=(w,y,b)=>{l(A=>({...A,[w]:{...A[w],[y]:parseFloat(b)||0}}))},v=w=>w.caNetHt+w.nbCartesFid*500+w.nbAvisPositifs*100-w.nbAvisNegatifs*300,u=async()=>{S(!0);try{const w={month:parseInt(i),year:c,salesData:a},y=await fetch("https://boulangerie-planning-api-4-pbfy.onrender.com/api/sales-stats",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)});if(y.ok){const b=await y.json();console.log(" Donnes sauvegardes:",b),await g(),await x(),alert("Donnes de vente sauvegardes avec succs !")}else{const b=await y.json();console.error(" Erreur API:",b),alert(`Erreur lors de la sauvegarde: ${b.error||"Erreur inconnue"}`)}}catch(w){console.error("Erreur lors de la sauvegarde:",w),alert("Erreur lors de la sauvegarde")}finally{S(!1)}},g=N.useCallback(async()=>{try{const w=await fetch(`https://boulangerie-planning-api-4-pbfy.onrender.com/api/sales-stats/period/${i}/${c}`);if(w.ok){const y=await w.json();if(y.success&&y.data&&y.data.salesData){const b={},A={};r.forEach(C=>{A[C.name]=C._id}),Object.keys(y.data.salesData).forEach(C=>{const z=y.data.salesData[C],_=z.employeeName,M=A[_];M&&(b[M]={caNetHt:z.caNetHt||0,nbClients:z.nbClients||0,panierMoyen:z.panierMoyen||0,nbMenus:z.nbMenus||0,nbCartesFid:z.nbCartesFid||0,nbAvisPositifs:z.nbAvisPositifs||0,nbAvisNegatifs:z.nbAvisNegatifs||0})}),l(b),console.log(" Donnes recharges par nom:",b)}}}catch(w){console.error("Erreur lors du chargement des donnes de la priode:",w)}},[i,c]);N.useEffect(()=>{r.length>0&&i&&c&&g()},[r,i,c,g]);const x=N.useCallback(async()=>{try{const w=await fetch(`https://boulangerie-planning-api-4-pbfy.onrender.com/api/sales-stats/monthly/${c}`);if(w.ok){const y=await w.json();y.success&&p(y.data||{})}}catch(w){console.error("Erreur lors du chargement des stats mensuelles:",w)}},[c]);N.useEffect(()=>{c&&x()},[c,x]),N.useEffect(()=>{i&&c&&(l({}),g())},[i,c,g]);const k=w=>["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"][parseInt(w)-1],D=()=>Array.from({length:8},(w,y)=>{const b=new Date().getFullYear()-3+y;return n.jsx("option",{value:b,children:b},b)});return n.jsxs("div",{className:"sales-stats-container",children:[n.jsxs("div",{className:"sales-stats-header",children:[n.jsx("h1",{children:" Statistiques de Vente"}),n.jsxs("div",{className:"period-selector",children:[n.jsx("select",{value:i,onChange:w=>o(w.target.value),className:"month-select",children:Array.from({length:12},(w,y)=>n.jsx("option",{value:String(y+1).padStart(2,"0"),children:k(String(y+1).padStart(2,"0"))},y+1))}),n.jsx("select",{value:c,onChange:w=>d(parseInt(w.target.value)),className:"year-select",children:D()}),n.jsx("button",{onClick:()=>{l({}),g()},className:"refresh-button",title:"Actualiser les donnes du mois slectionn",children:" Actualiser"})]})]}),n.jsxs("div",{className:"sales-stats-content",children:[n.jsxs("div",{className:"sales-form-section",children:[n.jsx("h2",{children:" Saisie des donnes mensuelles"}),n.jsxs("div",{className:"sales-form",children:[n.jsxs("table",{className:"sales-form-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Vendeuse"}),n.jsx("th",{children:"CA Net HT"}),n.jsx("th",{children:"Nb Clients"}),n.jsx("th",{children:"Panier Moyen"}),n.jsx("th",{children:"Nb Menus"}),n.jsx("th",{children:"Nb Cartes Fid"}),n.jsx("th",{children:"Nb Avis +"}),n.jsx("th",{children:"Nb Avis -"}),n.jsx("th",{children:"Score"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:(console.log(" Rendu tableau SalesStats - employs:",r.length,r),Array.isArray(r)&&r.length>0?r.map(w=>{var y,b,A,C,z,_,M;return n.jsxs("tr",{children:[n.jsx("td",{className:"employee-name",children:w.name}),n.jsx("td",{children:n.jsx("input",{type:"number",value:((y=a[w._id])==null?void 0:y.caNetHt)||0,onChange:T=>f(w._id,"caNetHt",T.target.value),placeholder:"0",min:"0",step:"0.01"})}),n.jsx("td",{children:n.jsx("input",{type:"number",value:((b=a[w._id])==null?void 0:b.nbClients)||0,onChange:T=>f(w._id,"nbClients",T.target.value),placeholder:"0",min:"0"})}),n.jsx("td",{children:n.jsx("input",{type:"number",value:((A=a[w._id])==null?void 0:A.panierMoyen)||0,onChange:T=>f(w._id,"panierMoyen",T.target.value),placeholder:"0",min:"0",step:"0.01"})}),n.jsx("td",{children:n.jsx("input",{type:"number",value:((C=a[w._id])==null?void 0:C.nbMenus)||0,onChange:T=>f(w._id,"nbMenus",T.target.value),placeholder:"0",min:"0"})}),n.jsx("td",{children:n.jsx("input",{type:"number",value:((z=a[w._id])==null?void 0:z.nbCartesFid)||0,onChange:T=>f(w._id,"nbCartesFid",T.target.value),placeholder:"0",min:"0"})}),n.jsx("td",{children:n.jsx("input",{type:"number",value:((_=a[w._id])==null?void 0:_.nbAvisPositifs)||0,onChange:T=>f(w._id,"nbAvisPositifs",T.target.value),placeholder:"0",min:"0"})}),n.jsx("td",{children:n.jsx("input",{type:"number",value:((M=a[w._id])==null?void 0:M.nbAvisNegatifs)||0,onChange:T=>f(w._id,"nbAvisNegatifs",T.target.value),placeholder:"0",min:"0"})}),n.jsx("td",{className:"score-cell",children:n.jsx("strong",{children:v(a[w._id]||{}).toFixed(0)})}),n.jsx("td",{className:"actions-cell",children:n.jsx("button",{onClick:()=>{if(window.confirm(` tes-vous sr de vouloir effacer les donnes de ${w.name} pour ce mois ?`)){const T={...a};T[w._id]={caNetHt:0,nbClients:0,panierMoyen:0,nbMenus:0,nbCartesFid:0,nbAvisPositifs:0,nbAvisNegatifs:0},l(T)}},className:"delete-employee-button",title:`Effacer les donnes de ${w.name}`,children:""})})]},w._id)}):n.jsx("tr",{children:n.jsx("td",{colSpan:"10",style:{textAlign:"center",padding:"20px"},children:"Aucun employ trouv"})}))})]}),n.jsx("div",{className:"form-actions",children:n.jsx("button",{onClick:u,disabled:j,className:"save-button",children:j?" Sauvegarde...":" Sauvegarder"})})]})]}),n.jsxs("div",{className:"ranking-section",children:[n.jsx("h2",{children:" Classement des Vendeuses"}),n.jsx("div",{className:"ranking-header",children:n.jsxs("div",{className:"ranking-selectors",children:[n.jsxs("div",{className:"selector-group",children:[n.jsx("label",{children:"Mois :"}),n.jsx("select",{value:i,onChange:w=>o(w.target.value),className:"month-select-ranking",children:Array.from({length:12},(w,y)=>n.jsx("option",{value:String(y+1).padStart(2,"0"),children:k(String(y+1).padStart(2,"0"))},y+1))})]}),n.jsxs("div",{className:"selector-group",children:[n.jsx("label",{children:"Anne :"}),n.jsx("select",{value:c,onChange:w=>d(parseInt(w.target.value)),className:"year-select-ranking",children:D()})]})]})}),n.jsxs("div",{className:"ranking-table",children:[n.jsxs("table",{children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Rang"}),n.jsx("th",{children:"Vendeuse"}),n.jsx("th",{children:"Score"}),n.jsx("th",{children:"CA Net HT"}),n.jsx("th",{children:"Cartes Fid"}),n.jsx("th",{children:"Avis +"}),n.jsx("th",{children:"Avis -"})]})}),n.jsx("tbody",{children:r.map(w=>{const y=a[w._id]||{},b=v(y);return{emp:w,data:y,score:b}}).sort((w,y)=>y.score-w.score).map(({emp:w,data:y,score:b},A)=>n.jsxs("tr",{className:A<3?"top-three":"",children:[n.jsxs("td",{className:"rank",children:["#",A+1]}),n.jsx("td",{className:"employee-name",children:w.name}),n.jsx("td",{className:"score",children:n.jsx("strong",{children:b.toFixed(0)})}),n.jsxs("td",{children:[y.caNetHt||0,""]}),n.jsx("td",{children:y.nbCartesFid||0}),n.jsx("td",{className:"positive",children:y.nbAvisPositifs||0}),n.jsx("td",{className:"negative",children:y.nbAvisNegatifs||0})]},w._id))})]}),n.jsxs("div",{className:"annual-total",children:[n.jsxs("h3",{children:[" Total Anne ",c]}),n.jsxs("div",{className:"total-stats",children:[n.jsxs("div",{className:"total-item",children:[n.jsx("span",{className:"total-label",children:"CA Total :"}),n.jsxs("span",{className:"total-value",children:[r.reduce((w,y)=>{var b;return w+(((b=a[y._id])==null?void 0:b.caNetHt)||0)},0).toFixed(2),""]})]}),n.jsxs("div",{className:"total-item",children:[n.jsx("span",{className:"total-label",children:"Cartes Fid Total :"}),n.jsx("span",{className:"total-value",children:r.reduce((w,y)=>{var b;return w+(((b=a[y._id])==null?void 0:b.nbCartesFid)||0)},0)})]}),n.jsxs("div",{className:"total-item",children:[n.jsx("span",{className:"total-label",children:"Avis + Total :"}),n.jsx("span",{className:"total-value positive",children:r.reduce((w,y)=>{var b;return w+(((b=a[y._id])==null?void 0:b.nbAvisPositifs)||0)},0)})]}),n.jsxs("div",{className:"total-item",children:[n.jsx("span",{className:"total-label",children:"Avis - Total :"}),n.jsx("span",{className:"total-value negative",children:r.reduce((w,y)=>{var b;return w+(((b=a[y._id])==null?void 0:b.nbAvisNegatifs)||0)},0)})]})]})]})]})]}),n.jsxs("div",{className:"monthly-comparison-section",children:[n.jsx("h2",{children:" Comparaison sur 12 mois"}),n.jsx("div",{className:"monthly-comparison-header",children:n.jsxs("div",{className:"year-selector",children:[n.jsx("label",{children:"Anne :"}),n.jsx("select",{value:c,onChange:w=>d(parseInt(w.target.value)),className:"year-select-compare",children:D()})]})}),n.jsx("div",{className:"monthly-stats",children:n.jsxs("table",{children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Mois"}),n.jsx("th",{children:"CA Total"}),n.jsx("th",{children:"Clients Total"}),n.jsx("th",{children:"Cartes Fid Total"}),n.jsx("th",{children:"Avis + Total"}),n.jsx("th",{children:"Avis - Total"})]})}),n.jsx("tbody",{children:Array.from({length:12},(w,y)=>{const b=String(y+1).padStart(2,"0"),A=m[b]||{};return n.jsxs("tr",{className:b===i?"current-month":"",children:[n.jsx("td",{children:k(b)}),n.jsxs("td",{children:[A.totalCA||0,""]}),n.jsx("td",{children:A.totalClients||0}),n.jsx("td",{children:A.totalCartesFid||0}),n.jsx("td",{className:"positive",children:A.totalAvisPositifs||0}),n.jsx("td",{className:"negative",children:A.totalAvisNegatifs||0})]},b)})})]})})]})]})]})},oy=({employees:e})=>{const[t,r]=N.useState("month"),[s,a]=N.useState(new Date().getMonth()+1),[l,i]=N.useState(new Date().getFullYear()),[o,c]=N.useState({total:{absences:0,sickLeave:0,delays:0,total:0},byEmployee:[]}),d=N.useCallback(()=>{try{if(!Array.isArray(e)){console.log(" employees n'est pas un tableau:",typeof e,e),c({total:{absences:0,sickLeave:0,delays:0,total:0},byEmployee:[]});return}let p,j;switch(t){case"year":p=new Date(l,0,1),j=new Date(l,11,31);break;case"month":p=new Date(l,s-1,1),j=new Date(l,s,0);break;case"week":const f=new Date,v=new Date(f);v.setDate(f.getDate()-f.getDay()+1);const u=new Date(v);u.setDate(v.getDate()+6),p=v,j=u;break;default:p=new Date(l,s-1,1),j=new Date(l,s,0)}console.log(" Priode slectionne:",{selectedPeriod:t,startDate:p,endDate:j}),console.log(" Nombre d'employs:",e.length),console.log(" Debug complet des employs:"),e.forEach((f,v)=>{console.log(` Employ ${v+1} (${f.name}):`,{name:f.name,sickLeave:f.sickLeave,isOnSickLeave:f.isOnSickLeave,startDate:f.startDate,endDate:f.endDate,absences:f.absences,sickLeaves:f.sickLeaves,delays:f.delays})});const S=e.map(f=>{var y,b,A,C,z,_;const v=((y=f.absences)==null?void 0:y.all)||f.absences||[],u=((b=f.sickLeaves)==null?void 0:b.all)||f.sickLeaves||[],g=((A=f.delays)==null?void 0:A.all)||f.delays||[],x=Array.isArray(v)?v.filter(M=>{const T=new Date(M.date);return T>=p&&T<=j}):[];let k=[];if((C=f.sickLeave)!=null&&C.isOnSickLeave&&((z=f.sickLeave)!=null&&z.startDate)&&((_=f.sickLeave)!=null&&_.endDate)){const M=new Date(f.sickLeave.startDate),T=new Date(f.sickLeave.endDate);M<=j&&T>=p&&k.push({startDate:f.sickLeave.startDate,endDate:f.sickLeave.endDate})}const D=v.filter(M=>M.type==="Arrt maladie"&&new Date(M.startDate)<=j&&new Date(M.endDate)>=p);if(k=k.concat(D),Array.isArray(u)){const M=u.filter(T=>{const F=new Date(T.startDate),I=new Date(T.endDate);return F<=j&&I>=p});k=[...k,...M]}const w=Array.isArray(g)?g.filter(M=>{const T=new Date(M.date);return T>=p&&T<=j}):[];return{id:f._id,name:f.name,absences:x.length,sickLeave:k.reduce((M,T)=>{const F=new Date(T.startDate),I=new Date(T.endDate),Q=Math.ceil((I-F)/(1e3*60*60*24))+1;return M+Q},0),delays:w.length,total:x.length+k.length+w.length}}),h=S.reduce((f,v)=>({absences:f.absences+v.absences,sickLeave:f.sickLeave+v.sickLeave,delays:f.delays+v.delays,total:f.total+v.total}),{absences:0,sickLeave:0,delays:0,total:0});c({total:h,byEmployee:S})}catch(p){console.error(" Erreur dans calculateAbsenceStats:",p),console.error(" Type d'erreur:",p.name,p.message),console.error(" Stack trace:",p.stack),c({total:{absences:0,sickLeave:0,delays:0,total:0},byEmployee:[]})}},[e,t,s,l]);N.useEffect(()=>{d()},[d]);const m=()=>{const p=new Date;switch(t){case"year":return`${p.getFullYear()}`;case"month":return`${p.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}`;case"week":const j=new Date(p);j.setDate(p.getDate()-p.getDay()+1);const S=new Date(j);return S.setDate(j.getDate()+6),`Semaine du ${j.toLocaleDateString("fr-FR")} au ${S.toLocaleDateString("fr-FR")}`;default:return`${p.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}`}};return n.jsxs("div",{className:"absence-status",children:[n.jsxs("div",{className:"status-header",children:[n.jsx("h2",{children:" tat des absences"}),n.jsxs("div",{className:"period-selector",children:[n.jsx("button",{className:`period-btn ${t==="month"?"active":""}`,onClick:()=>r("month"),children:"Mois"}),n.jsx("button",{className:`period-btn ${t==="year"?"active":""}`,onClick:()=>r("year"),children:"Anne"}),n.jsx("button",{className:`period-btn ${t==="week"?"active":""}`,onClick:()=>r("week"),children:"Semaine"})]}),n.jsxs("div",{className:"date-selectors",children:[n.jsxs("div",{className:"date-selector",children:[n.jsx("label",{children:"Mois"}),n.jsxs("select",{value:s,onChange:p=>a(parseInt(p.target.value)),className:"form-control",children:[n.jsx("option",{value:1,children:"Janvier"}),n.jsx("option",{value:2,children:"Fvrier"}),n.jsx("option",{value:3,children:"Mars"}),n.jsx("option",{value:4,children:"Avril"}),n.jsx("option",{value:5,children:"Mai"}),n.jsx("option",{value:6,children:"Juin"}),n.jsx("option",{value:7,children:"Juillet"}),n.jsx("option",{value:8,children:"Aot"}),n.jsx("option",{value:9,children:"Septembre"}),n.jsx("option",{value:10,children:"Octobre"}),n.jsx("option",{value:11,children:"Novembre"}),n.jsx("option",{value:12,children:"Dcembre"})]})]}),n.jsxs("div",{className:"date-selector",children:[n.jsx("label",{children:"Anne"}),n.jsxs("select",{value:l,onChange:p=>i(parseInt(p.target.value)),className:"form-control",children:[n.jsx("option",{value:2024,children:"2024"}),n.jsx("option",{value:2025,children:"2025"}),n.jsx("option",{value:2026,children:"2026"})]})]})]})]}),n.jsxs("div",{className:"stats-grid",children:[n.jsxs("div",{className:"stat-card total",children:[n.jsx("div",{className:"stat-icon",children:n.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14h-2v-2h2v2zm0-4h-2V7h2v6z"})})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{className:"stat-value",children:o.total.total}),n.jsx("p",{className:"stat-label",children:"Total des absences"}),n.jsx("p",{className:"stat-period",children:m()})]})]}),n.jsxs("div",{className:"stat-card maladie",children:[n.jsx("div",{className:"stat-icon",children:n.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14h-2v-2h2v2zm0-4h-2V7h2v6z"})})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{className:"stat-value",children:o.total.sickLeave}),n.jsx("p",{className:"stat-label",children:"Arrts maladie"}),n.jsx("p",{className:"stat-period",children:m()})]})]}),n.jsxs("div",{className:"stat-card absence",children:[n.jsx("div",{className:"stat-icon",children:n.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14h-2v-2h2v2zm0-4h-2V7h2v6z"})})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{className:"stat-value",children:o.total.absences}),n.jsx("p",{className:"stat-label",children:"Absences"}),n.jsx("p",{className:"stat-period",children:m()})]})]}),n.jsxs("div",{className:"stat-card retard",children:[n.jsx("div",{className:"stat-icon",children:n.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),n.jsxs("div",{className:"stat-content",children:[n.jsx("h3",{className:"stat-value",children:o.total.delays}),n.jsx("p",{className:"stat-label",children:"Retards"}),n.jsx("p",{className:"stat-period",children:m()})]})]})]}),n.jsxs("div",{className:"employee-details",children:[n.jsx("h3",{children:"Dtail par employ"}),o.byEmployee.length>0?n.jsx("div",{className:"employee-stats",children:o.byEmployee.map(p=>n.jsxs("div",{className:"employee-stat-card",children:[n.jsxs("div",{className:"employee-info",children:[n.jsx("h4",{className:"employee-name",children:p.name}),n.jsx("span",{className:"employee-role",children:p.role})]}),n.jsxs("div",{className:"employee-stats-grid",children:[n.jsxs("div",{className:"mini-stat",children:[n.jsx("span",{className:"mini-stat-value",children:p.total}),n.jsx("span",{className:"mini-stat-label",children:"Total"})]}),n.jsxs("div",{className:"mini-stat maladie",children:[n.jsx("span",{className:"mini-stat-value",children:p.sickLeave}),n.jsx("span",{className:"mini-stat-label",children:"Maladie"})]}),n.jsxs("div",{className:"mini-stat absence",children:[n.jsx("span",{className:"mini-stat-value",children:p.absences}),n.jsx("span",{className:"mini-stat-label",children:"Absence"})]}),n.jsxs("div",{className:"mini-stat retard",children:[n.jsx("span",{className:"mini-stat-value",children:p.delays}),n.jsx("span",{className:"mini-stat-label",children:"Retard"})]})]})]},p.id))}):n.jsxs("div",{className:"no-data",children:[n.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"no-data-icon",children:n.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14h-2v-2h2v2zm0-4h-2V7h2v6z"})}),n.jsx("p",{children:"Aucune absence enregistre pour cette priode"})]})]})]})},cy=()=>{const[e,t]=N.useState([]),[r,s]=N.useState(!0),[a,l]=N.useState("status"),[i,o]=N.useState(!1),[c,d]=N.useState(!1);N.useEffect(()=>{m()},[]);const m=async()=>{var S,h,f;try{s(!0);const v=await B.get("/employees");if(console.log(" Donnes employs reues:",v.data),v.data&&v.data.length>0){const g=v.data[0];console.log(" Premier employ:",{id:g._id,name:g.name,hasAbsences:!!g.absences,hasSickLeaves:!!g.sickLeaves,hasDelays:!!g.delays,absencesCount:((S=g.absences)==null?void 0:S.length)||0,sickLeavesCount:((h=g.sickLeaves)==null?void 0:h.length)||0,delaysCount:((f=g.delays)==null?void 0:f.length)||0})}let u=null;v.data.success&&Array.isArray(v.data.data)?u=v.data.data:Array.isArray(v.data)&&(u=v.data),u?(t(u),console.log(" Employs chargs:",u.length)):(console.error(" Format de donnes invalide:",v.data),t([]))}catch(v){P.error("Erreur lors du chargement des employs"),console.error(v)}finally{s(!1)}};if(r)return n.jsx("div",{className:"absence-status-page",children:n.jsxs("div",{className:"loading-container",children:[n.jsx("div",{className:"loading-spinner"}),n.jsx("p",{children:"Chargement des donnes d'absences..."})]})});const p=async S=>{try{console.log(" Sauvegarde dclaration:",S),S.type==="maladie"?(await B.post("/sick-leaves",S),P.success("Arrt maladie dclar avec succs")):(await B.post("/absences",S),P.success("Absence dclare avec succs")),m()}catch(h){console.error(" Erreur sauvegarde dclaration:",h),P.error("Erreur lors de la dclaration")}},j=async S=>{try{console.log(" Sauvegarde retard:",S),await B.post("/delays",S),P.success("Retard dclar avec succs"),m()}catch(h){console.error(" Erreur sauvegarde retard:",h),P.error("Erreur lors de la dclaration du retard")}};return n.jsxs("div",{className:"absence-status-page",children:[n.jsx("div",{className:"tabs-container",children:n.jsxs("div",{className:"tabs-header",children:[n.jsx("button",{className:`tab-button ${a==="status"?"active":""}`,onClick:()=>l("status"),children:" tat des absences"}),n.jsx("button",{className:`tab-button ${a==="declare-maladie"?"active":""}`,onClick:()=>l("declare-maladie"),children:" Dclarer maladie/absence"}),n.jsx("button",{className:`tab-button ${a==="declare-delay"?"active":""}`,onClick:()=>l("declare-delay"),children:" Dclarer retard"})]})}),n.jsxs("div",{className:"tab-content",children:[a==="status"&&n.jsx(oy,{employees:e}),a==="declare-maladie"&&n.jsxs("div",{className:"declaration-section",children:[n.jsxs("div",{className:"declaration-header",children:[n.jsx("h2",{children:" Dclaration d'arrt maladie ou d'absence"}),n.jsx("p",{children:"Utilisez ce formulaire pour dclarer un arrt maladie ou une absence pour un employ."})]}),n.jsxs("button",{className:"btn btn-primary declaration-btn",onClick:()=>o(!0),children:[n.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"btn-icon",children:n.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14h-2v-2h2v2zm0-4h-2V7h2v6z"})}),"Ouvrir le formulaire de dclaration"]})]}),a==="declare-delay"&&n.jsxs("div",{className:"declaration-section",children:[n.jsxs("div",{className:"declaration-header",children:[n.jsx("h2",{children:" Dclaration de retard"}),n.jsx("p",{children:"Utilisez ce formulaire pour dclarer un retard pour un employ."})]}),n.jsxs("button",{className:"btn btn-primary declaration-btn",onClick:()=>d(!0),children:[n.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"btn-icon",children:n.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),"Ouvrir le formulaire de retard"]})]})]}),n.jsx(bf,{show:i,onClose:()=>o(!1),onSave:p,employees:e}),n.jsx(wf,{show:c,onClose:()=>d(!1),onSave:j,employees:e})]})},dy=()=>{const[e,t]=N.useState([]),[r,s]=N.useState(!1),[a,l]=N.useState(!1),[i,o]=N.useState(new Date().getMonth()+1),[c,d]=N.useState(new Date().getFullYear()),m=N.useCallback(async()=>{s(!0);try{const v=await B.get(`/meal-expenses?month=${i}&year=${c}`);console.log(" Donnes frais repas reues:",v.data);let u=[];Array.isArray(v.data)?u=v.data:v.data.success&&Array.isArray(v.data.data)?u=v.data.data:v.data.expenses&&Array.isArray(v.data.expenses)&&(u=v.data.expenses),t(u),console.log(" Frais repas chargs:",u.length,"employs,",f,"jours")}catch(v){console.error("Erreur lors du chargement des frais repas:",v),P.error("Erreur lors du chargement des frais repas")}finally{s(!1)}},[i,c]);N.useEffect(()=>{m()},[m]);const p=(v,u,g)=>{const x=[...e],k=x[v];let D=k.dailyExpenses.find(w=>w.day===u);D||(D={day:u,amount:0},k.dailyExpenses.push(D)),D.amount=parseFloat(g)||0,k.totalAmount=k.dailyExpenses.reduce((w,y)=>w+y.amount,0),t(x)},j=async()=>{l(!0);try{await B.post("/meal-expenses/batch",{month:i,year:c,expenses:e.map(v=>({employeeId:v.employeeId,employeeName:v.employeeName,dailyExpenses:v.dailyExpenses}))}),P.success("Frais repas sauvegards avec succs"),m()}catch(v){console.error("Erreur lors de la sauvegarde:",v),P.error("Erreur lors de la sauvegarde des frais repas")}finally{l(!1)}},S=()=>new Date(c,i,0).getDate(),h=v=>["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"][v-1],f=S();return r?n.jsx("div",{className:"meal-expenses fade-in",children:n.jsx("div",{className:"card",children:n.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[n.jsx("div",{className:"loading"}),n.jsx("p",{children:"Chargement des frais repas..."})]})})}):n.jsxs("div",{className:"meal-expenses fade-in",children:[n.jsxs("div",{className:"page-header",children:[n.jsxs("div",{className:"header-title-section",children:[n.jsx("h2",{children:" Frais Repas"}),n.jsxs("div",{className:"date-selector",children:[n.jsx("select",{value:i,onChange:v=>o(parseInt(v.target.value)),className:"form-control",children:Array.from({length:12},(v,u)=>n.jsx("option",{value:u+1,children:h(u+1)},u+1))}),n.jsx("select",{value:c,onChange:v=>d(parseInt(v.target.value)),className:"form-control",children:Array.from({length:10},(v,u)=>{const g=new Date().getFullYear()-2+u;return n.jsx("option",{value:g,children:g},g)})})]})]}),n.jsx("div",{className:"header-actions",children:n.jsx("button",{className:"btn btn-success",onClick:j,disabled:a,children:a?" Sauvegarde...":" Sauvegarder"})})]}),n.jsx("div",{className:"card",children:n.jsx("div",{className:"table-container",children:n.jsxs("table",{className:"meal-expenses-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"employee-column",children:"Salari"}),Array.from({length:f},(v,u)=>n.jsx("th",{className:"day-column",children:u+1},u+1))]})}),n.jsx("tbody",{children:e.map((v,u)=>n.jsxs("tr",{children:[n.jsxs("td",{className:"employee-cell",children:[n.jsx("span",{className:"employee-name",children:n.jsx("strong",{children:v.employeeName})}),n.jsxs("span",{className:"employee-total",children:[v.totalAmount.toFixed(2)," "]})]}),Array.from({length:f},(g,x)=>{const k=x+1,D=v.dailyExpenses.find(y=>y.day===k),w=D?D.amount:0;return n.jsx("td",{className:"day-cell",children:n.jsx("input",{type:"number",value:w,onChange:y=>p(u,k,y.target.value),min:"0",step:"0.01",className:"expense-input",placeholder:"0.00"})},k)})]},v.employeeId))})]})})}),e.length===0&&n.jsxs("div",{className:"card",style:{textAlign:"center",padding:"3rem"},children:[n.jsx("h3",{children:" Aucun employ trouv"}),n.jsx("p",{children:"Veuillez d'abord ajouter des employs dans la gestion des employs."})]})]})},uy=()=>{const[e,t]=N.useState([]),[r,s]=N.useState([]),[a,l]=N.useState(!1),[i,o]=N.useState(!1),[c,d]=N.useState(new Date().getMonth()+1),[m,p]=N.useState(new Date().getFullYear()),j=N.useCallback(async()=>{var v,u,g,x,k,D,w;l(!0);try{console.log(" Chargement des frais KM pour:",{month:c,year:m});const y=await B.get(`/km-expenses?month=${c}&year=${m}`);if(console.log(" Rponse API frais KM complte:",y.data),y.data){if(console.log(" Structure des donnes:",{hasEmployees:!!y.data.employees,hasParameters:!!y.data.parameters,employeesCount:((v=y.data.employees)==null?void 0:v.length)||0,parametersCount:((u=y.data.parameters)==null?void 0:u.length)||0}),y.data.employees&&y.data.employees.length>0){const b=y.data.employees[0];console.log(" Premier employ:",{id:b.employeeId,name:b.employeeName,hasParameterValues:!!b.parameterValues,parameterValuesCount:((g=b.parameterValues)==null?void 0:g.length)||0})}if(y.data.parameters&&y.data.parameters.length>0){const b=y.data.parameters[0];console.log(" Premier paramtre:",{id:b._id,name:b.name,displayName:b.displayName,kmValue:b.kmValue})}}t(y.data.employees||[]),s(y.data.parameters||[]),console.log(" Employs chargs:",((x=y.data.employees)==null?void 0:x.length)||0),console.log(" Paramtres chargs:",((k=y.data.parameters)==null?void 0:k.length)||0)}catch(y){console.error(" Erreur lors du chargement des frais KM:",y),console.error(" Dtails de l'erreur:",(D=y.response)==null?void 0:D.data),console.error(" Status:",(w=y.response)==null?void 0:w.status),P.error("Erreur lors du chargement des frais KM")}finally{l(!1)}},[c,m]);N.useEffect(()=>{j()},[j]);const S=(v,u,g)=>{const x=[...e],k=x[v],D=k.parameterValues[u];D.count=parseInt(g)||0,D.totalKm=D.count*D.kmValue,k.totalKm=k.parameterValues.reduce((w,y)=>w+y.totalKm,0),t(x)},h=async()=>{o(!0);try{await B.post("/km-expenses/batch",{month:c,year:m,expenses:e.map(v=>({employeeId:v.employeeId,employeeName:v.employeeName,parameterValues:v.parameterValues}))}),P.success("Frais KM sauvegards avec succs"),j()}catch(v){console.error("Erreur lors de la sauvegarde:",v),P.error("Erreur lors de la sauvegarde des frais KM")}finally{o(!1)}},f=v=>["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"][v-1];return a?n.jsx("div",{className:"km-expenses fade-in",children:n.jsx("div",{className:"card",children:n.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[n.jsx("div",{className:"loading"}),n.jsx("p",{children:"Chargement des frais KM..."})]})})}):n.jsxs("div",{className:"km-expenses fade-in",children:[n.jsxs("div",{className:"page-header",children:[n.jsxs("h2",{children:[" Frais KM - ",f(c)," ",m]}),n.jsxs("div",{className:"header-actions",children:[n.jsxs("div",{className:"date-selector",children:[n.jsx("select",{value:c,onChange:v=>d(parseInt(v.target.value)),className:"form-control",children:Array.from({length:12},(v,u)=>n.jsx("option",{value:u+1,children:f(u+1)},u+1))}),n.jsx("select",{value:m,onChange:v=>p(parseInt(v.target.value)),className:"form-control",children:Array.from({length:10},(v,u)=>{const g=new Date().getFullYear()-2+u;return n.jsx("option",{value:g,children:g},g)})})]}),n.jsx("button",{className:"btn btn-success",onClick:h,disabled:i,children:i?" Sauvegarde...":" Sauvegarder"})]})]}),n.jsx("div",{className:"card",children:n.jsx("div",{className:"table-container",children:n.jsxs("table",{className:"km-expenses-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"employee-column",children:"Salari"}),r.map(v=>n.jsx("th",{className:"param-column",title:`${v.displayName} (${v.kmValue} km)`,children:n.jsxs("div",{className:"param-header",children:[n.jsx("div",{className:"param-name",children:v.displayName}),n.jsxs("div",{className:"param-km",children:["(",v.kmValue," km)"]})]})},v._id)),n.jsx("th",{className:"total-column",children:"Total KM"})]})}),n.jsx("tbody",{children:e.map((v,u)=>n.jsxs("tr",{children:[n.jsx("td",{className:"employee-cell",children:n.jsx("strong",{children:v.employeeName})}),v.parameterValues.map((g,x)=>n.jsxs("td",{className:"param-cell",children:[n.jsx("input",{type:"number",value:g.count,onChange:k=>S(u,x,k.target.value),min:"0",className:"count-input",placeholder:"0"}),n.jsxs("div",{className:"param-total",children:[g.totalKm," km"]})]},g.parameterId)),n.jsx("td",{className:"total-cell",children:n.jsxs("strong",{children:[v.totalKm," km"]})})]},v.employeeId))})]})})}),e.length===0&&n.jsxs("div",{className:"card",style:{textAlign:"center",padding:"3rem"},children:[n.jsx("h3",{children:" Aucun employ trouv"}),n.jsx("p",{children:"Veuillez d'abord ajouter des employs dans la gestion des employs."})]}),r.length===0&&n.jsxs("div",{className:"card",style:{textAlign:"center",padding:"3rem"},children:[n.jsx("h3",{children:" Paramtres manquants"}),n.jsx("p",{children:"Veuillez d'abord configurer les paramtres dans le menu Paramtres."})]})]})},my=()=>{var Ro,Po,Mo,Lo,Io;const[e,t]=N.useState("site"),[r,s]=N.useState([]),[a,l]=N.useState(!1),[i,o]=N.useState(!1),[c,d]=N.useState({admin:"",employee:""}),[m,p]=N.useState(!1),[j,S]=N.useState([]),[h,f]=N.useState(!1),[v,u]=N.useState(!1),[g,x]=N.useState({name:"Boulangerie",city:"Ville"}),[k,D]=N.useState(!1),[w,y]=N.useState(!1),[b,A]=N.useState(null),[C,z]=N.useState(!1),[_,M]=N.useState(!1),[T,F]=N.useState(!1),[I,Q]=N.useState([]),[O,H]=N.useState(!1),[J,G]=N.useState(!1),[Y,he]=N.useState(null),[oe,Ce]=N.useState(!1),[U,ee]=N.useState([]),[ne,le]=N.useState(!1),[K,R]=N.useState(null),[X,je]=N.useState(!1);N.useEffect(()=>{ut(),Va(),Co(),Do(),Ua(),Ct()},[]);const fe=E=>{t(E)},ge=async()=>{try{const V=["storeEmail","adminEmail","alertStore","alertAdmin"].filter(W=>!r.find(re=>re.name===W));V.length>0&&(console.log(" Cration des paramtres manquants:",V),await ut(),P.success(`${V.length} paramtres crs automatiquement`))}catch(E){console.error(" Erreur lors de la cration des paramtres:",E),P.error("Erreur lors de la cration des paramtres")}},ut=async()=>{l(!0);try{const E=await B.get("/parameters");s(E.data)}catch(E){console.error("Erreur lors du chargement des paramtres:",E),P.error("Erreur lors du chargement des paramtres")}finally{l(!1)}},Ct=async()=>{le(!0);try{const E=await B.get("/employees");let V=null;E.data.success&&E.data.data?V=E.data.data:Array.isArray(E.data)&&(V=E.data),V&&ee(V)}catch(E){console.error("Erreur lors du chargement des employs:",E)}finally{le(!1)}},zt=(E,V,W)=>{const re=[...r];if(typeof E=="string"){const Ae=re.findIndex(Re=>Re._id===E);Ae!==-1?(re[Ae][V]=W,s(re)):console.error(" Paramtre non trouv avec l'ID:",E)}else re[E][V]=W,s(re)},Sf=async()=>{var E,V,W,re,Ae;o(!0);try{console.log(" Paramtres  sauvegarder:",r);const Re=r.map(_e=>{var Oo;if(!_e._id)throw console.error(" Paramtre sans ID:",_e),new Error("Paramtre sans ID dtect");const ds=((Oo=_e.displayName)==null?void 0:Oo.trim())||"",ur=parseFloat(_e.kmValue)||0;return!ds&&ur===0&&console.warn(" Paramtre sans valeur:",_e),{_id:_e._id,displayName:ds||`Paramtre ${_e.name||"inconnu"}`,kmValue:ur}});console.log(" Donnes envoyes:",Re),console.log(" URL de la requte:","/api/parameters/batch"),Re.forEach((_e,ds)=>{var ur;console.log(` Paramtre ${ds+1}:`,{_id:_e._id,displayName:_e.displayName,kmValue:_e.kmValue,displayNameLength:((ur=_e.displayName)==null?void 0:ur.length)||0,kmValueType:typeof _e.kmValue,kmValueIsNaN:isNaN(_e.kmValue)})});const _t=await B.put("/parameters/batch",{parameters:Re});console.log(" Rponse reue:",_t.data),P.success("Paramtres sauvegards avec succs")}catch(Re){console.error(" Erreur lors de la sauvegarde:",Re),console.error(" Dtails de l'erreur:",(E=Re.response)==null?void 0:E.data),console.error(" Status:",(V=Re.response)==null?void 0:V.status),console.error(" Headers:",(W=Re.response)==null?void 0:W.headers);const _t=((Ae=(re=Re.response)==null?void 0:re.data)==null?void 0:Ae.error)||Re.message||"Erreur inconnue";P.error(`Erreur lors de la sauvegarde: ${_t}`)}finally{o(!1)}},Eo=(E,V)=>{d(W=>({...W,[E]:V}))},Ef=async()=>{p(!0);try{if(console.log(" Tentative de mise  jour des mots de passe:",c),!c.admin&&!c.employee){P.error("Veuillez saisir au moins un mot de passe"),p(!1);return}if(c.admin&&c.admin.length<6){P.error("Le mot de passe administrateur doit contenir au moins 6 caractres"),p(!1);return}if(c.employee&&c.employee.length<6){P.error("Le mot de passe salari doit contenir au moins 6 caractres"),p(!1);return}const E={};c.admin&&(E.admin=c.admin),c.employee&&(E.employee=c.employee),console.log(" Envoi des mots de passe:",E),await B.put("/passwords/update",E),P.success("Mots de passe mis  jour avec succs"),d({admin:"",employee:""})}catch(E){console.error(" Erreur lors de la mise  jour des mots de passe:",E),P.error("Erreur lors de la mise  jour des mots de passe")}finally{p(!1)}},Va=async()=>{f(!0);try{const E=await B.get("/menu-permissions");E.data.success&&(S(E.data.menuPermissions),console.log(" Permissions de menu charges:",E.data.menuPermissions))}catch(E){console.error(" Erreur lors du chargement des permissions:",E),P.error("Erreur lors du chargement des permissions de menu")}finally{f(!1)}},ko=(E,V,W)=>{S(re=>re.map(Ae=>Ae.menuId===E?{...Ae,[V]:W}:Ae))},kf=async()=>{u(!0);try{const E=j.map(V=>({_id:V._id,isVisibleToAdmin:V.isVisibleToAdmin,isVisibleToEmployee:V.isVisibleToEmployee}));await B.put("/menu-permissions/batch",{permissions:E}),P.success("Permissions de menu mises  jour avec succs")}catch(E){console.error(" Erreur lors de la sauvegarde des permissions:",E),P.error("Erreur lors de la sauvegarde des permissions")}finally{u(!1)}},Cf=async()=>{if(window.confirm("tes-vous sr de vouloir recrer les permissions par dfaut ? Cela supprimera toutes les permissions actuelles.")){u(!0);try{const E=await B.post("/menu-permissions/recreate");E.data.success&&(P.success(E.data.message),await Va())}catch(E){console.error(" Erreur lors de la recration des permissions:",E),P.error("Erreur lors de la recration des permissions")}finally{u(!1)}}},Co=async()=>{D(!0);try{const E=await B.get("/site");x(E.data),console.log(" Site charg:",E.data)}catch(E){console.error(" Erreur lors du chargement du site:",E),P.error("Erreur lors du chargement des informations du site")}finally{D(!1)}},_o=(E,V)=>{x(W=>({...W,[E]:V}))},_f=async()=>{y(!0);try{await B.put("/site",g),P.success("Informations du site mises  jour avec succs"),window.location.reload()}catch(E){console.error(" Erreur lors de la mise  jour du site:",E),P.error("Erreur lors de la mise  jour du site")}finally{y(!1)}},Do=async()=>{z(!0);try{const E=await B.get("/database/stats");E.data.success&&A(E.data.stats)}catch(E){console.error(" Erreur lors de la rcupration des statistiques:",E)}finally{z(!1)}},Df=async()=>{M(!0);try{const E=await B.get("/database/export",{responseType:"blob"}),V=window.URL.createObjectURL(new Blob([E.data])),W=document.createElement("a");W.href=V,W.setAttribute("download",`boulangerie-backup-${new Date().toISOString().split("T")[0]}.json`),document.body.appendChild(W),W.click(),W.remove(),window.URL.revokeObjectURL(V),P.success("Base de donnes exporte avec succs")}catch(E){console.error(" Erreur lors de l'export:",E),P.error("Erreur lors de l'export de la base de donnes")}finally{M(!1)}},Tf=async E=>{const V=E.target.files[0];if(V){if(!V.name.endsWith(".json")){P.error("Veuillez slectionner un fichier JSON");return}F(!0);try{const W=new FormData;W.append("backupFile",V);const re=await B.post("/database/import",W,{headers:{"Content-Type":"multipart/form-data"}});re.data.success?(P.success("Base de donnes importe avec succs"),ut(),Va(),Co(),Do()):P.error("Erreur lors de l'import: "+(re.data.error||"Erreur inconnue"))}catch(W){console.error(" Erreur lors de l'import:",W),P.error("Erreur lors de l'import de la base de donnes")}finally{F(!1),E.target.value=""}}},Ua=async()=>{H(!0);try{const E=await B.get("/email-templates");E.data.success&&Q(E.data.templates)}catch(E){console.error(" Erreur lors du chargement des templates:",E),P.error("Erreur lors du chargement des templates d'email")}finally{H(!1)}},To=async()=>{G(!0);try{const E=await B.post("/email-templates/initialize-defaults");E.data.success&&(P.success(E.data.message),Ua())}catch(E){console.error(" Erreur lors de l'initialisation:",E),P.error("Erreur lors de l'initialisation des templates")}finally{G(!1)}},dr=(E,V)=>{he(W=>({...W,[E]:V}))},Af=async()=>{if(Y){G(!0);try{await B.put(`/email-templates/${Y._id}`,{displayName:Y.displayName,subject:Y.subject,htmlContent:Y.htmlContent,textContent:Y.textContent,description:Y.description,variables:Y.variables}),P.success("Template sauvegard avec succs"),Ce(!1),he(null),Ua()}catch(E){console.error(" Erreur lors de la sauvegarde:",E),P.error("Erreur lors de la sauvegarde du template")}finally{G(!1)}}},Rf=E=>{he({...E}),Ce(!0)},Ao=()=>{Ce(!1),he(null)},Pf=async()=>{var E,V;je(!0);try{const W=await B.get("/maintenance/security-check");W.data.success&&(R(W.data.data),console.log(" Vrification maintenance:",W.data.data))}catch(W){console.error(" Erreur vrification maintenance:",W),P.error("Erreur lors de la vrification des mises  jour"),R({error:((V=(E=W.response)==null?void 0:E.data)==null?void 0:V.message)||"Erreur inconnue"})}finally{je(!1)}};return a?n.jsx("div",{className:"parameters fade-in",children:n.jsx("div",{className:"card",children:n.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[n.jsx("div",{className:"loading"}),n.jsx("p",{children:"Chargement des paramtres..."})]})})}):n.jsxs("div",{className:"parameters fade-in",children:[n.jsx("div",{className:"page-header",children:n.jsx("h2",{children:" Paramtres"})}),n.jsxs("div",{className:"tabs-navigation",children:[n.jsx("button",{className:`tab-button ${e==="site"?"active":""}`,onClick:()=>fe("site"),children:" Informations du Site"}),n.jsx("button",{className:`tab-button ${e==="passwords"?"active":""}`,onClick:()=>fe("passwords"),children:" Gestion des Mots de Passe"}),n.jsx("button",{className:`tab-button ${e==="permissions"?"active":""}`,onClick:()=>fe("permissions"),children:" Gestion des Permissions de Menu"}),n.jsx("button",{className:`tab-button ${e==="km"?"active":""}`,onClick:()=>fe("km"),children:" Paramtres - Frais KM"}),n.jsx("button",{className:`tab-button ${e==="templates"?"active":""}`,onClick:()=>fe("templates"),children:" Templates disponibles"}),n.jsx("button",{className:`tab-button ${e==="database"?"active":""}`,onClick:()=>fe("database"),children:" Gestion de la Base de Donnes"}),n.jsx("button",{className:"tab-button",onClick:()=>window.open("/plan/admin-documents.html","_blank"),children:" Gestion des Documents"})]}),n.jsxs("div",{className:"tab-content",children:[e==="site"&&n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:n.jsx("h3",{children:" Informations du Site"})}),n.jsx("div",{className:"card-body",children:k?n.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[n.jsx("div",{className:"loading"}),n.jsx("p",{children:"Chargement des informations du site..."})]}):n.jsxs("div",{className:"site-section",children:[n.jsxs("div",{className:"site-item",children:[n.jsxs("label",{htmlFor:"site-name",children:[n.jsx("span",{className:"site-icon",children:""}),"Nom du site"]}),n.jsx("input",{id:"site-name",type:"text",value:g.name,onChange:E=>_o("name",E.target.value),placeholder:"Nom de la boulangerie",className:"site-input"})]}),n.jsxs("div",{className:"site-item",children:[n.jsxs("label",{htmlFor:"site-city",children:[n.jsx("span",{className:"site-icon",children:""}),"Ville"]}),n.jsx("input",{id:"site-city",type:"text",value:g.city,onChange:E=>_o("city",E.target.value),placeholder:"Ville du magasin",className:"site-input"})]}),n.jsx("div",{className:"site-actions",children:n.jsx("button",{className:"btn btn-primary",onClick:_f,disabled:w,children:w?" Sauvegarde...":" Sauvegarder les informations du site"})})]})})]}),e==="passwords"&&n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:n.jsx("h3",{children:" Gestion des Mots de Passe"})}),n.jsx("div",{className:"card-body",children:n.jsxs("div",{className:"password-section",children:[n.jsxs("div",{className:"password-item",children:[n.jsxs("label",{htmlFor:"admin-password",children:[n.jsx("span",{className:"password-icon",children:""}),"Mot de passe Administrateur"]}),n.jsx("input",{id:"admin-password",type:"password",value:c.admin,onChange:E=>Eo("admin",E.target.value),placeholder:"Nouveau mot de passe (min. 6 caractres)",className:"password-input"})]}),n.jsxs("div",{className:"password-item",children:[n.jsxs("label",{htmlFor:"employee-password",children:[n.jsx("span",{className:"password-icon",children:""}),"Mot de passe Salari"]}),n.jsx("input",{id:"employee-password",type:"password",value:c.employee,onChange:E=>Eo("employee",E.target.value),placeholder:"Nouveau mot de passe (min. 6 caractres)",className:"password-input"})]}),n.jsx("div",{className:"password-actions",children:n.jsx("button",{className:"btn btn-primary",onClick:Ef,disabled:m,style:{opacity:!c.admin&&!c.employee?.6:1,cursor:!c.admin&&!c.employee?"not-allowed":"pointer"},children:m?" Mise  jour...":" Mettre  jour les mots de passe"})})]})})]}),e==="permissions"&&n.jsxs("div",{className:"card",children:[n.jsxs("div",{className:"card-header",children:[n.jsx("h3",{children:" Gestion des Permissions de Menu"}),n.jsx("p",{children:"Configurez quels menus sont visibles pour les salaris"})]}),n.jsx("div",{className:"card-body",children:h?n.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[n.jsx("div",{className:"loading"}),n.jsx("p",{children:"Chargement des permissions..."})]}):n.jsxs("div",{className:"permissions-section",children:[n.jsxs("div",{className:"permissions-table",children:[n.jsxs("div",{className:"permissions-header",children:[n.jsx("div",{className:"permission-menu",children:"Menu"}),n.jsx("div",{className:"permission-admin",children:" Admin"}),n.jsx("div",{className:"permission-employee",children:" Salari"})]}),j.map(E=>n.jsxs("div",{className:"permission-row",children:[n.jsxs("div",{className:"permission-menu",children:[n.jsxs("span",{className:"permission-icon",children:[E.menuId==="dashboard"&&"",E.menuId==="employees"&&"",E.menuId==="constraints"&&"",E.menuId==="planning"&&"",E.menuId==="sales-stats"&&"",E.menuId==="absences"&&"",E.menuId==="parameters"&&"",E.menuId==="employee-status"&&"",E.menuId==="meal-expenses"&&"",E.menuId==="km-expenses"&&"",E.menuId==="employee-status-print"&&"",E.menuId==="sick-leave-management"&&"",E.menuId==="vacation-management"&&""]}),E.menuName]}),n.jsx("div",{className:"permission-admin",children:n.jsx("input",{type:"checkbox",checked:E.isVisibleToAdmin,onChange:V=>ko(E.menuId,"isVisibleToAdmin",V.target.checked),disabled:!0})}),n.jsx("div",{className:"permission-employee",children:n.jsx("input",{type:"checkbox",checked:E.isVisibleToEmployee,onChange:V=>ko(E.menuId,"isVisibleToEmployee",V.target.checked)})})]},E._id))]}),n.jsxs("div",{className:"permissions-actions",children:[n.jsx("button",{className:"btn btn-primary",onClick:kf,disabled:v,children:v?" Sauvegarde...":" Sauvegarder les permissions"}),n.jsx("button",{className:"btn btn-warning",onClick:Cf,disabled:v,style:{marginLeft:"10px"},children:v?" Recration...":" Recrer les permissions par dfaut"})]})]})})]}),e==="km"&&n.jsxs("div",{className:"card",children:[n.jsxs("div",{className:"card-header",children:[n.jsx("h3",{children:" Paramtres - Frais KM"}),n.jsx("p",{style:{fontSize:"0.9rem",color:"#666",marginTop:"0.5rem"},children:"Configurez les 12 en-ttes de colonnes pour les frais KM"})]}),n.jsxs("div",{className:"card-body",children:[n.jsx("div",{className:"parameters-list",children:r.filter(E=>E.kmValue!==void 0&&E.kmValue>=0).slice(0,12).map((E,V)=>n.jsxs("div",{className:"parameter-item",children:[n.jsxs("div",{className:"parameter-info",children:[n.jsxs("span",{className:"parameter-number",children:[V+1,"."]}),n.jsx("input",{type:"text",value:E.displayName,onChange:W=>{const re=r.findIndex(Ae=>Ae._id===E._id);zt(re,"displayName",W.target.value)},className:"parameter-name-input",placeholder:`Paramtre ${V+1}`})]}),n.jsxs("div",{className:"parameter-value",children:[n.jsx("input",{type:"number",value:E.kmValue||0,onChange:W=>{const re=r.findIndex(Ae=>Ae._id===E._id);zt(re,"kmValue",parseFloat(W.target.value)||0)},className:"parameter-km-input",min:"0",step:"0.1",placeholder:"0"}),n.jsx("span",{className:"km-unit",children:"km"})]})]},E._id))}),n.jsx("div",{className:"parameters-actions",children:n.jsx("button",{className:"btn btn-success",onClick:Sf,disabled:i,children:i?" Sauvegarde...":" Sauvegarder les paramtres KM"})})]})]}),e==="templates"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"card",children:[n.jsxs("div",{className:"card-header",children:[n.jsx("h3",{children:" Configuration des Alertes Email"}),n.jsx("p",{children:"Configurez les alertes pour les nouveaux arrts maladie  valider"})]}),n.jsx("div",{className:"card-body",children:n.jsxs("div",{className:"alert-email-section",children:[(!r.find(E=>E.name==="storeEmail")||!r.find(E=>E.name==="adminEmail")||!r.find(E=>E.name==="alertStore")||!r.find(E=>E.name==="alertAdmin"))&&n.jsxs("div",{className:"alert alert-warning",children:[n.jsx("p",{children:" Certains paramtres d'alerte email sont manquants."}),n.jsx("button",{className:"btn btn-primary",onClick:ge,children:" Crer les paramtres manquants"})]}),n.jsx("div",{className:"email-config",children:n.jsxs("div",{className:"email-input-group",children:[n.jsx("label",{htmlFor:"storeEmail",children:" Email du Magasin :"}),n.jsx("input",{type:"email",id:"storeEmail",value:((Ro=r.find(E=>E.name==="storeEmail"))==null?void 0:Ro.stringValue)||"",onChange:E=>{if(r.find(W=>W.name==="storeEmail")){const W=r.map(re=>re.name==="storeEmail"?{...re,stringValue:E.target.value}:re);s(W)}},className:"email-input",placeholder:"magasin@boulangerie.fr"})]})}),n.jsx("div",{className:"email-config",children:n.jsxs("div",{className:"email-input-group",children:[n.jsx("label",{htmlFor:"adminEmail",children:" Email de l'Administrateur :"}),n.jsx("input",{type:"email",id:"adminEmail",value:((Po=r.find(E=>E.name==="adminEmail"))==null?void 0:Po.stringValue)||"",onChange:E=>{if(r.find(W=>W.name==="adminEmail")){const W=r.map(re=>re.name==="adminEmail"?{...re,stringValue:E.target.value}:re);s(W)}},className:"email-input",placeholder:"admin@boulangerie.fr"})]})}),n.jsx("div",{className:"email-config",children:n.jsxs("div",{className:"email-input-group",children:[n.jsx("label",{children:" Destinataires des Alertes :"}),n.jsxs("div",{className:"recipient-options",children:[n.jsxs("label",{className:"checkbox-option",children:[n.jsx("input",{type:"checkbox",checked:((Mo=r.find(E=>E.name==="alertStore"))==null?void 0:Mo.booleanValue)||!1,onChange:E=>{const V=r.find(W=>W.name==="alertStore");V&&zt(V._id,"booleanValue",E.target.checked)}}),n.jsx("span",{children:" Envoyer au Magasin"})]}),n.jsxs("label",{className:"checkbox-option",children:[n.jsx("input",{type:"checkbox",checked:((Lo=r.find(E=>E.name==="alertAdmin"))==null?void 0:Lo.booleanValue)||!1,onChange:E=>{const V=r.find(W=>W.name==="alertAdmin");V&&zt(V._id,"booleanValue",E.target.checked)}}),n.jsx("span",{children:" Envoyer  l'Administrateur"})]})]})]})}),n.jsx("div",{className:"email-actions",children:n.jsx("button",{className:"btn btn-primary",onClick:async()=>{try{const E=r.filter(W=>["storeEmail","adminEmail","alertStore","alertAdmin"].includes(W.name));if(E.length===0){P.error("Aucun paramtre d'alerte trouv");return}const V=E.map(W=>({_id:W._id,displayName:W.displayName,stringValue:W.stringValue,booleanValue:W.booleanValue,kmValue:W.kmValue}));console.log(" Sauvegarde des paramtres d'alerte:",V),await B.put("/parameters/batch",{parameters:V}),P.success("Configuration des alertes sauvegarde")}catch(E){console.error(" Erreur lors de la sauvegarde:",E),P.error("Erreur lors de la sauvegarde des alertes")}},children:" Sauvegarder la configuration des alertes"})})]})})]}),n.jsxs("div",{className:"card",children:[n.jsxs("div",{className:"card-header",children:[n.jsx("h3",{children:" Configuration Demande d'Acompte"}),n.jsx("p",{children:"Slectionnez les salaris qui peuvent accder  la demande d'acompte dans leur dashboard"})]}),n.jsx("div",{className:"card-body",children:ne?n.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[n.jsx("div",{className:"spinner"}),n.jsx("p",{children:"Chargement des employs..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"email-config",children:n.jsxs("div",{className:"email-input-group",children:[n.jsx("label",{children:" Slectionnez les salaris autoriss :"}),n.jsx("div",{style:{maxHeight:"400px",overflowY:"auto",border:"1px solid #ddd",borderRadius:"8px",padding:"1rem",marginTop:"0.5rem"},children:U.length===0?n.jsx("p",{style:{color:"#666",fontStyle:"italic"},children:"Aucun employ trouv"}):U.map(E=>{const V=r.find(Ae=>Ae.name==="enableEmployeeAdvanceRequest"),re=(V!=null&&V.stringValue?JSON.parse(V.stringValue||"[]"):[]).includes(E._id);return n.jsxs("label",{className:"checkbox-option",style:{display:"block",marginBottom:"0.75rem",padding:"0.5rem",borderRadius:"4px",backgroundColor:re?"#f0f8ff":"transparent"},children:[n.jsx("input",{type:"checkbox",checked:re,onChange:Ae=>{const Re=r.find(_e=>_e.name==="enableEmployeeAdvanceRequest");if(!Re)return;let _t=Re.stringValue?JSON.parse(Re.stringValue||"[]"):[];Ae.target.checked?_t.includes(E._id)||_t.push(E._id):_t=_t.filter(_e=>_e!==E._id),zt(Re._id,"stringValue",JSON.stringify(_t))}}),n.jsxs("span",{style:{marginLeft:"0.5rem"},children:[E.name," ",E.email?`(${E.email})`:""]})]},E._id)})}),n.jsx("small",{className:"form-text text-muted",style:{marginTop:"0.5rem",display:"block"},children:"Seuls les salaris slectionns pourront voir et utiliser la demande d'acompte dans leur dashboard."})]})}),n.jsx("div",{className:"email-actions",style:{marginTop:"1.5rem"},children:n.jsx("button",{className:"btn btn-primary",onClick:async()=>{try{const E=r.find(W=>W.name==="enableEmployeeAdvanceRequest");if(!E){P.error("Paramtre de demande d'acompte non trouv");return}const V=[{_id:E._id,displayName:E.displayName,stringValue:E.stringValue||"[]",kmValue:E.kmValue}];console.log(" Sauvegarde du paramtre d'acompte:",V),await B.put("/parameters/batch",{parameters:V}),P.success("Configuration de la demande d'acompte sauvegarde")}catch(E){console.error(" Erreur lors de la sauvegarde:",E),P.error("Erreur lors de la sauvegarde de la configuration")}},children:" Sauvegarder la configuration"})})]})})]}),n.jsxs("div",{className:"card",children:[n.jsxs("div",{className:"card-header",children:[n.jsx("h3",{children:" Configuration Email Comptable"}),n.jsx("p",{children:"Adresse email pour l'envoi automatique des arrts maladie valids"})]}),n.jsx("div",{className:"card-body",children:n.jsx("div",{className:"accountant-email-section",children:r.find(E=>E.name==="accountantEmail")?n.jsxs("div",{className:"email-config",children:[n.jsxs("div",{className:"email-input-group",children:[n.jsx("label",{htmlFor:"accountantEmail",children:"Email du comptable :"}),n.jsx("input",{type:"email",id:"accountantEmail",value:((Io=r.find(E=>E.name==="accountantEmail"))==null?void 0:Io.stringValue)||"",onChange:E=>{if(r.find(W=>W.name==="accountantEmail")){const W=r.map(re=>re.name==="accountantEmail"?{...re,stringValue:E.target.value}:re);s(W)}},className:"email-input",placeholder:"comptable@boulangerie.fr"})]}),n.jsxs("div",{className:"email-info",children:[n.jsxs("p",{children:[" ",n.jsx("strong",{children:"Utilisation :"})," Cette adresse sera utilise pour envoyer automatiquement les arrts maladie valids au comptable."]}),n.jsxs("p",{children:[" ",n.jsx("strong",{children:"Scurit :"})," Vous pouvez galement configurer cette valeur via la variable d'environnement ",n.jsx("code",{children:"ACCOUNTANT_EMAIL"})," dans Render."]})]}),n.jsx("div",{className:"email-actions",children:n.jsx("button",{className:"btn btn-primary",onClick:async()=>{var E;try{console.log(" Tous les paramtres:",r);const V=r.find(W=>W.name==="accountantEmail");if(console.log(" Paramtre email comptable trouv:",V),V){console.log(" Envoi de la requte PUT avec:",{stringValue:V.stringValue,_id:V._id});const W=await B.put(`/parameters/${V._id}`,{stringValue:V.stringValue});console.log(" Rponse reue:",W.data),P.success("Email du comptable sauvegard")}else console.log(" Paramtre email comptable non trouv"),P.error("Paramtre email comptable non trouv")}catch(V){console.error(" Erreur lors de la sauvegarde:",V),console.error(" Dtails:",(E=V.response)==null?void 0:E.data),P.error("Erreur lors de la sauvegarde de l'email")}},children:" Sauvegarder l'email du comptable"})})]}):n.jsxs("div",{className:"no-email-param",children:[n.jsx("p",{children:" Le paramtre email comptable n'a pas encore t cr."}),n.jsx("button",{className:"btn btn-secondary",onClick:async()=>{try{await B.post("/parameters",{name:"accountantEmail",displayName:"Email du Comptable",stringValue:"comptable@boulangerie.fr",kmValue:0}),P.success("Paramtre email comptable cr"),ut()}catch{P.error("Erreur lors de la cration du paramtre")}},children:"Crer le paramtre email comptable"})]})})})]}),n.jsxs("div",{className:"card",children:[n.jsxs("div",{className:"card-header",children:[n.jsx("h3",{children:" Gestion des Messages Email"}),n.jsx("p",{children:"Personnalisez le contenu des emails envoys automatiquement"})]}),n.jsx("div",{className:"card-body",children:O?n.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[n.jsx("div",{className:"loading"}),n.jsx("p",{children:"Chargement des templates d'email..."})]}):n.jsx("div",{className:"email-templates-section",children:I.length===0?n.jsxs("div",{className:"no-templates",children:[n.jsx("p",{children:" Aucun template d'email configur."}),n.jsx("button",{className:"btn btn-primary",onClick:To,disabled:J,children:J?" Initialisation...":" Crer les templates par dfaut"})]}):n.jsxs("div",{className:"templates-list",children:[n.jsxs("div",{className:"templates-header",children:[n.jsx("h4",{children:" Templates disponibles"}),n.jsx("button",{className:"btn btn-secondary",onClick:To,disabled:J,children:J?" Mise  jour...":" Mettre  jour les templates"})]}),I.map(E=>n.jsxs("div",{className:"template-item",children:[n.jsxs("div",{className:"template-info",children:[n.jsxs("div",{className:"template-header",children:[n.jsx("h5",{children:E.displayName}),n.jsxs("span",{className:"template-type",children:[E.name==="sick_leave_validation"&&" Validation",E.name==="sick_leave_rejection"&&" Rejet",E.name==="sick_leave_accountant"&&" Comptable",E.name==="sick_leave_alert"&&" Alerte",E.name==="vacation_request_confirmation"&&" Confirmation Congs",E.name==="vacation_request_alert"&&" Alerte Congs",E.name==="vacation_request_validation"&&" Validation Congs",E.name==="employee_password"&&" Mot de Passe Salari",E.name==="advance_request_employee"&&" Confirmation Acompte",E.name==="advance_request_manager"&&" Alerte Acompte",E.name==="advance_approved"&&" Validation Acompte",E.name==="advance_rejected"&&" Rejet Acompte"]})]}),n.jsx("p",{className:"template-description",children:E.description}),n.jsxs("div",{className:"template-subject",children:[n.jsx("strong",{children:"Sujet :"})," ",E.subject]})]}),n.jsx("div",{className:"template-actions",children:n.jsx("button",{className:"btn btn-primary",onClick:()=>Rf(E),children:" Modifier"})})]},E._id))]})})})]})]}),e==="database"&&n.jsxs("div",{className:"card",children:[n.jsxs("div",{className:"card-header",children:[n.jsx("h3",{children:" Gestion de la Base de Donnes"}),n.jsx("p",{children:"Sauvegarde et restauration complte de la base de donnes"})]}),n.jsxs("div",{className:"card-body",children:[n.jsxs("div",{className:"database-stats",children:[n.jsx("h4",{children:" Statistiques"}),C?n.jsx("p",{children:"Chargement des statistiques..."}):b?n.jsxs("div",{className:"stats-grid",children:[n.jsxs("div",{className:"stat-item",children:[n.jsx("span",{className:"stat-label",children:"Total documents:"}),n.jsx("span",{className:"stat-value",children:b.totalDocuments})]}),Object.entries(b.collections).map(([E,V])=>n.jsxs("div",{className:"stat-item",children:[n.jsxs("span",{className:"stat-label",children:[E,":"]}),n.jsx("span",{className:"stat-value",children:V})]},E))]}):n.jsx("p",{children:"Aucune statistique disponible"})]}),n.jsxs("div",{className:"database-actions",children:[n.jsx("h4",{children:" Sauvegarde & Restauration"}),n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{className:"btn btn-primary",onClick:Df,disabled:_,children:_?" Export en cours...":" Exporter Base de Donnes"}),n.jsxs("div",{className:"import-section",children:[n.jsx("input",{type:"file",id:"importFile",accept:".json",onChange:Tf,style:{display:"none"}}),n.jsx("label",{htmlFor:"importFile",className:`btn btn-warning ${T?"disabled":""}`,children:T?" Import en cours...":" Importer Base de Donnes"})]})]}),n.jsxs("div",{className:"database-warning",children:[n.jsx("h5",{children:" Attention"}),n.jsxs("ul",{children:[n.jsx("li",{children:"L'export cre une sauvegarde complte de toutes les donnes"}),n.jsx("li",{children:"L'import remplace TOUTES les donnes existantes"}),n.jsx("li",{children:"Assurez-vous d'avoir une sauvegarde rcente avant d'importer"}),n.jsx("li",{children:"L'opration d'import ne peut pas tre annule"})]})]})]}),n.jsxs("div",{className:"maintenance-check",style:{marginTop:"2rem",paddingTop:"2rem",borderTop:"2px solid #eee"},children:[n.jsx("h4",{children:" Vrification des Mises  Jour"}),n.jsx("p",{style:{marginBottom:"1rem",color:"#666"},children:"Vrifiez les vulnrabilits de scurit et les mises  jour disponibles pour les dpendances"}),n.jsx("button",{className:"btn btn-primary",onClick:Pf,disabled:X,style:{marginBottom:"1rem"},children:X?" Vrification en cours...":" Vrifier les Mises  Jour"}),K&&n.jsx("div",{className:"maintenance-results",style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#f9f9f9",borderRadius:"4px"},children:K.error?n.jsxs("div",{style:{color:"#d32f2f"},children:[n.jsx("strong",{children:" Erreur:"})," ",K.error,n.jsx("p",{style:{fontSize:"0.9em",marginTop:"0.5rem"},children:"La vrification ncessite npm install dans les rpertoires backend et frontend. Cette fonctionnalit fonctionne mieux en dveloppement local."})]}):n.jsxs(n.Fragment,{children:[K.summary&&n.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",borderRadius:"4px",backgroundColor:K.summary.status==="critical"?"#ffebee":K.summary.status==="warning"?"#fff3e0":"#e8f5e9"},children:[n.jsx("h5",{style:{marginTop:0},children:K.summary.status==="critical"?" tat Critique":K.summary.status==="warning"?" Attention Requise":" Tout est  Jour"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",marginTop:"0.5rem"},children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Vulnrabilits Critiques:"}),n.jsx("div",{style:{fontSize:"1.5em",fontWeight:"bold",color:K.summary.totalCriticalVulnerabilities>0?"#d32f2f":"#4caf50"},children:K.summary.totalCriticalVulnerabilities})]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Vulnrabilits leves:"}),n.jsx("div",{style:{fontSize:"1.5em",fontWeight:"bold",color:K.summary.totalHighVulnerabilities>0?"#f57c00":"#4caf50"},children:K.summary.totalHighVulnerabilities})]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Packages Obsoltes:"}),n.jsx("div",{style:{fontSize:"1.5em",fontWeight:"bold"},children:K.summary.totalOutdatedPackages})]})]}),K.summary.requiresAction&&n.jsxs("div",{style:{marginTop:"1rem",padding:"0.75rem",backgroundColor:"#fff",borderRadius:"4px",border:"1px solid #ff9800"},children:[n.jsx("strong",{children:" Action recommande:"})," Des mises  jour de scurit sont ncessaires pour garantir la scurit de l'application."]})]}),K.backend&&n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("h5",{children:" Backend"}),K.backend.vulnerabilities.length>0&&n.jsxs("div",{style:{marginTop:"0.5rem"},children:[n.jsxs("strong",{style:{color:"#d32f2f"},children:["Vulnrabilits (",K.backend.vulnerabilities.length,"):"]}),n.jsxs("ul",{style:{marginTop:"0.5rem",paddingLeft:"1.5rem"},children:[K.backend.vulnerabilities.slice(0,5).map((E,V)=>n.jsxs("li",{style:{marginBottom:"0.25rem"},children:[n.jsx("strong",{children:E.name})," (",E.severity,") - ",E.title]},V)),K.backend.vulnerabilities.length>5&&n.jsxs("li",{children:["... et ",K.backend.vulnerabilities.length-5," autres"]})]})]}),K.backend.outdated.length>0&&n.jsxs("div",{style:{marginTop:"0.5rem"},children:[n.jsxs("strong",{children:["Packages obsoltes (",K.backend.outdated.length,"):"]}),n.jsxs("ul",{style:{marginTop:"0.5rem",paddingLeft:"1.5rem"},children:[K.backend.outdated.slice(0,5).map((E,V)=>n.jsxs("li",{style:{marginBottom:"0.25rem"},children:[n.jsx("strong",{children:E.name}),": ",E.current,"  ",E.latest]},V)),K.backend.outdated.length>5&&n.jsxs("li",{children:["... et ",K.backend.outdated.length-5," autres"]})]})]}),K.backend.vulnerabilities.length===0&&K.backend.outdated.length===0&&n.jsx("p",{style:{color:"#4caf50"},children:" Aucun problme dtect"})]}),K.frontend&&n.jsxs("div",{children:[n.jsx("h5",{children:" Frontend"}),K.frontend.vulnerabilities.length>0&&n.jsxs("div",{style:{marginTop:"0.5rem"},children:[n.jsxs("strong",{style:{color:"#d32f2f"},children:["Vulnrabilits (",K.frontend.vulnerabilities.length,"):"]}),n.jsxs("ul",{style:{marginTop:"0.5rem",paddingLeft:"1.5rem"},children:[K.frontend.vulnerabilities.slice(0,5).map((E,V)=>n.jsxs("li",{style:{marginBottom:"0.25rem"},children:[n.jsx("strong",{children:E.name})," (",E.severity,") - ",E.title]},V)),K.frontend.vulnerabilities.length>5&&n.jsxs("li",{children:["... et ",K.frontend.vulnerabilities.length-5," autres"]})]})]}),K.frontend.outdated.length>0&&n.jsxs("div",{style:{marginTop:"0.5rem"},children:[n.jsxs("strong",{children:["Packages obsoltes (",K.frontend.outdated.length,"):"]}),n.jsxs("ul",{style:{marginTop:"0.5rem",paddingLeft:"1.5rem"},children:[K.frontend.outdated.slice(0,5).map((E,V)=>n.jsxs("li",{style:{marginBottom:"0.25rem"},children:[n.jsx("strong",{children:E.name}),": ",E.current,"  ",E.latest]},V)),K.frontend.outdated.length>5&&n.jsxs("li",{children:["... et ",K.frontend.outdated.length-5," autres"]})]})]}),K.frontend.vulnerabilities.length===0&&K.frontend.outdated.length===0&&n.jsx("p",{style:{color:"#4caf50"},children:" Aucun problme dtect"})]}),K.timestamp&&n.jsxs("p",{style:{fontSize:"0.85em",color:"#999",marginTop:"1rem",marginBottom:0},children:["Dernire vrification: ",new Date(K.timestamp).toLocaleString("fr-FR")]})]})})]})]})]})]}),oe&&Y&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal-content template-editor",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{children:[" Modifier le Template : ",Y.displayName]}),n.jsx("button",{className:"modal-close",onClick:Ao,children:""})]}),n.jsx("div",{className:"modal-body",children:n.jsxs("div",{className:"template-editor-form",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Nom d'affichage :"}),n.jsx("input",{type:"text",value:Y.displayName,onChange:E=>dr("displayName",E.target.value),className:"form-input"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Sujet de l'email :"}),n.jsx("input",{type:"text",value:Y.subject,onChange:E=>dr("subject",E.target.value),className:"form-input",placeholder:"Utilisez {{variable}} pour les variables"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Description :"}),n.jsx("textarea",{value:Y.description,onChange:E=>dr("description",E.target.value),className:"form-textarea",rows:"2"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Contenu HTML :"}),n.jsx("textarea",{value:Y.htmlContent,onChange:E=>dr("htmlContent",E.target.value),className:"form-textarea template-html",rows:"15",placeholder:"Contenu HTML de l'email"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Contenu Texte :"}),n.jsx("textarea",{value:Y.textContent,onChange:E=>dr("textContent",E.target.value),className:"form-textarea template-text",rows:"10",placeholder:"Version texte de l'email"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Variables disponibles :"}),n.jsx("div",{className:"variables-list",children:Y.variables.map((E,V)=>n.jsxs("div",{className:"variable-item",children:[n.jsx("code",{children:`{{${E.name}}}`}),n.jsx("span",{className:"variable-description",children:E.description}),E.example&&n.jsxs("span",{className:"variable-example",children:["Ex: ",E.example]})]},V))})]})]})}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-secondary",onClick:Ao,children:"Annuler"}),n.jsx("button",{className:"btn btn-primary",onClick:Af,disabled:J,children:J?" Sauvegarde...":" Sauvegarder"})]})]})})]})},fy=()=>{console.log(" HolidayStatus - Composant charg"),console.log(" HolidayStatus - URL actuelle:",window.location.href);const[e,t]=N.useState([]),[r,s]=N.useState(!1),[a,l]=N.useState(new Set),[i,o]=N.useState(new Set);N.useEffect(()=>{console.log(" HolidayStatus - Chargement automatique des donnes"),c()},[]);const c=async()=>{var m,p;s(!0);try{console.log(" Chargement des congs depuis l'API backend...");const S=(await B.get("/vacation-requests?city=Arras")).data;if(console.log(" Donnes reues:",S),console.log(" Structure des donnes:",{success:S.success,hasData:!!S.data,dataLength:((m=S.data)==null?void 0:m.length)||0,firstItem:(p=S.data)==null?void 0:p[0]}),S.success&&S.data){const h=S.data.map(f=>({id:f._id,timestamp:new Date(f.uploadDate).toLocaleString("fr-FR"),boulangerie:f.city||"Arras",nom:f.employeeName.split(" ")[1]||"",prenom:f.employeeName.split(" ")[0]||"",dateDebut:new Date(f.startDate).toLocaleDateString("fr-FR"),dateFin:new Date(f.endDate).toLocaleDateString("fr-FR"),commentaire:f.precisions||"",status:f.status,duration:f.duration,reason:f.reason,employeeEmail:f.employeeEmail}));console.log(" Congs rcuprs depuis l'API:",h),console.log(" Nombre de congs:",h.length),console.log(" Congs valids:",h.filter(f=>f.status==="validated").length),t(h)}else console.log(" Aucune donne reue ou format invalide"),t([])}catch(j){console.error(" Erreur lors du chargement des congs:",j),t([])}finally{s(!1)}},d=()=>{const m=e.filter(j=>j.status==="validated"),p=window.open("","_blank");p.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Planning Annuel - Congs Valids</title>
        <style>
          @page { 
            size: A4 landscape; 
            margin: 1cm; 
          }
          body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px; 
          }
          .header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #000;
            padding-bottom: 20px;
          }
          .header h1 {
            margin: 0;
            font-size: 24px;
          }
          .planning-grid {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 2px;
            margin-bottom: 20px;
          }
          .month-header {
            background: #f0f0f0;
            padding: 10px;
            text-align: center;
            font-weight: bold;
            border: 1px solid #000;
          }
          .holiday-item {
            background: #e8f5e8;
            padding: 5px;
            margin: 2px 0;
            border: 1px solid #ccc;
            font-size: 10px;
            border-radius: 3px;
          }
          .employee-name {
            font-weight: bold;
          }
          .dates {
            color: #666;
            font-size: 9px;
          }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>Planning Annuel - Congs Valids</h1>
          <p>Boulangerie Arras - ${new Date().getFullYear()}</p>
        </div>
        
        <div class="planning-grid">
          ${Array.from({length:12},(j,S)=>{const h=["Jan","Fv","Mar","Avr","Mai","Jun","Jul","Ao","Sep","Oct","Nov","Dc"][S],f=m.filter(v=>new Date(v.dateDebut).getMonth()===S);return`
              <div class="month-header">${h}</div>
              <div>
                ${f.map(v=>`
                  <div class="holiday-item">
                    <div class="employee-name">${v.prenom} ${v.nom}</div>
                    <div class="dates">${v.dateDebut} - ${v.dateFin}</div>
                  </div>
                `).join("")}
              </div>
            `}).join("")}
        </div>
      </body>
      </html>
    `),p.document.close(),p.print()};return r?n.jsx("div",{className:"holiday-status",children:n.jsxs("div",{className:"loading-container",children:[n.jsx("div",{className:"loading"}),n.jsx("p",{children:"Chargement des congs..."})]})}):n.jsxs("div",{className:"holiday-status",children:[n.jsxs("div",{className:"holiday-header",children:[n.jsx("h3",{children:" tat des Congs"}),n.jsxs("div",{style:{background:"#17a2b8",color:"white",padding:"5px 10px",margin:"5px 0",borderRadius:"3px",fontSize:"12px",fontWeight:"bold"},children:[" DPLOIEMENT #012 - ",new Date().toLocaleString()]}),n.jsxs("div",{className:"holiday-actions",children:[n.jsx("button",{className:"btn btn-primary",onClick:c,disabled:r,children:" Actualiser"}),n.jsx("button",{className:"btn btn-success",onClick:d,disabled:e.filter(m=>m.status==="validated").length===0,children:" Imprimer Planning"})]})]}),n.jsxs("div",{className:"holiday-stats",children:[n.jsxs("div",{className:"stat-item",children:[n.jsx("span",{className:"stat-number",children:e.length}),n.jsx("span",{className:"stat-label",children:"Total"})]}),n.jsxs("div",{className:"stat-item",children:[n.jsx("span",{className:"stat-number",children:e.filter(m=>m.status==="validated").length}),n.jsx("span",{className:"stat-label",children:"Valids"})]}),n.jsxs("div",{className:"stat-item",children:[n.jsx("span",{className:"stat-number",children:e.filter(m=>m.status==="rejected").length}),n.jsx("span",{className:"stat-label",children:"Rejets"})]}),n.jsxs("div",{className:"stat-item",children:[n.jsx("span",{className:"stat-number",children:e.filter(m=>m.status==="pending").length}),n.jsx("span",{className:"stat-label",children:"En attente"})]})]}),n.jsxs("div",{className:"holiday-info",children:[n.jsx("p",{children:' Utilisez le bouton "Imprimer Planning" pour voir le calendrier des congs valids.'}),n.jsx("p",{children:' Pour grer les demandes de congs, utilisez la page "Gestion des congs".'})]})]})},py=()=>{const[e,t]=N.useState(null),[r,s]=N.useState(!1),[a,l]=N.useState(new Date().getMonth()+1),[i,o]=N.useState(new Date().getFullYear()),[c,d]=N.useState([]),m=async()=>{try{const u=await B.get("/advance-requests");if(u.data.success){const g=h(a),x=i.toString(),k=`${g} ${x}`;console.log(" Recherche acomptes pour le mois slectionn UNIQUEMENT:",k),console.log(" Tous les acomptes rcuprs:",u.data.data);const D=u.data.data.filter(w=>{if(!(w.status==="approved"))return console.log(`   ${w.employeeName}: status=${w.status} (non approuv)`),!1;if(!w.deductionMonth)return console.log(`   ${w.employeeName}: pas de mois de dduction`),!1;const A=w.deductionMonth.toLowerCase().trim()===k.toLowerCase();return console.log(`  ${A?"":""} ${w.employeeName}: month="${w.deductionMonth}" vs recherche="${k}"  ${A?"MATCH":"NO MATCH"}`),A});console.log(` Acomptes filtrs trouvs pour ${k}:`,D.length,"acompte(s)"),console.log(" Dtails:",D.map(w=>`${w.employeeName}: ${w.amount}`)),d(D)}}catch(u){console.error("Erreur lors du chargement des acomptes:",u)}},p=async()=>{s(!0);try{const u=await B.get(`/employee-status?month=${a}&year=${i}`);t(u.data),await m()}catch(u){console.error("Erreur lors du chargement des donnes:",u),P.error("Erreur lors du chargement des donnes")}finally{s(!1)}},j=()=>{const u=window.open("","_blank"),g=document.querySelector(".print-content");g?(u.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>tat des Salaris - ${h(a)} ${i}</title>
          <style>
            body { 
              font-family: Arial, sans-serif; 
              margin: 0; 
              padding: 20px; 
              color: #000;
            }
            .print-header {
              text-align: center;
              margin-bottom: 30px;
              border-bottom: 2px solid #000;
              padding-bottom: 20px;
            }
            .print-header h1 {
              margin: 0 0 10px 0;
              font-size: 24px;
              font-weight: bold;
            }
            .print-header h2 {
              margin: 0 0 10px 0;
              font-size: 18px;
            }
            .print-date {
              font-size: 12px;
              color: #666;
            }
            .status-table {
              width: 100%;
              border-collapse: collapse;
              margin-bottom: 30px;
            }
            .status-table th,
            .status-table td {
              border: 1px solid #000;
              padding: 8px;
              text-align: left;
            }
            .status-table th {
              background: #f0f0f0;
              font-weight: bold;
            }
            .totals-row {
              background: #f0f0f0;
              font-weight: bold;
            }
            .print-summary {
              margin-top: 20px;
            }
            .summary-item {
              margin-bottom: 10px;
            }
            @media print {
              body { margin: 0; padding: 15px; }
              .status-table tbody tr { page-break-inside: avoid; }
            }
          </style>
        </head>
        <body>
          ${g.outerHTML}
        </body>
        </html>
      `),u.document.close(),u.focus(),u.print(),u.close()):window.print()},S=()=>{if(!e)return;let u="data:text/csv;charset=utf-8,";if(u+=["Salari","Frais Repas","Total KM","Acompte","Total Gnral"].join(",")+`
`,e.employees&&e.employees.length>0){e.employees.forEach(A=>{const C=v(A.employeeName,A.employeeId),z=A.mealExpense.totalAmount+C,_=[`"${A.employeeName||"N/A"}"`,`"${f(A.mealExpense.totalAmount)}"`,`"${A.kmExpense.totalKm||0} km"`,`"${f(C)}"`,`"${f(z)}"`];u+=_.join(",")+`
`});const D=e.employees.reduce((A,C)=>A+C.mealExpense.totalAmount,0),w=e.employees.reduce((A,C)=>A+C.kmExpense.totalKm,0),y=c.reduce((A,C)=>A+C.amount,0),b=D+y;u+=`"TOTAUX","${f(D)}","${w} km","${f(y)}","${f(b)}"
`}else u+=`"Aucune donne disponible","","",""
`;const x=encodeURI(u),k=document.createElement("a");k.setAttribute("href",x),k.setAttribute("download",`etat_salaries_${h(a)}_${i}.csv`),document.body.appendChild(k),k.click(),document.body.removeChild(k)},h=u=>["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"][u-1],f=u=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(u),v=(u,g)=>{if(!c||c.length===0)return console.log(` Aucun acompte disponible pour ${u}`),0;const x=u.split(" - ")[0].trim().toLowerCase();console.log(` Recherche acomptes pour: "${u}" (ID: ${g})`),console.log(" Acomptes disponibles:",c.map(w=>({name:w.employeeName,id:w.employeeId,amount:w.amount})));const k=c.filter(w=>{if(g&&w.employeeId&&w.employeeId.toString()===g.toString())return console.log(`   Correspondance par ID: ${w.employeeId} === ${g} (${w.amount})`),!0;if(w.employeeName){const y=w.employeeName.split(" - ")[0].trim().toLowerCase();if(y===x)return console.log(`   Correspondance par nom exact: "${y}" === "${x}" (${w.amount})`),!0;if(y.includes(x)||x.includes(y))return console.log(`   Correspondance partielle: "${y}" contient "${x}" (${w.amount})`),!0}return!1}),D=k.reduce((w,y)=>w+y.amount,0);return console.log(` Total acomptes trouvs pour ${u}: ${k.length} acompte(s) = ${D}`),D};return r?n.jsx("div",{className:"employee-status-print fade-in",children:n.jsx("div",{className:"card",children:n.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[n.jsx("div",{className:"loading"}),n.jsx("p",{children:"Chargement des donnes..."})]})})}):n.jsxs("div",{className:"employee-status-print fade-in",children:[n.jsxs("div",{className:"page-header",children:[n.jsxs("h2",{children:[" tat des Salaris - ",h(a)," ",i]}),n.jsxs("div",{className:"header-actions",children:[n.jsxs("div",{className:"date-selector",children:[n.jsx("select",{value:a,onChange:u=>l(parseInt(u.target.value)),className:"form-control",children:Array.from({length:12},(u,g)=>n.jsx("option",{value:g+1,children:h(g+1)},g+1))}),n.jsx("select",{value:i,onChange:u=>o(parseInt(u.target.value)),className:"form-control",children:Array.from({length:10},(u,g)=>{const x=new Date().getFullYear()-2+g;return n.jsx("option",{value:x,children:x},x)})})]}),n.jsx("button",{className:"btn btn-primary",onClick:p,disabled:r,children:r?" Chargement...":" Actualiser"}),n.jsx("button",{className:"btn btn-success",onClick:j,disabled:!e,children:" Imprimer"}),n.jsx("button",{className:"btn btn-info",onClick:S,disabled:!e,children:" Exporter Excel"})]})]}),e&&n.jsxs("div",{className:"print-content",children:[n.jsxs("div",{className:"print-header",children:[n.jsx("h1",{children:"tat des Salaris"}),n.jsxs("h2",{children:[h(e.month)," ",e.year]}),n.jsxs("div",{className:"print-date",children:["Gnr le ",new Date().toLocaleDateString("fr-FR")]})]}),n.jsx("div",{className:"print-table",children:n.jsxs("table",{className:"status-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Salari"}),n.jsx("th",{children:"Frais Repas"}),n.jsx("th",{children:"Total KM"}),n.jsx("th",{children:"Acompte"}),n.jsx("th",{children:"Total Gnral"})]})}),n.jsx("tbody",{children:e.employees.map(u=>{const g=v(u.employeeName,u.employeeId),x=u.mealExpense.totalAmount+g;return n.jsxs("tr",{children:[n.jsx("td",{className:"employee-name",children:n.jsx("strong",{children:u.employeeName})}),n.jsx("td",{className:"meal-amount",children:f(u.mealExpense.totalAmount)}),n.jsxs("td",{className:"km-amount",children:[u.kmExpense.totalKm," km"]}),n.jsx("td",{className:"advance-amount",children:f(g)}),n.jsx("td",{className:"total-amount",children:n.jsx("strong",{children:f(x)})})]},u.employeeId)})}),n.jsx("tfoot",{children:n.jsxs("tr",{className:"totals-row",children:[n.jsx("td",{children:n.jsx("strong",{children:"TOTAUX"})}),n.jsx("td",{children:n.jsx("strong",{children:f(e.employees.reduce((u,g)=>u+g.mealExpense.totalAmount,0))})}),n.jsx("td",{children:n.jsxs("strong",{children:[e.employees.reduce((u,g)=>u+g.kmExpense.totalKm,0)," km"]})}),n.jsx("td",{children:n.jsx("strong",{children:f(c.reduce((u,g)=>u+g.amount,0))})}),n.jsx("td",{children:n.jsx("strong",{children:f(e.employees.reduce((u,g)=>u+g.mealExpense.totalAmount,0)+c.reduce((u,g)=>u+g.amount,0))})})]})})]})}),n.jsxs("div",{className:"print-summary",children:[n.jsxs("div",{className:"summary-item",children:[n.jsx("strong",{children:"Nombre de salaris :"})," ",e.employees.length]}),n.jsxs("div",{className:"summary-item",children:[n.jsx("strong",{children:"Total frais repas :"})," ",f(e.employees.reduce((u,g)=>u+g.mealExpense.totalAmount,0))]}),n.jsxs("div",{className:"summary-item",children:[n.jsx("strong",{children:"Total kilomtres :"})," ",e.employees.reduce((u,g)=>u+g.kmExpense.totalKm,0)," km"]}),n.jsxs("div",{className:"summary-item",children:[n.jsx("strong",{children:"Total acomptes :"})," ",f(c.reduce((u,g)=>u+g.amount,0))]})]})]}),!e&&!r&&n.jsxs("div",{className:"card",style:{textAlign:"center",padding:"3rem"},children:[n.jsx("h3",{children:" Aucune donne"}),n.jsx("p",{children:'Cliquez sur "Actualiser" pour charger les donnes du mois slectionn.'})]}),n.jsx("div",{style:{marginTop:"2rem"},children:n.jsx(fy,{})})]})},hy=()=>{const[e,t]=N.useState([]),[r,s]=N.useState(!0);N.useEffect(()=>{a()},[]);const a=async()=>{try{s(!0);const d=await B.get("/employees");let m=null;d.data.success&&d.data.data?m=d.data.data:Array.isArray(d.data)&&(m=d.data),m?t(m):(t([]),P.error("Format de donnes invalide"))}catch(d){P.error("Erreur lors du chargement des employs"),console.error(d),t([])}finally{s(!1)}},l=()=>{const d={};return e.filter(p=>p.contractType==="Apprentissage"&&p.tutor).forEach(p=>{const j=p.tutor;if(!d[j]){const S=e.find(h=>h._id===j);S&&(d[j]={tutor:S,apprentices:[]})}d[j]&&d[j].apprentices.push(p)}),Object.values(d)},i=d=>({vendeuse:"Vendeuse",apprenti:"Apprenti",responsable:"Responsable",manager:"Manager",preparateur:"Prparateur",chef_prod:"Chef Prod",boulanger:"Boulanger"})[d]||d,o=d=>d?new Date(d).toLocaleDateString("fr-FR"):"-";if(r)return n.jsx("div",{className:"card",children:n.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[n.jsx("div",{className:"loading"}),n.jsx("p",{children:"Chargement des tuteurs..."})]})});const c=l();return n.jsxs("div",{className:"tutors fade-in",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h2",{children:" Gestion des Tuteurs"}),n.jsx("p",{children:"Liste des tuteurs et de leurs apprentis"})]}),c.length===0?n.jsxs("div",{className:"card",style:{textAlign:"center",padding:"3rem"},children:[n.jsx("h3",{children:" Aucun tuteur trouv"}),n.jsx("p",{children:"Aucun apprenti n'a de tuteur assign pour le moment."})]}):n.jsx("div",{className:"card",children:n.jsx("div",{style:{overflowX:"auto"},children:n.jsxs("table",{className:"table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Tuteur"}),n.jsx("th",{children:"Rle"}),n.jsx("th",{children:"Statut"}),n.jsx("th",{children:"Apprentis"}),n.jsx("th",{children:"Dtails des apprentis"})]})}),n.jsx("tbody",{children:c.map((d,m)=>n.jsxs("tr",{children:[n.jsx("td",{children:n.jsx("strong",{children:d.tutor.name})}),n.jsx("td",{children:i(d.tutor.role)}),n.jsx("td",{children:n.jsx("span",{style:{color:d.tutor.isActive?"#28a745":"#dc3545",fontWeight:"bold"},children:d.tutor.isActive?"Actif":"Inactif"})}),n.jsx("td",{children:n.jsx("span",{style:{backgroundColor:"#007bff",color:"white",padding:"0.25rem 0.5rem",borderRadius:"50%",fontSize:"0.9rem",fontWeight:"bold"},children:d.apprentices.length})}),n.jsx("td",{children:n.jsx("div",{style:{maxWidth:"300px"},children:d.apprentices.map((p,j)=>{var S;return n.jsxs("div",{style:{marginBottom:"0.5rem",padding:"0.5rem",backgroundColor:"#f8f9fa",borderRadius:"4px",border:"1px solid #dee2e6"},children:[n.jsx("div",{style:{fontWeight:"bold",color:"#495057"},children:p.name}),n.jsxs("div",{style:{fontSize:"0.9rem",color:"#6c757d"},children:["ge: ",p.age," ans",p.isMinor&&n.jsx("span",{style:{color:"#ffc107",marginLeft:"0.5rem"},children:"(Mineur)"})]}),n.jsxs("div",{style:{fontSize:"0.9rem",color:"#6c757d"},children:["Contrat: ",p.contractType]}),p.contractEndDate&&n.jsxs("div",{style:{fontSize:"0.9rem",color:"#6c757d"},children:["Fin: ",o(p.contractEndDate)]}),n.jsxs("div",{style:{fontSize:"0.9rem",color:"#6c757d"},children:["Formation: ",((S=p.trainingDays)==null?void 0:S.join(", "))||"Aucune"]}),n.jsxs("div",{style:{fontSize:"0.9rem",color:"#6c757d"},children:["Statut:",n.jsx("span",{style:{color:p.isActive?"#28a745":"#dc3545",fontWeight:"bold",marginLeft:"0.25rem"},children:p.isActive?"Actif":"Inactif"})]})]},p._id)})})})]},d.tutor._id))})]})})}),n.jsxs("div",{className:"card",style:{marginTop:"1.5rem"},children:[n.jsx("h3",{children:" Statistiques"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[n.jsxs("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#007bff"},children:c.length}),n.jsx("div",{style:{color:"#6c757d"},children:"Tuteurs actifs"})]}),n.jsxs("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#28a745"},children:e.filter(d=>d.contractType==="Apprentissage").length}),n.jsx("div",{style:{color:"#6c757d"},children:"Apprentis total"})]}),n.jsxs("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#ffc107"},children:e.filter(d=>d.contractType==="Apprentissage"&&!d.tutor).length}),n.jsx("div",{style:{color:"#6c757d"},children:"Sans tuteur"})]})]})]})]})},xd=()=>{const[e,t]=N.useState({employeeName:"",employeeEmail:"",startDate:"",endDate:""}),[r,s]=N.useState(null),[a,l]=N.useState(null),[i,o]=N.useState(!1),[c,d]=N.useState(""),[m,p]=N.useState(""),[j,S]=N.useState([]),[h,f]=N.useState(!0),v="https://boulangerie-planning-api-4-pbfy.onrender.com/api";N.useEffect(()=>{(async()=>{try{console.log(" Chargement des employs depuis:",`${v}/employees`);const w=await se.get(`${v}/employees`);console.log(" Rponse API employs:",w.data);let y=null;w.data.success&&w.data.data?y=w.data.data:Array.isArray(w.data)&&(y=w.data),y?(S(y),console.log(" Employs chargs:",y)):(console.error(" Rponse API invalide:",w.data),d("Erreur: rponse API invalide"),p("error"))}catch(w){console.error(" Erreur rcupration employs:",w),d("Erreur lors du chargement de la liste des employs"),p("error")}finally{f(!1)}})()},[v]);const u=D=>{const{name:w,value:y}=D.target;if(w==="employeeName"){const b=j.find(A=>A.name===y);t(A=>({...A,[w]:y,employeeEmail:b?b.email:""}))}else t(b=>({...b,[w]:y}))},g=D=>{const w=D.target.files[0];if(w){if(!["image/jpeg","image/jpg","application/pdf"].includes(w.type)){d("Seuls les fichiers JPG et PDF sont accepts"),p("error");return}if(w.size>10*1024*1024){d("Le fichier ne doit pas dpasser 10MB"),p("error");return}if(s(w),d(""),p(""),w.type.startsWith("image/")){const b=new FileReader;b.onload=A=>{l(A.target.result)},b.readAsDataURL(w)}else l(null)}},x=async D=>{var w,y;if(D.preventDefault(),!r){d("Veuillez slectionner un fichier"),p("error");return}o(!0),d("");try{const b=new FormData;b.append("sickLeaveFile",r),b.append("employeeName",e.employeeName),b.append("employeeEmail",e.employeeEmail),b.append("startDate",e.startDate),b.append("endDate",e.endDate);const A=await se.post(`${v}/sick-leaves/upload`,b,{headers:{"Content-Type":"multipart/form-data"}});A.data.success?(d("Arrt maladie envoy avec succs !"),p("success"),t({employeeName:"",employeeEmail:"",startDate:"",endDate:""}),s(null),l(null),document.getElementById("fileInput").value=""):(d(A.data.error||"Erreur lors de l'envoi"),p("error"))}catch(b){console.error("Erreur upload:",b),d(((y=(w=b.response)==null?void 0:w.data)==null?void 0:y.error)||"Erreur lors de l'envoi de l'arrt maladie"),p("error")}finally{o(!1)}},k=()=>new Date().toISOString().split("T")[0];return n.jsx("div",{className:"sick-leave-upload-standalone",children:n.jsxs("div",{className:"upload-container",children:[n.jsxs("div",{className:"upload-header",children:[n.jsx("h1",{children:" Envoi d'Arrt Maladie"}),n.jsx("p",{children:"Envoyez votre arrt maladie"})]}),n.jsxs("form",{onSubmit:x,className:"upload-form",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"employeeName",children:"Nom complet *"}),n.jsxs("select",{id:"employeeName",name:"employeeName",value:e.employeeName,onChange:u,required:!0,disabled:h,children:[n.jsx("option",{value:"",children:h?"Chargement...":"Slectionnez votre nom"}),j.map(D=>n.jsx("option",{value:D.name,children:D.name},D._id))]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"employeeEmail",children:"Email *"}),n.jsx("input",{type:"email",id:"employeeEmail",name:"employeeEmail",value:e.employeeEmail,onChange:u,required:!0,placeholder:"votre.email@exemple.com",readOnly:!0,className:"readonly-input"})]}),n.jsxs("div",{className:"date-group",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"startDate",children:"Date de dbut d'arrt *"}),n.jsx("input",{type:"date",id:"startDate",name:"startDate",value:e.startDate,onChange:u,required:!0,max:k()})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"endDate",children:"Date de fin d'arrt *"}),n.jsx("input",{type:"date",id:"endDate",name:"endDate",value:e.endDate,onChange:u,required:!0,min:e.startDate||k()})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"fileInput",children:"Arrt maladie (JPG ou PDF) *"}),n.jsxs("div",{className:"file-upload-area",children:[n.jsx("input",{type:"file",id:"fileInput",accept:".jpg,.jpeg,.pdf",onChange:g,required:!0,className:"file-input"}),n.jsx("label",{htmlFor:"fileInput",className:"file-label",children:r?n.jsxs("div",{className:"file-selected",children:[n.jsx("span",{className:"file-icon",children:""}),n.jsx("span",{className:"file-name",children:r.name}),n.jsxs("span",{className:"file-size",children:["(",(r.size/1024/1024).toFixed(2)," MB)"]})]}):n.jsxs("div",{className:"file-placeholder",children:[n.jsx("span",{className:"upload-icon",children:""}),n.jsx("span",{children:"Cliquez pour slectionner un fichier"}),n.jsx("small",{children:"JPG, PDF (max 10MB)"})]})})]})]}),a&&n.jsxs("div",{className:"preview-container",children:[n.jsx("h3",{children:"Aperu :"}),n.jsx("img",{src:a,alt:"Aperu",className:"preview-image"})]}),c&&n.jsx("div",{className:`message ${m}`,children:c}),n.jsx("button",{type:"submit",className:"submit-button",disabled:i,children:i?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"spinner"}),"Envoi en cours..."]}):n.jsx(n.Fragment,{children:" Envoyer l'arrt maladie"})})]}),n.jsxs("div",{className:"upload-info",children:[n.jsx("h3",{children:" Informations importantes"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Seuls les fichiers JPG et PDF sont accepts"}),n.jsx("li",{children:"Taille maximum : 10MB"}),n.jsx("li",{children:"Vous recevrez une confirmation par email si votre arrt nous est bien transmis"})]})]})]})})},gy=()=>{const[e,t]=N.useState([]),[r,s]=N.useState({}),[a,l]=N.useState(!0),[i,o]=N.useState("all"),[c,d]=N.useState(1),[m,p]=N.useState(1),[j,S]=N.useState(""),[h,f]=N.useState(""),[v,u]=N.useState(null),[g,x]=N.useState(!1),[k,D]=N.useState(!1),[w,y]=N.useState(null),[b,A]=N.useState({startDate:"",endDate:""}),C="https://boulangerie-planning-api-4-pbfy.onrender.com/api",z=N.useCallback(async()=>{var U,ee,ne,le;try{l(!0),console.log(" Rcupration des arrts maladie...");const K={page:c,limit:50,sortBy:"uploadDate",sortOrder:"desc"};i!=="all"&&(K.status=i);const R=await se.get(`${C}/sick-leaves`,{params:K});if(R.data.success){let X=R.data.data.sickLeaves||R.data.data;console.log(" Arrts maladie reus:",X),i!=="all"&&(X=X.filter(Ct=>Ct.status===i)),X.sort((Ct,zt)=>new Date(zt.uploadDate)-new Date(Ct.uploadDate));const je=12,fe=(c-1)*je,ge=fe+je,ut=X.slice(fe,ge);t(ut),p(Math.ceil(X.length/je)),console.log(` ${X.length} arrts maladie rcuprs, ${ut.length} affichs`)}else console.log(" Rponse API sans succs:",R.data),S("Erreur: Rponse API invalide"),f("error")}catch(K){console.error(" Erreur lors du chargement des arrts maladie:",K),console.error(" Dtails de l'erreur:",(U=K.response)==null?void 0:U.data),console.error(" Status:",(ee=K.response)==null?void 0:ee.status),S(`Erreur lors du chargement des arrts maladie: ${((le=(ne=K.response)==null?void 0:ne.data)==null?void 0:le.error)||K.message}`),f("error")}finally{l(!1)}},[i,c,C]),_=async()=>{var ee,ne;if(window.confirm(` ATTENTION : Cette action va supprimer TOUTES les donnes des arrts maladie de la base de donnes.

- Les fichiers sur le NAS seront conservs
- Seuls les enregistrements de la base de donnes seront supprims
- Cette action est IRRVERSIBLE

tes-vous sr de vouloir continuer ?`))try{console.log(" Suppression de tous les arrts maladie..."),l(!0);const le=await se.delete(`${C}/sick-leaves/all`);le.data.success?(S(` ${le.data.deletedCount} arrts maladie supprims de la base de donnes`),f("success"),await z(),await M()):(S(" Erreur lors de la suppression"),f("error"))}catch(le){console.error(" Erreur suppression arrts maladie:",le),S(` Erreur lors de la suppression: ${((ne=(ee=le.response)==null?void 0:ee.data)==null?void 0:ne.error)||le.message}`),f("error")}finally{l(!1)}},M=N.useCallback(async()=>{try{console.log(" Rcupration des statistiques...");const U=await se.get(`${C}/sick-leaves/stats/overview`);U.data.success&&(s(U.data.data),console.log(" Statistiques rcupres:",U.data.data))}catch(U){if(console.error("Erreur rcupration statistiques:",U),e.length>0){const ee={total:e.length,pending:e.filter(ne=>ne.status==="pending").length,validated:e.filter(ne=>ne.status==="validated").length,declared:e.filter(ne=>ne.status==="declared").length,rejected:e.filter(ne=>ne.status==="rejected").length,overdue:0};s(ee)}}},[C]);N.useEffect(()=>{z(),M()},[i,c,z,M]);const T=async U=>{try{if((await se.put(`${C}/sick-leaves/${U}/validate`,{validatedBy:"Admin",notes:"Valid par l'administrateur"})).data.success){try{const ne=e.find(le=>le._id===U);if(ne){const le=await se.get(`${C}/employees`);console.log(" Recherche employ:",ne.employeeName),console.log(" Employs disponibles:",le.data.map(R=>({name:R.name,id:R._id})));const K=le.data.find(R=>R.name===ne.employeeName);K?(console.log(" Employ trouv:",K.name,"ID:",K._id),await se.put(`${C}/employees/${K._id}`,{sickLeave:{isOnSickLeave:!0,startDate:ne.startDate,endDate:ne.endDate}}),console.log(" Arrt maladie synchronis avec la dclaration manuelle")):console.warn(" Employ non trouv pour la synchronisation:",ne.employeeName)}}catch(ne){console.error(" Erreur lors de la synchronisation:",ne)}S("Arrt maladie valid et synchronis avec succs"),f("success"),z(),M()}}catch(ee){console.error("Erreur validation:",ee),S("Erreur lors de la validation"),f("error")}},F=async U=>{const ee=prompt("Raison du rejet (obligatoire):");if(!ee||ee.trim()===""){S("La raison du rejet est obligatoire"),f("error");return}if(window.confirm(`tes-vous sr de vouloir rejeter cet arrt maladie ?

Raison : ${ee}

Un email sera envoy au salari pour l'informer du rejet.`))try{(await se.put(`${C}/sick-leaves/${U}/reject`,{rejectedBy:"Admin",reason:ee.trim()})).data.success&&(S("Arrt maladie rejet - Email envoy au salari"),f("success"),z(),M())}catch(le){console.error("Erreur rejet:",le),S("Erreur lors du rejet"),f("error")}},I=async U=>{const ee=prompt("Notes de dclaration (optionnel):")||"";if(window.confirm(`tes-vous sr de vouloir marquer cet arrt maladie comme dclar ?

Un email sera envoy au comptable pour l'informer de la validation.`))try{(await se.put(`${C}/sick-leaves/${U}/declare`,{declaredBy:"Admin",notes:ee})).data.success&&(S("Arrt maladie dclar - Email envoy au comptable"),f("success"),z(),M())}catch(le){console.error("Erreur dclaration:",le),S("Erreur lors de la dclaration"),f("error")}},Q=U=>{y(U),A({startDate:U.startDate.split("T")[0],endDate:U.endDate.split("T")[0]}),D(!0)},O=()=>{D(!1),y(null),A({startDate:"",endDate:""})},H=async U=>{if(U.preventDefault(),!!w)try{(await se.put(`${C}/sick-leaves/${w._id}`,{startDate:b.startDate,endDate:b.endDate})).data.success&&(S("Dates modifies avec succs"),f("success"),O(),z())}catch(ee){console.error("Erreur lors de la modification:",ee),S("Erreur lors de la modification des dates"),f("error")}},J=async U=>{try{const ee=await se.get(`${C}/sick-leaves/${U}/download`,{responseType:"blob"}),ne=ee.headers["content-disposition"];let le=`arret-maladie-${U}.pdf`;if(ne){const X=ne.match(/filename="(.+)"/);X&&(le=X[1])}const K=window.URL.createObjectURL(new Blob([ee.data])),R=document.createElement("a");R.href=K,R.setAttribute("download",le),document.body.appendChild(R),R.click(),R.remove(),window.URL.revokeObjectURL(K),console.log(" Fichier tlcharg:",le)}catch(ee){console.error(" Erreur tlchargement:",ee),S("Erreur lors du tlchargement du fichier"),f("error")}},G=U=>{u(U),x(!0)},Y=()=>{x(!1),u(null)},he=U=>{const ne={pending:{text:"En attente",class:"status-pending"},validated:{text:"Valid",class:"status-validated"},declared:{text:"Dclar",class:"status-declared"},rejected:{text:"Rejet",class:"status-rejected"}}[U]||{text:U,class:"status-default"};return n.jsx("span",{className:`status-badge ${ne.class}`,children:ne.text})},oe=U=>new Date(U).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric"}),Ce=U=>{if(U===0)return"0 Bytes";const ee=1024,ne=["Bytes","KB","MB","GB"],le=Math.floor(Math.log(U)/Math.log(ee));return parseFloat((U/Math.pow(ee,le)).toFixed(2))+" "+ne[le]};return n.jsxs("div",{className:"sick-leave-admin",children:[n.jsxs("div",{className:"admin-header",children:[n.jsx("h1",{children:" Gestion des Arrts Maladie"}),n.jsx("p",{children:"Suivi et validation des arrts maladie des salaris"})]}),n.jsxs("div",{className:"stats-grid",children:[n.jsxs("div",{className:"stat-item",children:[n.jsx("div",{className:"stat-number",children:r.total||0}),n.jsx("div",{className:"stat-label",children:"Total"})]}),n.jsxs("div",{className:"stat-item pending",children:[n.jsx("div",{className:"stat-number",children:r.pending||0}),n.jsx("div",{className:"stat-label",children:"En attente"})]}),n.jsxs("div",{className:"stat-item validated",children:[n.jsx("div",{className:"stat-number",children:r.validated||0}),n.jsx("div",{className:"stat-label",children:"Valids"})]}),n.jsxs("div",{className:"stat-item declared",children:[n.jsx("div",{className:"stat-number",children:r.declared||0}),n.jsx("div",{className:"stat-label",children:"Dclars"})]}),r.overdue>0&&n.jsxs("div",{className:"stat-item overdue",children:[n.jsx("div",{className:"stat-number",children:r.overdue}),n.jsx("div",{className:"stat-label",children:"En retard"})]})]}),n.jsxs("div",{className:"admin-actions",children:[n.jsx("button",{className:"btn btn-danger",onClick:_,disabled:a||(r.total||0)===0,style:{opacity:(r.total||0)===0?.5:1,cursor:(r.total||0)===0?"not-allowed":"pointer"},children:" Effacer toutes les donnes"}),n.jsxs("p",{className:"admin-warning",children:[" Attention : Ce bouton supprime uniquement les donnes de la base de donnes.",n.jsx("br",{}),"Les fichiers sur le NAS sont conservs."]})]}),n.jsxs("div",{className:"filters-row",children:[n.jsxs("select",{value:i,onChange:U=>{o(U.target.value),d(1)},className:"status-filter",children:[n.jsx("option",{value:"all",children:"Tous les statuts"}),n.jsx("option",{value:"pending",children:"En attente"}),n.jsx("option",{value:"validated",children:"Valids"}),n.jsx("option",{value:"declared",children:"Dclars"}),n.jsx("option",{value:"rejected",children:"Rejets"})]}),n.jsx("div",{className:"quick-actions",children:n.jsx("a",{href:"/plan/sick-leave-standalone.html",target:"_blank",rel:"noopener noreferrer",className:"action-link",children:" Lien pour salaris"})})]}),j&&n.jsx("div",{className:`message ${h}`,children:j}),n.jsx("div",{className:"sick-leaves-list",children:a?n.jsx("div",{className:"loading",children:"Chargement..."}):e.length===0?n.jsx("div",{className:"no-data",children:"Aucun arrt maladie trouv"}):n.jsx("div",{className:"sick-leaves-grid",children:e.map(U=>n.jsxs("div",{className:"sick-leave-card",children:[n.jsxs("div",{className:"card-header",children:[n.jsxs("div",{className:"employee-info",children:[n.jsx("h3",{children:U.employeeName}),n.jsx("p",{children:U.employeeEmail})]}),he(U.status)]}),n.jsxs("div",{className:"card-content",children:[n.jsxs("div",{className:"period",children:[n.jsx("strong",{children:"Priode:"})," ",oe(U.startDate)," - ",oe(U.endDate),n.jsxs("span",{className:"duration",children:["(",U.duration," jour",U.duration>1?"s":"",")"]})]}),n.jsxs("div",{className:"file-info",children:[n.jsx("strong",{children:"Fichier:"})," ",U.originalFileName,n.jsxs("span",{className:"file-size",children:["(",Ce(U.fileSize),")"]})]}),n.jsxs("div",{className:"validation-info",children:[n.jsxs("div",{className:`quality-score ${U.autoValidation.qualityScore>=60?"good":"poor"}`,children:["Score: ",U.autoValidation.qualityScore,"/100"]}),U.isOverdue&&n.jsx("div",{className:"overdue-warning",children:" En retard"})]})]}),n.jsxs("div",{className:"card-actions",children:[n.jsx("button",{onClick:()=>G(U),className:"btn btn-info",title:"Voir dtails",children:""}),n.jsx("button",{onClick:()=>J(U._id),className:"btn btn-download",title:"Tlcharger",children:""}),U.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>Q(U),className:"btn btn-warning",title:"Modifier les dates",children:""}),n.jsx("button",{onClick:()=>T(U._id),className:"btn btn-success",title:"Valider",children:""}),n.jsx("button",{onClick:()=>F(U._id),className:"btn btn-danger",title:"Rejeter",children:""})]}),U.status==="validated"&&n.jsx("button",{onClick:()=>I(U._id),className:"btn btn-primary",title:"Marquer comme dclar",children:""})]})]},U._id))})}),m>1&&n.jsxs("div",{className:"pagination",children:[n.jsx("button",{onClick:()=>d(U=>Math.max(U-1,1)),disabled:c===1,className:"page-btn",children:"Prcdent"}),n.jsxs("span",{className:"page-info",children:["Page ",c," sur ",m]}),n.jsx("button",{onClick:()=>d(U=>Math.min(U+1,m)),disabled:c===m,className:"page-btn",children:"Suivant"})]}),g&&v&&n.jsx("div",{className:"modal-overlay",onClick:Y,children:n.jsxs("div",{className:"modal-content",onClick:U=>U.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{children:"Dtails de l'arrt maladie"}),n.jsx("button",{onClick:Y,className:"close-btn",children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"detail-section",children:[n.jsx("h3",{children:"Salari"}),n.jsxs("p",{children:[n.jsx("strong",{children:"Nom:"})," ",v.employeeName]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Email:"})," ",v.employeeEmail]})]}),n.jsxs("div",{className:"detail-section",children:[n.jsx("h3",{children:"Priode d'arrt"}),n.jsxs("p",{children:[n.jsx("strong",{children:"Dbut:"})," ",oe(v.startDate)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Fin:"})," ",oe(v.endDate)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Dure:"})," ",v.duration," jour",v.duration>1?"s":""]})]}),n.jsxs("div",{className:"detail-section",children:[n.jsx("h3",{children:"Fichier"}),n.jsxs("p",{children:[n.jsx("strong",{children:"Nom:"})," ",v.originalFileName]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Taille:"})," ",Ce(v.fileSize)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Type:"})," ",v.fileType]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Upload le:"})," ",oe(v.uploadDate)]})]}),n.jsxs("div",{className:"detail-section",children:[n.jsx("h3",{children:"Validation automatique"}),n.jsxs("p",{children:[n.jsx("strong",{children:"Score:"})," ",v.autoValidation.qualityScore,"/100"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Message:"})," ",v.autoValidation.validationMessage]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Lisible:"})," ",v.autoValidation.isReadable?"Oui":"Non"]})]}),v.manualValidation.validatedBy&&n.jsxs("div",{className:"detail-section",children:[n.jsx("h3",{children:"Validation manuelle"}),n.jsxs("p",{children:[n.jsx("strong",{children:"Valid par:"})," ",v.manualValidation.validatedBy]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Date:"})," ",oe(v.manualValidation.validatedAt)]}),v.manualValidation.validationNotes&&n.jsxs("p",{children:[n.jsx("strong",{children:"Notes:"})," ",v.manualValidation.validationNotes]})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{onClick:()=>J(v._id),className:"btn btn-download",children:" Tlcharger"}),n.jsx("button",{onClick:Y,className:"btn btn-secondary",children:"Fermer"})]})]})}),k&&w&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal-content",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{children:" Modifier les dates"}),n.jsx("button",{onClick:O,className:"close-btn",children:""})]}),n.jsxs("form",{onSubmit:H,children:[n.jsxs("div",{className:"modal-body",children:[n.jsx("div",{className:"form-group",children:n.jsxs("label",{children:["Employ: ",w.employeeName]})}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"editStartDate",children:"Date de dbut:"}),n.jsx("input",{type:"date",id:"editStartDate",value:b.startDate,onChange:U=>A({...b,startDate:U.target.value}),required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"editEndDate",children:"Date de fin:"}),n.jsx("input",{type:"date",id:"editEndDate",value:b.endDate,onChange:U=>A({...b,endDate:U.target.value}),required:!0})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"submit",className:"btn btn-primary",children:" Sauvegarder"}),n.jsx("button",{type:"button",onClick:O,className:"btn btn-secondary",children:"Annuler"})]})]})]})})]})},vy=()=>n.jsx("div",{className:"sick-leave-home",children:n.jsxs("div",{className:"home-container",children:[n.jsxs("div",{className:"home-header",children:[n.jsx("h1",{children:" Arrts Maladie"}),n.jsx("p",{children:"Envoyez votre arrt maladie en toute scurit"})]}),n.jsxs("div",{className:"home-content",children:[n.jsxs("div",{className:"info-card",children:[n.jsx("h2",{children:" Comment envoyer votre arrt maladie ?"}),n.jsxs("ol",{children:[n.jsx("li",{children:"Remplissez le formulaire avec vos informations"}),n.jsx("li",{children:"Scannez ou photographiez votre arrt maladie"}),n.jsx("li",{children:"Envoyez le fichier (JPG ou PDF)"}),n.jsx("li",{children:"Recevez une confirmation"})]})]}),n.jsxs("div",{className:"requirements-card",children:[n.jsx("h2",{children:" Exigences"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Fichier JPG ou PDF uniquement"}),n.jsx("li",{children:"Taille maximum : 10MB"}),n.jsx("li",{children:"Document lisible et de bonne qualit"}),n.jsx("li",{children:"Dates de dbut et fin d'arrt"})]})]}),n.jsxs("div",{className:"security-card",children:[n.jsx("h2",{children:" Scurit"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Vos donnes sont chiffres"}),n.jsx("li",{children:"Stockage scuris sur notre serveur"}),n.jsx("li",{children:"Accs restreint aux administrateurs"}),n.jsx("li",{children:"Conformit RGPD"})]})]})]}),n.jsx("div",{className:"action-section",children:n.jsx(Hm,{to:"/sick-leave-upload",className:"upload-button",children:" Envoyer mon arrt maladie"})}),n.jsxs("div",{className:"contact-info",children:[n.jsx("h3",{children:" Besoin d'aide ?"}),n.jsx("p",{children:"Contactez votre responsable ou l'administration"})]})]})}),xy=()=>{const[e,t]=N.useState([]),[r,s]=N.useState([]),[a,l]=N.useState(!0),[i,o]=N.useState(!1),[c,d]=N.useState(null),[m,p]=N.useState({startDate:"",endDate:""}),[j,S]=N.useState("all"),[h,f]=N.useState(new Date().getFullYear());console.log(" VacationRequestAdmin - Rendu du composant"),N.useEffect(()=>{console.log(" tat showEditModal chang:",i),i||console.log(" Modal ferm - Stack trace:",new Error().stack)},[i]);const v=async()=>{try{l(!0),console.log(" Rcupration des demandes de congs...");const C=await B.get("/vacation-requests");C.data.success?(t(C.data.data),console.log(" Demandes de congs charges:",C.data.data.length),u(C.data.data)):(t([]),s([]),console.error(" Format de donnes invalide"))}catch(C){console.error(" Erreur lors du chargement:",C),P.error("Erreur lors du chargement des demandes de congs"),t([]),s([])}finally{l(!1)}},u=(C=e)=>{let z=C;j!=="all"&&(z=z.filter(_=>_.status===j)),z=z.filter(_=>new Date(_.startDate).getFullYear()===h),s(z)};N.useEffect(()=>{u()},[j,h,e]),N.useEffect(()=>{v()},[]);const g=C=>{console.log(" Ouverture modal modification pour:",C);const z={startDate:C.startDate,endDate:C.endDate,startDateType:typeof C.startDate,endDateType:typeof C.endDate};console.log(" Dates originales:",z);const _={startDate:C.startDate.split("T")[0],endDate:C.endDate.split("T")[0]};console.log(" Dates extraites:",_),d(C),p(_),o(!0),console.log(" Modal ouvert:",!0),setTimeout(()=>{console.log(" Vrification modal aprs 1 seconde - Modal devrait tre ouvert"),i||console.log(" MODAL FERM AUTOMATIQUEMENT - Raison possible: re-render ou autre vnement")},1e3)},x=()=>{console.log(" Fermeture modal - Appele depuis:",new Error().stack),console.log(" tat showEditModal avant fermeture:",i),o(!1),d(null),p({startDate:"",endDate:""})},k=async C=>{if(C.preventDefault(),!!c)try{console.log(" Soumission modification pour:",c._id),console.log(" Nouvelles dates:",m);const z=await B.patch(`/vacation-requests/${c._id}`,{startDate:m.startDate,endDate:m.endDate});console.log(" Rponse API modification:",z.data),z.data.success?(P.success("Demande de congs modifie avec succs"),x(),v()):P.error("Erreur lors de la modification")}catch(z){console.error(" Erreur lors de la modification:",z),P.error("Erreur lors de la modification de la demande")}},D=async C=>{try{(await B.patch(`/vacation-requests/${C}/accept`)).data.success&&(P.success("Demande accepte"),v())}catch(z){console.error("Erreur acceptation:",z),P.error("Erreur lors de l'acceptation")}},w=async C=>{try{(await B.patch(`/vacation-requests/${C}/reject`)).data.success&&(P.success("Demande rejete"),v())}catch(z){console.error("Erreur rejet:",z),P.error("Erreur lors du rejet")}},y=C=>{const _={pending:{text:"En attente",class:"badge-warning",icon:""},validated:{text:"Valid",class:"badge-success",icon:""},accepted:{text:"Accept",class:"badge-success",icon:""},rejected:{text:"Rejet",class:"badge-danger",icon:""}}[C]||{text:C,class:"badge-secondary",icon:""};return n.jsxs("span",{className:`status-badge ${_.class}`,children:[_.icon," ",_.text]})},b=C=>new Date(C).toLocaleDateString("fr-FR"),A=(C,z)=>{const _=new Date(C),M=new Date(z),T=Math.abs(M-_);return Math.ceil(T/(1e3*60*60*24))+1};return n.jsxs("div",{className:"vacation-request-admin",children:[n.jsxs("div",{className:"admin-header",children:[n.jsx("h1",{children:" Gestion des Demandes de Congs"}),n.jsx("p",{children:"Validation et suivi des demandes de congs des employs"})]}),n.jsxs("div",{className:"admin-actions",children:[n.jsx("button",{className:"btn btn-primary",onClick:()=>window.open("/plan/vacation-planning","_blank"),children:" Impression Calendrier"}),n.jsx("button",{className:"btn btn-warning",onClick:async()=>{try{const C=await B.post("/vacation-requests/sync-employees");C.data.success&&(P.success(`Synchronisation termine: ${C.data.syncedCount} employs mis  jour`),v())}catch{P.error("Erreur lors de la synchronisation")}},children:" Synchroniser Congs"})]}),n.jsxs("div",{className:"filters-section",children:[n.jsxs("div",{className:"filter-group",children:[n.jsx("label",{htmlFor:"status-filter",children:"Statut :"}),n.jsxs("select",{id:"status-filter",value:j,onChange:C=>S(C.target.value),className:"form-control",children:[n.jsxs("option",{value:"all",children:["Toutes (",e.length,")"]}),n.jsxs("option",{value:"pending",children:[" En attente (",e.filter(C=>C.status==="pending").length,")"]}),n.jsxs("option",{value:"validated",children:[" Valides (",e.filter(C=>C.status==="validated").length,")"]}),n.jsxs("option",{value:"rejected",children:[" Rejetes (",e.filter(C=>C.status==="rejected").length,")"]})]})]}),n.jsxs("div",{className:"filter-group",children:[n.jsx("label",{htmlFor:"year-filter",children:"Anne des congs :"}),n.jsxs("select",{id:"year-filter",value:h,onChange:C=>f(parseInt(C.target.value)),className:"form-control",children:[n.jsx("option",{value:new Date().getFullYear(),children:new Date().getFullYear()}),n.jsx("option",{value:new Date().getFullYear()+1,children:new Date().getFullYear()+1}),n.jsx("option",{value:new Date().getFullYear()-1,children:new Date().getFullYear()-1})]})]})]}),n.jsx("div",{className:"vacation-requests-list",children:a?n.jsx("div",{className:"loading",children:"Chargement des demandes de congs..."}):r.length===0?n.jsx("div",{className:"no-data",children:n.jsx("p",{children:"Aucune demande de congs trouve pour les filtres slectionns"})}):n.jsx("div",{className:"requests-grid",children:r.map(C=>n.jsxs("div",{className:`request-card status-${C.status}`,children:[n.jsxs("div",{className:"card-header",children:[n.jsxs("div",{className:"employee-info",children:[n.jsx("h3",{className:"employee-name",children:C.employeeName}),n.jsx("p",{className:"employee-email",children:C.employeeEmail}),n.jsxs("p",{className:"employee-city",children:[" ",C.city]})]}),n.jsx("div",{className:"status-badge-container",children:y(C.status)})]}),n.jsxs("div",{className:"card-content",children:[n.jsxs("div",{className:"info-row period-row",children:[n.jsx("span",{className:"info-label",children:" Priode"}),n.jsxs("span",{className:"info-value",children:[b(C.startDate),"  ",b(C.endDate)]}),n.jsxs("span",{className:"duration-badge",children:[A(C.startDate,C.endDate)," jour",A(C.startDate,C.endDate)>1?"s":""]})]}),C.type&&n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:" Type"}),n.jsx("span",{className:"info-value",children:C.type||"-"})]}),C.reason&&n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:" Raison"}),n.jsx("span",{className:"info-value",children:C.reason||"-"})]}),C.validatedAt&&n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:" Valid le"}),n.jsx("span",{className:"info-value",children:b(C.validatedAt)})]}),C.rejectedAt&&n.jsxs("div",{className:"info-row",children:[n.jsx("span",{className:"info-label",children:" Rejet le"}),n.jsx("span",{className:"info-value",children:b(C.rejectedAt)})]})]}),n.jsx("div",{className:"card-actions",children:C.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>D(C._id),className:"btn btn-success btn-action",title:"Accepter",children:" Accepter"}),n.jsx("button",{onClick:()=>g(C),className:"btn btn-warning btn-action",title:"Modifier",children:" Modifier"}),n.jsx("button",{onClick:()=>w(C._id),className:"btn btn-danger btn-action",title:"Rejeter",children:" Rejeter"})]})})]},C._id))})}),i&&c&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal-content",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{children:" Modifier les dates de congs"}),n.jsx("button",{onClick:x,className:"close-btn",children:""})]}),n.jsxs("form",{onSubmit:k,children:[n.jsxs("div",{className:"modal-body",children:[n.jsx("div",{className:"form-group",children:n.jsxs("label",{children:["Employ: ",c.employeeName]})}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"editStartDate",children:"Date de dbut:"}),n.jsx("input",{type:"date",id:"editStartDate",value:m.startDate,onChange:C=>p({...m,startDate:C.target.value}),required:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"editEndDate",children:"Date de fin:"}),n.jsx("input",{type:"date",id:"editEndDate",value:m.endDate,onChange:C=>p({...m,endDate:C.target.value}),required:!0})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"submit",className:"btn btn-primary",children:" Sauvegarder"}),n.jsx("button",{type:"button",onClick:x,className:"btn btn-secondary",children:"Annuler"})]})]})]})})]})},yy=()=>{const[e,t]=N.useState([]),[r,s]=N.useState([]),[a,l]=N.useState(!0),[i,o]=N.useState(new Date().getFullYear()),[c,d]=N.useState("vente"),m=async()=>{try{l(!0);const y=await B.get("/employees"),b=y.data.success?y.data.data:y.data;s(b);const A=await B.get("/vacation-requests?status=validated"),C=A.data.success?A.data.data:A.data;t(C)}catch(y){console.error(" Erreur lors du chargement:",y),P.error("Erreur lors du chargement des donnes")}finally{l(!1)}};N.useEffect(()=>{m()},[]);const p={vente:["Vendeuse","Responsable","Manager","App. Vendeuse"],production:["Chef Prod","Boulanger","App. Boulanger","Prparateur","App. Prparateur"]},j=()=>{const y=p[c];return r.filter(b=>{const A=b.role||"";return y.some(C=>A.toLowerCase().includes(C.toLowerCase()))}).sort((b,A)=>b.name.localeCompare(A.name))},S=(y,b)=>new Date(b,y,0).getDate(),h=(y,b,A)=>new Date(A,b-1,y).getDay(),f=y=>["D","L","M","M","J","V","S"][y],v=(y,b,A)=>h(y,b,A)===0,u=(y,b,A,C)=>{const z=r.find(T=>T._id===y);if(!z)return null;const _=new Date(Date.UTC(C,A-1,b));return _.setHours(12,0,0,0),e.find(T=>{if(T.employeeName!==z.name||T.status!=="validated")return!1;const F=T.startDate.split("T")[0],I=T.endDate.split("T")[0],[Q,O,H]=F.split("-").map(Number),[J,G,Y]=I.split("-").map(Number),he=new Date(Date.UTC(Q,O-1,H));he.setHours(12,0,0,0);const oe=new Date(Date.UTC(J,G-1,Y));return oe.setHours(12,0,0,0),_>=he&&_<=oe})},g=y=>{const b=(y||"").toLowerCase();return b.includes("vendeuse")||b.includes("responsable")||b.includes("manager")||b.includes("app. vendeuse")?"#e3f2fd":b.includes("chef prod")||b.includes("boulanger")||b.includes("app. boulanger")?"#fff3e0":b.includes("prparateur")||b.includes("app. prparateur")?"#e8f5e8":"#f5f5f5"},x=[{name:"Janvier",number:1},{name:"Fvrier",number:2},{name:"Mars",number:3},{name:"Avril",number:4},{name:"Mai",number:5},{name:"Juin",number:6},{name:"Juillet",number:7},{name:"Aot",number:8},{name:"Septembre",number:9},{name:"Octobre",number:10},{name:"Novembre",number:11},{name:"Dcembre",number:12}],k=31,D=()=>{window.print()};if(a)return n.jsxs("div",{className:"vacation-planning-loading",children:[n.jsx("div",{className:"loading-spinner"}),n.jsx("p",{children:"Chargement du planning..."})]});const w=j();return n.jsxs("div",{className:"vacation-planning",children:[n.jsxs("div",{className:"planning-header",children:[n.jsxs("div",{className:"header-title",children:[n.jsxs("h1",{children:["Calendrier ",i]}),n.jsx("p",{className:"subtitle",children:"Planning annuel des congs valids"})]}),n.jsxs("div",{className:"header-controls",children:[n.jsxs("div",{className:"control-group",children:[n.jsx("label",{children:"Anne :"}),n.jsx("select",{value:i,onChange:y=>o(parseInt(y.target.value)),className:"control-select",children:Array.from({length:5},(y,b)=>{const A=new Date().getFullYear()-2+b;return n.jsx("option",{value:A,children:A},A)})})]}),n.jsxs("div",{className:"control-group",children:[n.jsx("label",{children:"Catgorie :"}),n.jsxs("select",{value:c,onChange:y=>d(y.target.value),className:"control-select",children:[n.jsx("option",{value:"vente",children:"Vente (Vendeuse, Responsable, Manager, App. Vendeuse)"}),n.jsx("option",{value:"production",children:"Production (Chef Prod, Boulanger, Prparateur, Apprentis)"})]})]}),n.jsx("button",{onClick:D,className:"btn-print",children:" Imprimer"})]})]}),n.jsxs("div",{className:"legend",children:[n.jsxs("div",{className:"legend-item",children:[n.jsx("span",{className:"legend-color vente"}),n.jsx("span",{children:"Vente"})]}),n.jsxs("div",{className:"legend-item",children:[n.jsx("span",{className:"legend-color chef-boulanger"}),n.jsx("span",{children:"Chef Prod / Boulanger"})]}),n.jsxs("div",{className:"legend-item",children:[n.jsx("span",{className:"legend-color preparateur"}),n.jsx("span",{children:"Prparateur"})]})]}),n.jsx("div",{className:"calendar-wrapper",children:n.jsxs("table",{className:"calendar-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"first-header"}),x.map(y=>n.jsx("th",{className:"month-header",children:y.name},y.number))]})}),n.jsx("tbody",{children:Array.from({length:k},(y,b)=>{const A=b+1;return n.jsxs("tr",{className:"day-row",children:[n.jsx("td",{className:"day-number-cell",children:A<=31?A:""}),x.map(C=>{const z=S(C.number,i),_=A<=z,M=_?h(A,C.number,i):-1,T=_?f(M):"",F=_&&v(A,C.number,i),I=w.filter(Q=>u(Q._id,A,C.number,i)!==null);return n.jsx("td",{className:`calendar-day-cell ${_?"":"empty"} ${F?"sunday":""}`,children:_&&n.jsxs("div",{className:"day-content",children:[n.jsx("span",{className:"day-value",children:A}),n.jsx("span",{className:"day-letter",children:T}),I.length>0&&n.jsx("div",{className:"vacation-initials",children:I.map((Q,O)=>{const H=u(Q._id,A,C.number,i);if(!H)return null;const J=Q.name.split(" ");let G="";J.length>=2?G=J[0].charAt(0).toUpperCase()+J[J.length-1].charAt(0).toUpperCase():J.length===1&&(G=J[0].substring(0,2).toUpperCase());const Y=new Date(H.startDate),he=new Date(H.endDate);return n.jsx("span",{className:"employee-initial",style:{backgroundColor:g(Q.role),color:"#333"},title:`${Q.name}: ${Y.toLocaleDateString("fr-FR")} - ${he.toLocaleDateString("fr-FR")}`,children:G},Q._id)})})]})},C.number)})]},A)})})]})})]})},jy=()=>{const[e,t]=N.useState(new Date().toISOString().slice(0,7)),[r,s]=N.useState([]),[a,l]=N.useState(!1),[i,o]=N.useState(!1),[c,d]=N.useState("up"),[m,p]=N.useState(!1),[j,S]=N.useState(""),[h,f]=N.useState(1),[v,u]=N.useState({up:{count:0,amount:0},pluxee:{count:0,amount:0},bimpli:{count:0,amount:0},edenred:{count:0,amount:0},total:{count:0,amount:0}});N.useEffect(()=>{g()},[e]),N.useEffect(()=>{x()},[r]);const g=async()=>{try{l(!0);const T=await B.get(`/ticket-restaurant?month=${e}`);s(T.data.tickets||[])}catch(T){console.error("Erreur lors du chargement des tickets:",T),P.error("Erreur lors du chargement des tickets")}finally{l(!1)}},x=()=>{const T={up:{count:0,amount:0},pluxee:{count:0,amount:0},bimpli:{count:0,amount:0},edenred:{count:0,amount:0},total:{count:0,amount:0}};r.forEach(F=>{T[F.provider]&&(T[F.provider].count++,T[F.provider].amount+=F.amount),T.total.count++,T.total.amount+=F.amount}),u(T)},k=async T=>{try{p(!0);const F=window.pageYOffset||document.documentElement.scrollTop,I=D(T);if(!I){P.error("Impossible d'extraire le montant du ticket");return}const Q={provider:c,amount:I,date:new Date().toISOString().split("T")[0],month:e,barcode:T};console.log(" Envoi des donnes:",Q);const O=await B.post("/ticket-restaurant",Q);console.log(" Rponse du serveur:",O.data),P.success(`#${h} - Ticket ${c.toUpperCase()} ajout: ${I}`),f(H=>H+1),await g(),setTimeout(()=>{window.scrollTo(0,F)},100)}catch(F){console.error("Erreur lors de l'ajout du ticket:",F),P.error("Erreur lors de l'ajout du ticket")}finally{p(!1)}},D=T=>{if(console.log(" Code-barres scann:",T),!T||T.length<10)return console.warn(" Code-barres trop court:",T),null;try{let F=null;if(T.length===24){console.log(" Extraction par structure officielle (24 caractres)...");const I=T.substring(11,16);console.log(" Montant brut extrait:",I,"centimes");const Q=parseFloat(I)/100;!isNaN(Q)&&Q>0&&Q<=999.99&&(F=Q,console.log(" Structure officielle:",I,"centimes ",F,""))}return F?(console.log(" Montant final:",F,""),Math.round(F*100)/100):(console.log(" Aucun montant valide trouv"),null)}catch(F){return console.error(" Erreur lors de l'extraction du montant:",F),null}},w=async T=>{if(window.confirm("tes-vous sr de vouloir supprimer ce ticket ?"))try{await B.delete(`/ticket-restaurant/${T}`),P.success("Ticket supprim"),await g()}catch(F){console.error("Erreur lors de la suppression:",F),P.error("Erreur lors de la suppression du ticket")}},y=async()=>{if(r.length===0){P.info("Aucun ticket  supprimer");return}const T=` ATTENTION 

Vous tes sur le point de supprimer TOUS les ${r.length} tickets du mois ${new Date(e).toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}.

Montant total : ${z(v.total.amount)}

Cette action est IRRVERSIBLE !

tes-vous absolument sr ?`;if(window.confirm(T))try{l(!0);let F=0,I=0;for(const Q of r)try{await B.delete(`/ticket-restaurant/${Q._id}`),F++}catch(O){console.error(`Erreur suppression ticket ${Q._id}:`,O),I++}I===0?P.success(` ${F} tickets supprims avec succs`):P.warning(` ${F} tickets supprims, ${I} erreurs`),await g()}catch(F){console.error("Erreur lors de la suppression globale:",F),P.error("Erreur lors de la suppression des tickets")}finally{l(!1)}},b=()=>{o(!0),console.log(" Dmarrage du scanner..."),setTimeout(()=>{const T=document.getElementById("barcode-input");T?(T.focus(),console.log(" Focus appliqu sur input scanner"),console.log(" Scanner prt - Pointez vers le code-barres")):console.error(" Input scanner non trouv")},100)},A=()=>{o(!1)},C=T=>{const F=T.target.value;console.log(" Input dtect:",F,"Longueur:",F.length);const I=j+F;console.log(" Buffer actuel:",I,"Longueur:",I.length),T.target.value="",I.length===24?(console.log(" Code-barres complet scann:",I),k(I),S("")):I.length>24?(console.error(" Buffer trop long, rinitialisation"),P.error(" Erreur de scan. Veuillez rescanner le ticket."),S("")):S(I)},z=T=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(T),_=T=>({up:"UP",pluxee:"Pluxee",bimpli:"Bimpli",edenred:"Edenred"})[T]||T.toUpperCase(),M=T=>({up:"#e74c3c",pluxee:"#3498db",bimpli:"#2ecc71",edenred:"#f39c12"})[T]||"#95a5a6";return n.jsxs("div",{className:"ticket-restaurant fade-in",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h2",{children:" Gestion des Tickets Restaurant"}),n.jsx("div",{className:"header-actions",children:n.jsxs("div",{className:"month-selector",children:[n.jsx("label",{htmlFor:"month",children:"Mois :"}),n.jsx("input",{type:"month",id:"month",value:e,onChange:T=>t(T.target.value),className:"form-control"})]})})]}),n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:n.jsx("h3",{children:" Scanner des Tickets"})}),n.jsx("div",{className:"card-body",children:n.jsxs("div",{className:"scanner-controls",children:[n.jsxs("div",{className:"provider-selector",children:[n.jsx("label",{children:"Fournisseur :"}),n.jsxs("select",{value:c,onChange:T=>d(T.target.value),className:"form-control",disabled:i,children:[n.jsx("option",{value:"up",children:"UP"}),n.jsx("option",{value:"pluxee",children:"Pluxee"}),n.jsx("option",{value:"bimpli",children:"Bimpli"}),n.jsx("option",{value:"edenred",children:"Edenred"})]})]}),i?n.jsxs("div",{className:"scanner-active",children:[n.jsxs("div",{className:"scanner-status",children:[n.jsx("div",{className:"scanner-indicator"}),n.jsx("span",{children:"Scanner actif - Pointez vers le code-barres"}),n.jsxs("span",{className:"scan-order-badge",children:["Prochain scan: #",h]})]}),n.jsx("input",{id:"barcode-input",type:"text",onChange:C,placeholder:"Code-barres sera captur automatiquement",style:{position:"absolute",left:"-9999px",opacity:0,width:"1px",height:"1px"},autoFocus:!0}),n.jsx("button",{className:"btn btn-secondary",onClick:A,children:"Arrter le scanner"}),j.length>0&&n.jsxs("div",{className:"buffer-status",children:[n.jsxs("span",{children:["Buffer: ",j.length,"/24 caractres"]}),n.jsx("button",{className:"btn btn-warning btn-sm",onClick:()=>{S(""),console.log(" Buffer rinitialis - Redmarrage du scanner"),o(!1),setTimeout(()=>{o(!0),setTimeout(()=>{const T=document.getElementById("barcode-input");T&&(T.focus(),console.log(" Scanner redmarr et focus restaur"))},100)},200),P.info(" Buffer rinitialis - Scanner redmarr")},children:" Rinitialiser"})]})]}):n.jsx("button",{className:"btn btn-primary",onClick:b,disabled:m,children:m?" Traitement...":" Dmarrer le scanner"})]})})]}),n.jsx("div",{className:"totals-grid",children:Object.entries(v).map(([T,F])=>T==="total"?null:n.jsxs("div",{className:"total-card",style:{borderColor:M(T)},children:[n.jsx("div",{className:"total-header",children:n.jsx("h4",{style:{color:M(T)},children:_(T)})}),n.jsxs("div",{className:"total-content",children:[n.jsxs("div",{className:"total-count",children:[n.jsx("span",{className:"count-number",children:F.count}),n.jsx("span",{className:"count-label",children:"tickets"})]}),n.jsx("div",{className:"total-amount",children:z(F.amount)})]})]},T))}),n.jsxs("div",{className:"card total-general",children:[n.jsx("div",{className:"card-header",children:n.jsx("h3",{children:" Total du mois"})}),n.jsx("div",{className:"card-body",children:n.jsxs("div",{className:"general-totals",children:[n.jsxs("div",{className:"total-item",children:[n.jsx("span",{className:"total-label",children:"Nombre total de tickets :"}),n.jsx("span",{className:"total-value",children:v.total.count})]}),n.jsxs("div",{className:"total-item",children:[n.jsx("span",{className:"total-label",children:"Montant total :"}),n.jsx("span",{className:"total-value amount",children:z(v.total.amount)})]})]})})]}),n.jsxs("div",{className:"card",children:[n.jsxs("div",{className:"card-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h3",{children:" Historique des tickets"}),r.length>0&&n.jsxs("button",{className:"btn btn-danger",onClick:y,title:"Supprimer tous les tickets du mois",children:[" Tout effacer (",r.length,")"]})]}),n.jsx("div",{className:"card-body",children:a?n.jsxs("div",{className:"loading-container",children:[n.jsx("div",{className:"loading"}),n.jsx("p",{children:"Chargement des tickets..."})]}):r.length===0?n.jsx("div",{className:"empty-state",children:n.jsx("p",{children:" Aucun ticket enregistr pour ce mois"})}):n.jsx("div",{className:"tickets-list",children:r.map((T,F)=>n.jsxs("div",{className:"ticket-item",children:[n.jsxs("div",{className:"ticket-info",children:[n.jsx("div",{className:"ticket-provider",style:{color:M(T.provider)},children:_(T.provider)}),n.jsx("div",{className:"ticket-amount",children:z(T.amount)}),n.jsx("div",{className:"ticket-date",children:new Date(T.date).toLocaleDateString("fr-FR")})]}),n.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>w(T._id),title:"Supprimer ce ticket",children:""})]},T._id||F))})})]})]})},Ny=({document:e,onDownload:t,getCategoryIcon:r,getCategoryLabel:s,formatFileSize:a,formatDate:l,isPersonal:i=!1})=>{const o=()=>{t(e._id,e.title)},d=(()=>{if(!i||!e.expiryDate)return null;const m=new Date,j=new Date(e.expiryDate)-m,S=Math.ceil(j/(1e3*60*60*24));return S<=0?{status:"expired",text:"Expir",class:"expired"}:S<=7?{status:"warning",text:`Expire dans ${S} jour${S>1?"s":""}`,class:"warning"}:S<=15?{status:"info",text:`Expire dans ${S} jours`,class:"info"}:null})();return n.jsxs("div",{className:`document-card ${i?"personal":"general"}`,children:[n.jsxs("div",{className:"document-header",children:[n.jsx("div",{className:"document-icon",children:r(e.category)}),n.jsxs("div",{className:"document-title",children:[n.jsx("h3",{children:e.title}),n.jsx("span",{className:"document-category",children:s(e.category)})]}),d&&n.jsx("div",{className:`expiry-badge ${d.class}`,children:d.text})]}),n.jsxs("div",{className:"document-content",children:[e.description&&n.jsx("p",{className:"document-description",children:e.description}),n.jsxs("div",{className:"document-details",children:[n.jsxs("div",{className:"detail-item",children:[n.jsx("span",{className:"detail-label",children:" Ajout le:"}),n.jsx("span",{className:"detail-value",children:l(e.uploadDate)})]}),n.jsxs("div",{className:"detail-item",children:[n.jsx("span",{className:"detail-label",children:" Taille:"}),n.jsx("span",{className:"detail-value",children:a(e.fileSize)})]}),e.downloadCount>0&&n.jsxs("div",{className:"detail-item",children:[n.jsx("span",{className:"detail-label",children:" Tlcharg:"}),n.jsxs("span",{className:"detail-value",children:[e.downloadCount," fois"]})]}),e.lastDownloadDate&&n.jsxs("div",{className:"detail-item",children:[n.jsx("span",{className:"detail-label",children:" Dernier tlchargement:"}),n.jsx("span",{className:"detail-value",children:l(e.lastDownloadDate)})]})]})]}),n.jsxs("div",{className:"document-actions",children:[n.jsxs("button",{className:"download-btn",onClick:o,disabled:(d==null?void 0:d.status)==="expired",children:[n.jsx("span",{className:"download-icon",children:""}),"Tlcharger"]}),(d==null?void 0:d.status)==="expired"&&n.jsx("div",{className:"expired-message",children:" Ce document a expir et ne peut plus tre tlcharg"})]})]})},yd=({title:e,description:t,documents:r,onDownload:s,getCategoryIcon:a,getCategoryLabel:l,formatFileSize:i,formatDate:o,emptyMessage:c,isPersonal:d=!1})=>n.jsxs("div",{className:"documents-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsx("h2",{children:e}),n.jsx("p",{className:"section-description",children:t})]}),r.length===0?n.jsxs("div",{className:"empty-state",children:[n.jsx("div",{className:"empty-icon",children:""}),n.jsx("h3",{children:"Aucun document"}),n.jsx("p",{children:c})]}):n.jsx("div",{className:"documents-grid",children:r.map(m=>n.jsx(Ny,{document:m,onDownload:s,getCategoryIcon:a,getCategoryLabel:l,formatFileSize:i,formatDate:o,isPersonal:d},m._id))}),r.length>0&&n.jsx("div",{className:"section-footer",children:n.jsxs("p",{className:"document-count",children:[r.length," document",r.length>1?"s":""," disponible",r.length>1?"s":""]})})]}),by=()=>{const{user:e}=ir(),[t,r]=N.useState([]),[s,a]=N.useState([]),[l,i]=N.useState(!0),[o,c]=N.useState("general");N.useEffect(()=>{e&&d()},[e]);const d=async()=>{try{i(!0);const f=await B.get("/documents/general");if(f.data.success&&r(f.data.data),e.employeeId){const v=await B.get(`/documents/personal/${e.employeeId}`);v.data.success&&a(v.data.data)}}catch(f){console.error("Erreur lors du chargement des documents:",f),P.error("Erreur lors du chargement des documents")}finally{i(!1)}},m=async(f,v)=>{try{console.log(" Tlchargement document:",f);let u=`/documents/${f}/download`;e.employeeId&&(u+=`?employeeId=${e.employeeId}`);const g=document.createElement("a");g.href=`https://boulangerie-planning-api-4-pbfy.onrender.com/api${u}`,g.download=v,document.body.appendChild(g),g.click(),document.body.removeChild(g),P.success(` Tlchargement de "${v}" dmarr`)}catch(u){console.error("Erreur lors du tlchargement:",u),P.error("Erreur lors du tlchargement du document")}},p=f=>({notice:"",procedure:"",formation:"",payslip:"",contract:"",other:""})[f]||"",j=f=>({notice:"Notice",procedure:"Procdure",formation:"Formation",payslip:"Fiche de paie",contract:"Contrat",other:"Autre"})[f]||f,S=f=>{if(f===0)return"0 Bytes";const v=1024,u=["Bytes","KB","MB","GB"],g=Math.floor(Math.log(f)/Math.log(v));return parseFloat((f/Math.pow(v,g)).toFixed(2))+" "+u[g]},h=f=>new Date(f).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});return l?n.jsx("div",{className:"employee-dashboard",children:n.jsxs("div",{className:"loading-container",children:[n.jsx("div",{className:"loading"}),n.jsx("p",{children:"Chargement de vos documents..."})]})}):n.jsxs("div",{className:"employee-dashboard",children:[n.jsxs("div",{className:"dashboard-header",children:[n.jsx("h1",{children:" Mes Documents"}),n.jsxs("p",{children:["Bienvenue ",(e==null?void 0:e.name)||"Employ",", consultez vos documents personnels et gnraux"]})]}),n.jsxs("div",{className:"dashboard-tabs",children:[n.jsxs("button",{className:`tab ${o==="general"?"active":""}`,onClick:()=>c("general"),children:[" Documents Gnraux (",t.length,")"]}),n.jsxs("button",{className:`tab ${o==="personal"?"active":""}`,onClick:()=>c("personal"),children:[" Mes Documents (",s.length,")"]})]}),n.jsx("div",{className:"dashboard-content",children:o==="general"?n.jsx(yd,{title:" Documents Gnraux",description:"Documents accessibles  tous les employs",documents:t,onDownload:m,getCategoryIcon:p,getCategoryLabel:j,formatFileSize:S,formatDate:h,emptyMessage:"Aucun document gnral disponible"}):n.jsx(yd,{title:" Mes Documents Personnels",description:"Vos documents personnels (fiches de paie, contrats, etc.)",documents:s,onDownload:m,getCategoryIcon:p,getCategoryLabel:j,formatFileSize:S,formatDate:h,emptyMessage:"Aucun document personnel disponible",isPersonal:!0})}),n.jsx("div",{className:"dashboard-footer",children:n.jsxs("div",{className:"info-box",children:[n.jsx("h3",{children:" Informations importantes"}),n.jsxs("ul",{children:[n.jsxs("li",{children:[" Les ",n.jsx("strong",{children:"documents gnraux"})," sont accessibles  tous les employs"]}),n.jsxs("li",{children:[" Les ",n.jsx("strong",{children:"documents personnels"})," sont spcifiques  votre compte"]}),n.jsx("li",{children:" Les documents personnels sont automatiquement supprims aprs 1 mois"}),n.jsx("li",{children:' Cliquez sur "Tlcharger" pour sauvegarder un document sur votre appareil'})]})]})})]})},wy=()=>{const[e,t]=N.useState([]),[r,s]=N.useState({}),[a,l]=N.useState(!0),[i,o]=N.useState(null),[c,d]=N.useState(!1),[m,p]=N.useState("all"),[j,S]=N.useState("");N.useEffect(()=>{h(),f()},[j,m]);const h=async()=>{try{l(!0);const y={};j&&(y.month=j),m!=="all"&&(y.status=m);const b=await B.get("/advance-requests",{params:y});b.data.success&&t(b.data.data)}catch(y){console.error("Erreur rcupration demandes acompte:",y),P.error("Erreur lors du chargement des demandes")}finally{l(!1)}},f=async()=>{try{const y={};j&&(y.month=j);const b=await B.get("/advance-requests/stats",{params:y});b.data.success&&s(b.data.data)}catch(y){console.error("Erreur rcupration stats acompte:",y)}},v=async(y,b,A={})=>{try{if((await B.put(`/advance-requests/${y}`,{status:b,...A})).data.success){P.success(`Demande ${b==="approved"?"approuve":"rejete"} avec succs`);const z={};j&&(z.month=j),m!=="all"&&(z.status=m);const _=await B.get("/advance-requests",{params:z});_.data.success&&t(_.data.data);const M={};j&&(M.month=j);const T=await B.get("/advance-requests/stats",{params:M});T.data.success&&s(T.data.data),d(!1),o(null)}}catch(C){console.error("Erreur action acompte:",C),P.error("Erreur lors de l'action")}},u=y=>{o(y),d(!0)},g=()=>{d(!1),o(null)},x=()=>e,k=y=>({pending:"En attente",approved:"Approuve",rejected:"Rejete"})[y]||y,D=y=>({pending:"status-pending",approved:"status-approved",rejected:"status-rejected"})[y]||"",w=()=>{const y=x(),b=m==="all"?"Toutes":m==="pending"?"En attente":m==="approved"?"Approuves":"Rejetes",A=j||"Tous les mois",C=window.open("","_blank");C.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Demandes d'Acompte - ${b} - ${A}</title>
        <meta charset="utf-8">
        <style>
          @media print {
            @page {
              margin: 1cm;
            }
            body {
              font-family: Arial, sans-serif;
              font-size: 12px;
              color: #000;
              margin: 0;
              padding: 20px;
            }
            .no-print { display: none !important; }
          }
          body {
            font-family: Arial, sans-serif;
            font-size: 12px;
            color: #000;
            margin: 0;
            padding: 20px;
            background: white;
          }
          .header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #333;
            padding-bottom: 15px;
          }
          .header h1 {
            margin: 0 0 10px 0;
            font-size: 24px;
            color: #333;
          }
          .header .filter-info {
            font-size: 14px;
            color: #666;
            margin-top: 5px;
          }
          .print-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
          }
          .print-table th {
            background-color: #f0f0f0;
            border: 1px solid #333;
            padding: 10px;
            text-align: left;
            font-weight: bold;
          }
          .print-table td {
            border: 1px solid #333;
            padding: 8px;
          }
          .print-table tr:nth-child(even) {
            background-color: #f9f9f9;
          }
          .status-badge {
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: bold;
            display: inline-block;
          }
          .status-approved {
            background-color: #d4edda;
            color: #155724;
          }
          .status-pending {
            background-color: #fff3cd;
            color: #856404;
          }
          .status-rejected {
            background-color: #f8d7da;
            color: #721c24;
          }
          .amount {
            font-weight: bold;
            color: #28a745;
          }
          .footer {
            margin-top: 30px;
            text-align: center;
            font-size: 10px;
            color: #666;
            border-top: 1px solid #ccc;
            padding-top: 10px;
          }
        </style>
      </head>
      <body>
        <div class="header">
          <h1> Gestion des Demandes d'Acompte</h1>
          <div class="filter-info">
            <strong>Filtre:</strong> ${b} | <strong>Mois:</strong> ${A}
          </div>
          <div class="filter-info">
            <strong>Date d'impression:</strong> ${new Date().toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}
          </div>
        </div>
        <table class="print-table">
          <thead>
            <tr>
              <th>Salari</th>
              <th>Montant</th>
              <th>Mois de dduction</th>
              <th>Date de demande</th>
              <th>Statut</th>
            </tr>
          </thead>
          <tbody>
            ${y.length===0?`
              <tr>
                <td colspan="5" style="text-align: center; padding: 20px;">
                  Aucune demande d'acompte trouve
                </td>
              </tr>
            `:y.map(z=>`
              <tr>
                <td>${z.employeeName||"-"}</td>
                <td class="amount">${z.amount||0}</td>
                <td>${z.deductionMonth||"-"}</td>
                <td>${new Date(z.createdAt).toLocaleDateString("fr-FR")}</td>
                <td>
                  <span class="status-badge status-${z.status||"pending"}">
                    ${k(z.status)}
                  </span>
                </td>
              </tr>
            `).join("")}
          </tbody>
        </table>
        ${y.length>0?`
          <div style="margin-top: 20px; text-align: right;">
            <strong>Total: ${y.length} demande(s) | 
            Montant total: ${y.reduce((z,_)=>z+(_.amount||0),0)}</strong>
          </div>
        `:""}
        <div class="footer">
          <p>Boulangerie Planning - Impression gnre le ${new Date().toLocaleDateString("fr-FR")}</p>
        </div>
      </body>
      </html>
    `),C.document.close(),setTimeout(()=>{C.focus(),C.print()},250)};return a?n.jsx("div",{className:"advance-requests",children:n.jsxs("div",{className:"loading",children:[n.jsx("div",{className:"spinner"}),n.jsx("p",{children:"Chargement des demandes d'acompte..."})]})}):n.jsxs("div",{className:"advance-requests",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h2",{children:" Gestion des Demandes d'Acompte"}),n.jsxs("div",{className:"header-actions",children:[n.jsx("button",{className:"btn btn-primary",onClick:h,children:" Actualiser"}),n.jsx("button",{className:"btn btn-secondary",onClick:w,title:"Imprimer les demandes affiches",children:" Imprimer"})]})]}),n.jsxs("div",{className:"advance-stats",children:[n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-number",children:r.pending||0}),n.jsx("div",{className:"stat-label",children:"En attente"})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-number",children:r.approved||0}),n.jsx("div",{className:"stat-label",children:"Approuves"})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-number",children:r.rejected||0}),n.jsx("div",{className:"stat-label",children:"Rejetes"})]}),n.jsxs("div",{className:"stat-card",children:[n.jsxs("div",{className:"stat-number",children:[r.totalAmount||0,""]}),n.jsx("div",{className:"stat-label",children:"Montant total"})]})]}),n.jsxs("div",{className:"filters",children:[n.jsxs("button",{className:`filter-btn ${m==="all"?"active":""}`,onClick:()=>p("all"),children:["Toutes (",r.total||0,")"]}),n.jsxs("button",{className:`filter-btn ${m==="pending"?"active":""}`,onClick:()=>p("pending"),children:["En attente (",r.pending||0,")"]}),n.jsxs("button",{className:`filter-btn ${m==="approved"?"active":""}`,onClick:()=>p("approved"),children:["Approuves (",r.approved||0,")"]}),n.jsxs("button",{className:`filter-btn ${m==="rejected"?"active":""}`,onClick:()=>p("rejected"),children:["Rejetes (",r.rejected||0,")"]}),n.jsxs("div",{className:"month-filter",children:[n.jsx("label",{htmlFor:"month-select",children:" Mois :"}),n.jsxs("select",{id:"month-select",value:j,onChange:y=>S(y.target.value),className:"month-select",children:[n.jsx("option",{value:"",children:"Tous les mois"}),(()=>{const y=["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"],b=new Date().getFullYear(),A=[];for(let C=b;C<=b+1;C++)y.forEach((z,_)=>{A.push(n.jsxs("option",{value:`${z} ${C}`,children:[z," ",C]},`${z} ${C}`))});return A})()]})]})]}),n.jsx("div",{className:"requests-list",children:x().length===0?n.jsx("div",{className:"no-requests",children:n.jsx("p",{children:"Aucune demande d'acompte trouve"})}):x().map(y=>n.jsxs("div",{className:"request-card",children:[n.jsxs("div",{className:"request-info",children:[n.jsxs("div",{className:"employee-info",children:[n.jsx("div",{className:"employee-name",children:y.employeeName}),n.jsx("div",{className:"employee-email",children:y.employeeEmail})]}),n.jsxs("div",{className:"request-details",children:[n.jsxs("div",{className:"amount",children:[y.amount,""]}),n.jsxs("div",{className:"month",children:["Dduction: ",y.deductionMonth]}),n.jsxs("div",{className:"date",children:["Demand le: ",new Date(y.createdAt).toLocaleDateString("fr-FR")]}),y.comment&&n.jsxs("div",{className:"comment",children:[n.jsx("strong",{children:"Commentaire:"})," ",y.comment]}),y.managerComment&&n.jsxs("div",{className:"manager-comment",children:[n.jsx("strong",{children:"Commentaire manager:"})," ",y.managerComment]})]})]}),n.jsxs("div",{className:"request-actions",children:[n.jsx("div",{className:`status-badge ${D(y.status)}`,children:k(y.status)}),y.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"btn btn-success btn-sm",onClick:()=>v(y._id,"approved"),children:" Approuver"}),n.jsx("button",{className:"btn btn-warning btn-sm",onClick:()=>u(y),children:" Modifier"}),n.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>v(y._id,"rejected"),children:" Rejeter"})]})]})]},y._id))}),c&&i&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal-content",children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{children:" Modifier la Demande d'Acompte"}),n.jsx("button",{className:"close-btn",onClick:g,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsx("div",{className:"form-group",children:n.jsxs("label",{children:["Employ: ",i.employeeName]})}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Montant ():"}),n.jsx("input",{type:"number",id:"editAmount",defaultValue:i.amount,min:"1",max:"5000",step:"0.01"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Mois de dduction:"}),n.jsxs("select",{id:"editMonth",defaultValue:i.deductionMonth,children:[n.jsx("option",{value:"Janvier 2025",children:"Janvier 2025"}),n.jsx("option",{value:"Fvrier 2025",children:"Fvrier 2025"}),n.jsx("option",{value:"Mars 2025",children:"Mars 2025"}),n.jsx("option",{value:"Avril 2025",children:"Avril 2025"}),n.jsx("option",{value:"Mai 2025",children:"Mai 2025"}),n.jsx("option",{value:"Juin 2025",children:"Juin 2025"}),n.jsx("option",{value:"Juillet 2025",children:"Juillet 2025"}),n.jsx("option",{value:"Aot 2025",children:"Aot 2025"}),n.jsx("option",{value:"Septembre 2025",children:"Septembre 2025"}),n.jsx("option",{value:"Octobre 2025",children:"Octobre 2025"}),n.jsx("option",{value:"Novembre 2025",children:"Novembre 2025"}),n.jsx("option",{value:"Dcembre 2025",children:"Dcembre 2025"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Commentaire du manager:"}),n.jsx("textarea",{id:"editComment",rows:"3",placeholder:"Commentaire optionnel..."})]}),n.jsxs("div",{className:"modal-actions",children:[n.jsx("button",{className:"btn btn-success",onClick:()=>{const y=document.getElementById("editAmount").value;document.getElementById("editMonth").value;const b=document.getElementById("editComment").value;v(i._id,"approved",{approvedAmount:y,managerComment:b})},children:" Approuver avec modifications"}),n.jsx("button",{className:"btn btn-danger",onClick:()=>{const y=document.getElementById("editComment").value;v(i._id,"rejected",{managerComment:y})},children:" Rejeter"}),n.jsx("button",{className:"btn btn-secondary",onClick:g,children:"Annuler"})]})]})]})})]})},Sy=()=>{const{user:e}=ir();return e?n.jsxs("div",{className:"App",children:[n.jsx(zx,{}),n.jsxs("div",{className:"app-container",children:[n.jsx($x,{}),n.jsx("main",{className:"app-main",children:n.jsxs(Bm,{children:[n.jsx(ue,{path:"/",element:n.jsx(fi,{to:"/dashboard",replace:!0})}),n.jsx(ue,{path:"/dashboard",element:n.jsx(Pe,{children:n.jsx(ly,{})})}),n.jsx(ue,{path:"/employees",element:n.jsx(Pe,{children:n.jsx(ry,{})})}),n.jsx(ue,{path:"/constraints",element:n.jsx(Pe,{children:n.jsx(ay,{})})}),n.jsx(ue,{path:"/planning",element:n.jsx(Pe,{requiredPermission:"view_planning",children:n.jsx(sy,{})})}),n.jsx(ue,{path:"/sales-stats",element:n.jsx(Pe,{requiredPermission:"view_sales_stats",children:n.jsx(iy,{})})}),n.jsx(ue,{path:"/absences",element:n.jsx(Pe,{requiredPermission:"view_absences",children:n.jsx(cy,{})})}),n.jsx(ue,{path:"/meal-expenses",element:n.jsx(Pe,{requiredPermission:"view_meal_expenses",children:n.jsx(dy,{})})}),n.jsx(ue,{path:"/km-expenses",element:n.jsx(Pe,{requiredPermission:"view_km_expenses",children:n.jsx(uy,{})})}),n.jsx(ue,{path:"/parameters",element:n.jsx(Pe,{adminOnly:!0,children:n.jsx(my,{})})}),n.jsx(ue,{path:"/employee-status-print",element:n.jsx(Pe,{children:n.jsx(py,{})})}),n.jsx(ue,{path:"/tutors",element:n.jsx(Pe,{adminOnly:!0,children:n.jsx(hy,{})})}),n.jsx(ue,{path:"/sick-leave",element:n.jsx(fi,{to:"/plan/sick-leave",replace:!0})}),n.jsx(ue,{path:"/plan/sick-leave",element:n.jsx(vy,{})}),n.jsx(ue,{path:"/sick-leave-upload",element:n.jsx(xd,{})}),n.jsx(ue,{path:"/plan/sick-leave-upload",element:n.jsx(xd,{})}),n.jsx(ue,{path:"/sick-leave-management",element:n.jsx(Pe,{adminOnly:!0,children:n.jsx(gy,{})})}),n.jsx(ue,{path:"/vacation-management",element:n.jsx(Pe,{adminOnly:!0,children:n.jsx(xy,{})})}),n.jsx(ue,{path:"/vacation-planning",element:n.jsx(Pe,{adminOnly:!0,children:n.jsx(yy,{})})}),n.jsx(ue,{path:"/ticket-restaurant",element:n.jsx(Pe,{children:n.jsx(jy,{})})}),n.jsx(ue,{path:"/employee-dashboard",element:n.jsx(Pe,{children:n.jsx(by,{})})}),n.jsx(ue,{path:"/advance-requests",element:n.jsx(Pe,{children:n.jsx(wy,{})})})]})})]})]}):n.jsx(vf,{})};function Ey(){return n.jsx(cv,{children:n.jsx(av,{basename:"/plan",children:n.jsxs(Bm,{children:[n.jsx(ue,{path:"/login",element:n.jsx(vf,{})}),n.jsx(ue,{path:"/*",element:n.jsx(Sy,{})})]})})})}const ky=yl.createRoot(document.getElementById("root"));ky.render(n.jsx(Td.StrictMode,{children:n.jsx(Ey,{})}));
//# sourceMappingURL=index.BTjuL2ID.js.map
