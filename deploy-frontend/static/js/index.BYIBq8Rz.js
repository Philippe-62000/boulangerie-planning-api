function Df(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(s,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Tf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vd={exports:{}},ga={},xd={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var es=Symbol.for("react.element"),Af=Symbol.for("react.portal"),Rf=Symbol.for("react.fragment"),Pf=Symbol.for("react.strict_mode"),Mf=Symbol.for("react.profiler"),Lf=Symbol.for("react.provider"),If=Symbol.for("react.context"),Of=Symbol.for("react.forward_ref"),Ff=Symbol.for("react.suspense"),zf=Symbol.for("react.memo"),$f=Symbol.for("react.lazy"),Fi=Symbol.iterator;function Vf(e){return e===null||typeof e!="object"?null:(e=Fi&&e[Fi]||e["@@iterator"],typeof e=="function"?e:null)}var yd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jd=Object.assign,bd={};function tr(e,t,n){this.props=e,this.context=t,this.refs=bd,this.updater=n||yd}tr.prototype.isReactComponent={};tr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};tr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Nd(){}Nd.prototype=tr.prototype;function So(e,t,n){this.props=e,this.context=t,this.refs=bd,this.updater=n||yd}var Eo=So.prototype=new Nd;Eo.constructor=So;jd(Eo,tr.prototype);Eo.isPureReactComponent=!0;var zi=Array.isArray,wd=Object.prototype.hasOwnProperty,ko={current:null},Sd={key:!0,ref:!0,__self:!0,__source:!0};function Ed(e,t,n){var s,a={},l=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)wd.call(t,s)&&!Sd.hasOwnProperty(s)&&(a[s]=t[s]);var i=arguments.length-2;if(i===1)a.children=n;else if(1<i){for(var c=Array(i),d=0;d<i;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in i=e.defaultProps,i)a[s]===void 0&&(a[s]=i[s]);return{$$typeof:es,type:e,key:l,ref:o,props:a,_owner:ko.current}}function Uf(e,t){return{$$typeof:es,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Co(e){return typeof e=="object"&&e!==null&&e.$$typeof===es}function Bf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var $i=/\/+/g;function Ba(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Bf(""+e.key):t.toString(36)}function _s(e,t,n,s,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case es:case Af:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+Ba(o,0):s,zi(a)?(n="",e!=null&&(n=e.replace($i,"$&/")+"/"),_s(a,t,n,"",function(d){return d})):a!=null&&(Co(a)&&(a=Uf(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace($i,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",zi(e))for(var i=0;i<e.length;i++){l=e[i];var c=s+Ba(l,i);o+=_s(l,t,n,c,a)}else if(c=Vf(e),typeof c=="function")for(e=c.call(e),i=0;!(l=e.next()).done;)l=l.value,c=s+Ba(l,i++),o+=_s(l,t,n,c,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function us(e,t,n){if(e==null)return e;var s=[],a=0;return _s(e,s,"","",function(l){return t.call(n,l,a++)}),s}function Hf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ue={current:null},Ds={transition:null},Wf={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:Ds,ReactCurrentOwner:ko};function kd(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:us,forEach:function(e,t,n){us(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return us(e,function(){t++}),t},toArray:function(e){return us(e,function(t){return t})||[]},only:function(e){if(!Co(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=tr;Z.Fragment=Rf;Z.Profiler=Mf;Z.PureComponent=So;Z.StrictMode=Pf;Z.Suspense=Ff;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wf;Z.act=kd;Z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=jd({},e.props),a=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=ko.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)wd.call(t,c)&&!Sd.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){i=Array(c);for(var d=0;d<c;d++)i[d]=arguments[d+2];s.children=i}return{$$typeof:es,type:e.type,key:a,ref:l,props:s,_owner:o}};Z.createContext=function(e){return e={$$typeof:If,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Lf,_context:e},e.Consumer=e};Z.createElement=Ed;Z.createFactory=function(e){var t=Ed.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:Of,render:e}};Z.isValidElement=Co;Z.lazy=function(e){return{$$typeof:$f,_payload:{_status:-1,_result:e},_init:Hf}};Z.memo=function(e,t){return{$$typeof:zf,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=Ds.transition;Ds.transition={};try{e()}finally{Ds.transition=t}};Z.unstable_act=kd;Z.useCallback=function(e,t){return Ue.current.useCallback(e,t)};Z.useContext=function(e){return Ue.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return Ue.current.useDeferredValue(e)};Z.useEffect=function(e,t){return Ue.current.useEffect(e,t)};Z.useId=function(){return Ue.current.useId()};Z.useImperativeHandle=function(e,t,n){return Ue.current.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return Ue.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return Ue.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return Ue.current.useMemo(e,t)};Z.useReducer=function(e,t,n){return Ue.current.useReducer(e,t,n)};Z.useRef=function(e){return Ue.current.useRef(e)};Z.useState=function(e){return Ue.current.useState(e)};Z.useSyncExternalStore=function(e,t,n){return Ue.current.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return Ue.current.useTransition()};Z.version="18.3.1";xd.exports=Z;var j=xd.exports;const Cd=Tf(j),qf=Df({__proto__:null,default:Cd},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jf=j,Kf=Symbol.for("react.element"),Yf=Symbol.for("react.fragment"),Qf=Object.prototype.hasOwnProperty,Gf=Jf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xf={key:!0,ref:!0,__self:!0,__source:!0};function _d(e,t,n){var s,a={},l=null,o=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)Qf.call(t,s)&&!Xf.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:Kf,type:e,key:l,ref:o,props:a,_owner:Gf.current}}ga.Fragment=Yf;ga.jsx=_d;ga.jsxs=_d;vd.exports=ga;var r=vd.exports,yl={},Dd={exports:{}},rt={},Td={exports:{}},Ad={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,q){var J=F.length;F.push(q);e:for(;0<J;){var te=J-1>>>1,K=F[te];if(0<a(K,q))F[te]=q,F[J]=K,J=te;else break e}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var q=F[0],J=F.pop();if(J!==q){F[0]=J;e:for(var te=0,K=F.length,He=K>>>1;te<He;){var we=2*(te+1)-1,ze=F[we],V=we+1,X=F[V];if(0>a(ze,J))V<K&&0>a(X,ze)?(F[te]=X,F[V]=J,te=V):(F[te]=ze,F[we]=J,te=we);else if(V<K&&0>a(X,J))F[te]=X,F[V]=J,te=V;else break e}}return q}function a(F,q){var J=F.sortIndex-q.sortIndex;return J!==0?J:F.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,i=o.now();e.unstable_now=function(){return o.now()-i}}var c=[],d=[],p=1,f=null,y=3,N=!1,x=!1,h=!1,m=typeof setTimeout=="function"?setTimeout:null,u=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(F){for(var q=n(d);q!==null;){if(q.callback===null)s(d);else if(q.startTime<=F)s(d),q.sortIndex=q.expirationTime,t(c,q);else break;q=n(d)}}function E(F){if(h=!1,g(F),!x)if(n(c)!==null)x=!0,z(C);else{var q=n(d);q!==null&&Q(E,q.startTime-F)}}function C(F,q){x=!1,h&&(h=!1,u(b),b=-1),N=!0;var J=y;try{for(g(q),f=n(c);f!==null&&(!(f.expirationTime>q)||F&&!$());){var te=f.callback;if(typeof te=="function"){f.callback=null,y=f.priorityLevel;var K=te(f.expirationTime<=q);q=e.unstable_now(),typeof K=="function"?f.callback=K:f===n(c)&&s(c),g(q)}else s(c);f=n(c)}if(f!==null)var He=!0;else{var we=n(d);we!==null&&Q(E,we.startTime-q),He=!1}return He}finally{f=null,y=J,N=!1}}var w=!1,S=null,b=-1,L=5,T=-1;function $(){return!(e.unstable_now()-T<L)}function _(){if(S!==null){var F=e.unstable_now();T=F;var q=!0;try{q=S(!0,F)}finally{q?P():(w=!1,S=null)}}else w=!1}var P;if(typeof v=="function")P=function(){v(_)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,I=D.port2;D.port1.onmessage=_,P=function(){I.postMessage(null)}}else P=function(){m(_,0)};function z(F){S=F,w||(w=!0,P())}function Q(F,q){b=m(function(){F(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){x||N||(x=!0,z(C))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(F){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var J=y;y=q;try{return F()}finally{y=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,q){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var J=y;y=F;try{return q()}finally{y=J}},e.unstable_scheduleCallback=function(F,q,J){var te=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?te+J:te):J=te,F){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=J+K,F={id:p++,callback:q,priorityLevel:F,startTime:J,expirationTime:K,sortIndex:-1},J>te?(F.sortIndex=J,t(d,F),n(c)===null&&F===n(d)&&(h?(u(b),b=-1):h=!0,Q(E,J-te))):(F.sortIndex=K,t(c,F),x||N||(x=!0,z(C))),F},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(F){var q=y;return function(){var J=y;y=q;try{return F.apply(this,arguments)}finally{y=J}}}})(Ad);Td.exports=Ad;var Zf=Td.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep=j,nt=Zf;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rd=new Set,Pr={};function En(e,t){Kn(e,t),Kn(e+"Capture",t)}function Kn(e,t){for(Pr[e]=t,e=0;e<t.length;e++)Rd.add(t[e])}var Mt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jl=Object.prototype.hasOwnProperty,tp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vi={},Ui={};function np(e){return jl.call(Ui,e)?!0:jl.call(Vi,e)?!1:tp.test(e)?Ui[e]=!0:(Vi[e]=!0,!1)}function rp(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function sp(e,t,n,s){if(t===null||typeof t>"u"||rp(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Be(e,t,n,s,a,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var Pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pe[e]=new Be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pe[t]=new Be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pe[e]=new Be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pe[e]=new Be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pe[e]=new Be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pe[e]=new Be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pe[e]=new Be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pe[e]=new Be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pe[e]=new Be(e,5,!1,e.toLowerCase(),null,!1,!1)});var _o=/[\-:]([a-z])/g;function Do(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_o,Do);Pe[t]=new Be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_o,Do);Pe[t]=new Be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_o,Do);Pe[t]=new Be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pe[e]=new Be(e,1,!1,e.toLowerCase(),null,!1,!1)});Pe.xlinkHref=new Be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pe[e]=new Be(e,1,!1,e.toLowerCase(),null,!0,!0)});function To(e,t,n,s){var a=Pe.hasOwnProperty(t)?Pe[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(sp(t,n,a,s)&&(n=null),s||a===null?np(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,s=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Ft=ep.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ms=Symbol.for("react.element"),Tn=Symbol.for("react.portal"),An=Symbol.for("react.fragment"),Ao=Symbol.for("react.strict_mode"),bl=Symbol.for("react.profiler"),Pd=Symbol.for("react.provider"),Md=Symbol.for("react.context"),Ro=Symbol.for("react.forward_ref"),Nl=Symbol.for("react.suspense"),wl=Symbol.for("react.suspense_list"),Po=Symbol.for("react.memo"),$t=Symbol.for("react.lazy"),Ld=Symbol.for("react.offscreen"),Bi=Symbol.iterator;function ur(e){return e===null||typeof e!="object"?null:(e=Bi&&e[Bi]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,Ha;function jr(e){if(Ha===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ha=t&&t[1]||""}return`
`+Ha+e}var Wa=!1;function qa(e,t){if(!e||Wa)return"";Wa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),l=s.stack.split(`
`),o=a.length-1,i=l.length-1;1<=o&&0<=i&&a[o]!==l[i];)i--;for(;1<=o&&0<=i;o--,i--)if(a[o]!==l[i]){if(o!==1||i!==1)do if(o--,i--,0>i||a[o]!==l[i]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=i);break}}}finally{Wa=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?jr(e):""}function ap(e){switch(e.tag){case 5:return jr(e.type);case 16:return jr("Lazy");case 13:return jr("Suspense");case 19:return jr("SuspenseList");case 0:case 2:case 15:return e=qa(e.type,!1),e;case 11:return e=qa(e.type.render,!1),e;case 1:return e=qa(e.type,!0),e;default:return""}}function Sl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case An:return"Fragment";case Tn:return"Portal";case bl:return"Profiler";case Ao:return"StrictMode";case Nl:return"Suspense";case wl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Md:return(e.displayName||"Context")+".Consumer";case Pd:return(e._context.displayName||"Context")+".Provider";case Ro:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Po:return t=e.displayName||null,t!==null?t:Sl(e.type)||"Memo";case $t:t=e._payload,e=e._init;try{return Sl(e(t))}catch{}}return null}function lp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sl(t);case 8:return t===Ao?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function nn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Id(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function op(e){var t=Id(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fs(e){e._valueTracker||(e._valueTracker=op(e))}function Od(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Id(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Bs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function El(e,t){var n=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Hi(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=nn(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Fd(e,t){t=t.checked,t!=null&&To(e,"checked",t,!1)}function kl(e,t){Fd(e,t);var n=nn(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Cl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Cl(e,t.type,nn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wi(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Cl(e,t,n){(t!=="number"||Bs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var br=Array.isArray;function Un(e,t,n,s){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&s&&(e[n].defaultSelected=!0)}else{for(n=""+nn(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function _l(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qi(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(O(92));if(br(n)){if(1<n.length)throw Error(O(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:nn(n)}}function zd(e,t){var n=nn(t.value),s=nn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Ji(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $d(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$d(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ps,Vd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ps=ps||document.createElement("div"),ps.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ps.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Sr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ip=["Webkit","ms","Moz","O"];Object.keys(Sr).forEach(function(e){ip.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Sr[t]=Sr[e]})});function Ud(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Sr.hasOwnProperty(e)&&Sr[e]?(""+t).trim():t+"px"}function Bd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,a=Ud(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,a):e[n]=a}}var cp=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tl(e,t){if(t){if(cp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function Al(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rl=null;function Mo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pl=null,Bn=null,Hn=null;function Ki(e){if(e=rs(e)){if(typeof Pl!="function")throw Error(O(280));var t=e.stateNode;t&&(t=ba(t),Pl(e.stateNode,e.type,t))}}function Hd(e){Bn?Hn?Hn.push(e):Hn=[e]:Bn=e}function Wd(){if(Bn){var e=Bn,t=Hn;if(Hn=Bn=null,Ki(e),t)for(e=0;e<t.length;e++)Ki(t[e])}}function qd(e,t){return e(t)}function Jd(){}var Ja=!1;function Kd(e,t,n){if(Ja)return e(t,n);Ja=!0;try{return qd(e,t,n)}finally{Ja=!1,(Bn!==null||Hn!==null)&&(Jd(),Wd())}}function Lr(e,t){var n=e.stateNode;if(n===null)return null;var s=ba(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(O(231,t,typeof n));return n}var Ml=!1;if(Mt)try{var mr={};Object.defineProperty(mr,"passive",{get:function(){Ml=!0}}),window.addEventListener("test",mr,mr),window.removeEventListener("test",mr,mr)}catch{Ml=!1}function dp(e,t,n,s,a,l,o,i,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(p){this.onError(p)}}var Er=!1,Hs=null,Ws=!1,Ll=null,up={onError:function(e){Er=!0,Hs=e}};function mp(e,t,n,s,a,l,o,i,c){Er=!1,Hs=null,dp.apply(up,arguments)}function fp(e,t,n,s,a,l,o,i,c){if(mp.apply(this,arguments),Er){if(Er){var d=Hs;Er=!1,Hs=null}else throw Error(O(198));Ws||(Ws=!0,Ll=d)}}function kn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Yd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yi(e){if(kn(e)!==e)throw Error(O(188))}function pp(e){var t=e.alternate;if(!t){if(t=kn(e),t===null)throw Error(O(188));return t!==e?null:e}for(var n=e,s=t;;){var a=n.return;if(a===null)break;var l=a.alternate;if(l===null){if(s=a.return,s!==null){n=s;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===n)return Yi(a),e;if(l===s)return Yi(a),t;l=l.sibling}throw Error(O(188))}if(n.return!==s.return)n=a,s=l;else{for(var o=!1,i=a.child;i;){if(i===n){o=!0,n=a,s=l;break}if(i===s){o=!0,s=a,n=l;break}i=i.sibling}if(!o){for(i=l.child;i;){if(i===n){o=!0,n=l,s=a;break}if(i===s){o=!0,s=l,n=a;break}i=i.sibling}if(!o)throw Error(O(189))}}if(n.alternate!==s)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?e:t}function Qd(e){return e=pp(e),e!==null?Gd(e):null}function Gd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Gd(e);if(t!==null)return t;e=e.sibling}return null}var Xd=nt.unstable_scheduleCallback,Qi=nt.unstable_cancelCallback,hp=nt.unstable_shouldYield,gp=nt.unstable_requestPaint,je=nt.unstable_now,vp=nt.unstable_getCurrentPriorityLevel,Lo=nt.unstable_ImmediatePriority,Zd=nt.unstable_UserBlockingPriority,qs=nt.unstable_NormalPriority,xp=nt.unstable_LowPriority,eu=nt.unstable_IdlePriority,va=null,wt=null;function yp(e){if(wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(va,e,void 0,(e.current.flags&128)===128)}catch{}}var ht=Math.clz32?Math.clz32:Np,jp=Math.log,bp=Math.LN2;function Np(e){return e>>>=0,e===0?32:31-(jp(e)/bp|0)|0}var hs=64,gs=4194304;function Nr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Js(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,a=e.suspendedLanes,l=e.pingedLanes,o=n&268435455;if(o!==0){var i=o&~a;i!==0?s=Nr(i):(l&=o,l!==0&&(s=Nr(l)))}else o=n&~a,o!==0?s=Nr(o):l!==0&&(s=Nr(l));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-ht(t),a=1<<n,s|=e[n],t&=~a;return s}function wp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sp(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-ht(l),i=1<<o,c=a[o];c===-1?(!(i&n)||i&s)&&(a[o]=wp(i,t)):c<=t&&(e.expiredLanes|=i),l&=~i}}function Il(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tu(){var e=hs;return hs<<=1,!(hs&4194240)&&(hs=64),e}function Ka(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ts(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ht(t),e[t]=n}function Ep(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ht(n),l=1<<a;t[a]=0,s[a]=-1,e[a]=-1,n&=~l}}function Io(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-ht(n),a=1<<s;a&t|e[s]&t&&(e[s]|=t),n&=~a}}var le=0;function nu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ru,Oo,su,au,lu,Ol=!1,vs=[],Jt=null,Kt=null,Yt=null,Ir=new Map,Or=new Map,Ut=[],kp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gi(e,t){switch(e){case"focusin":case"focusout":Jt=null;break;case"dragenter":case"dragleave":Kt=null;break;case"mouseover":case"mouseout":Yt=null;break;case"pointerover":case"pointerout":Ir.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Or.delete(t.pointerId)}}function fr(e,t,n,s,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:l,targetContainers:[a]},t!==null&&(t=rs(t),t!==null&&Oo(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Cp(e,t,n,s,a){switch(t){case"focusin":return Jt=fr(Jt,e,t,n,s,a),!0;case"dragenter":return Kt=fr(Kt,e,t,n,s,a),!0;case"mouseover":return Yt=fr(Yt,e,t,n,s,a),!0;case"pointerover":var l=a.pointerId;return Ir.set(l,fr(Ir.get(l)||null,e,t,n,s,a)),!0;case"gotpointercapture":return l=a.pointerId,Or.set(l,fr(Or.get(l)||null,e,t,n,s,a)),!0}return!1}function ou(e){var t=mn(e.target);if(t!==null){var n=kn(t);if(n!==null){if(t=n.tag,t===13){if(t=Yd(n),t!==null){e.blockedOn=t,lu(e.priority,function(){su(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ts(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Fl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Rl=s,n.target.dispatchEvent(s),Rl=null}else return t=rs(n),t!==null&&Oo(t),e.blockedOn=n,!1;t.shift()}return!0}function Xi(e,t,n){Ts(e)&&n.delete(t)}function _p(){Ol=!1,Jt!==null&&Ts(Jt)&&(Jt=null),Kt!==null&&Ts(Kt)&&(Kt=null),Yt!==null&&Ts(Yt)&&(Yt=null),Ir.forEach(Xi),Or.forEach(Xi)}function pr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ol||(Ol=!0,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,_p)))}function Fr(e){function t(a){return pr(a,e)}if(0<vs.length){pr(vs[0],e);for(var n=1;n<vs.length;n++){var s=vs[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Jt!==null&&pr(Jt,e),Kt!==null&&pr(Kt,e),Yt!==null&&pr(Yt,e),Ir.forEach(t),Or.forEach(t),n=0;n<Ut.length;n++)s=Ut[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Ut.length&&(n=Ut[0],n.blockedOn===null);)ou(n),n.blockedOn===null&&Ut.shift()}var Wn=Ft.ReactCurrentBatchConfig,Ks=!0;function Dp(e,t,n,s){var a=le,l=Wn.transition;Wn.transition=null;try{le=1,Fo(e,t,n,s)}finally{le=a,Wn.transition=l}}function Tp(e,t,n,s){var a=le,l=Wn.transition;Wn.transition=null;try{le=4,Fo(e,t,n,s)}finally{le=a,Wn.transition=l}}function Fo(e,t,n,s){if(Ks){var a=Fl(e,t,n,s);if(a===null)sl(e,t,s,Ys,n),Gi(e,s);else if(Cp(a,e,t,n,s))s.stopPropagation();else if(Gi(e,s),t&4&&-1<kp.indexOf(e)){for(;a!==null;){var l=rs(a);if(l!==null&&ru(l),l=Fl(e,t,n,s),l===null&&sl(e,t,s,Ys,n),l===a)break;a=l}a!==null&&s.stopPropagation()}else sl(e,t,s,null,n)}}var Ys=null;function Fl(e,t,n,s){if(Ys=null,e=Mo(s),e=mn(e),e!==null)if(t=kn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Yd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ys=e,null}function iu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vp()){case Lo:return 1;case Zd:return 4;case qs:case xp:return 16;case eu:return 536870912;default:return 16}default:return 16}}var Ht=null,zo=null,As=null;function cu(){if(As)return As;var e,t=zo,n=t.length,s,a="value"in Ht?Ht.value:Ht.textContent,l=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===a[l-s];s++);return As=a.slice(e,1<s?1-s:void 0)}function Rs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xs(){return!0}function Zi(){return!1}function st(e){function t(n,s,a,l,o){this._reactName=n,this._targetInst=a,this.type=s,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(l):l[i]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?xs:Zi,this.isPropagationStopped=Zi,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),t}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$o=st(nr),ns=ve({},nr,{view:0,detail:0}),Ap=st(ns),Ya,Qa,hr,xa=ve({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hr&&(hr&&e.type==="mousemove"?(Ya=e.screenX-hr.screenX,Qa=e.screenY-hr.screenY):Qa=Ya=0,hr=e),Ya)},movementY:function(e){return"movementY"in e?e.movementY:Qa}}),ec=st(xa),Rp=ve({},xa,{dataTransfer:0}),Pp=st(Rp),Mp=ve({},ns,{relatedTarget:0}),Ga=st(Mp),Lp=ve({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ip=st(Lp),Op=ve({},nr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fp=st(Op),zp=ve({},nr,{data:0}),tc=st(zp),$p={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Up={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Up[e])?!!t[e]:!1}function Vo(){return Bp}var Hp=ve({},ns,{key:function(e){if(e.key){var t=$p[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Rs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vo,charCode:function(e){return e.type==="keypress"?Rs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wp=st(Hp),qp=ve({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nc=st(qp),Jp=ve({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vo}),Kp=st(Jp),Yp=ve({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qp=st(Yp),Gp=ve({},xa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xp=st(Gp),Zp=[9,13,27,32],Uo=Mt&&"CompositionEvent"in window,kr=null;Mt&&"documentMode"in document&&(kr=document.documentMode);var eh=Mt&&"TextEvent"in window&&!kr,du=Mt&&(!Uo||kr&&8<kr&&11>=kr),rc=" ",sc=!1;function uu(e,t){switch(e){case"keyup":return Zp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rn=!1;function th(e,t){switch(e){case"compositionend":return mu(t);case"keypress":return t.which!==32?null:(sc=!0,rc);case"textInput":return e=t.data,e===rc&&sc?null:e;default:return null}}function nh(e,t){if(Rn)return e==="compositionend"||!Uo&&uu(e,t)?(e=cu(),As=zo=Ht=null,Rn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return du&&t.locale!=="ko"?null:t.data;default:return null}}var rh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ac(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rh[e.type]:t==="textarea"}function fu(e,t,n,s){Hd(s),t=Qs(t,"onChange"),0<t.length&&(n=new $o("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Cr=null,zr=null;function sh(e){Su(e,0)}function ya(e){var t=Ln(e);if(Od(t))return e}function ah(e,t){if(e==="change")return t}var pu=!1;if(Mt){var Xa;if(Mt){var Za="oninput"in document;if(!Za){var lc=document.createElement("div");lc.setAttribute("oninput","return;"),Za=typeof lc.oninput=="function"}Xa=Za}else Xa=!1;pu=Xa&&(!document.documentMode||9<document.documentMode)}function oc(){Cr&&(Cr.detachEvent("onpropertychange",hu),zr=Cr=null)}function hu(e){if(e.propertyName==="value"&&ya(zr)){var t=[];fu(t,zr,e,Mo(e)),Kd(sh,t)}}function lh(e,t,n){e==="focusin"?(oc(),Cr=t,zr=n,Cr.attachEvent("onpropertychange",hu)):e==="focusout"&&oc()}function oh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ya(zr)}function ih(e,t){if(e==="click")return ya(t)}function ch(e,t){if(e==="input"||e==="change")return ya(t)}function dh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vt=typeof Object.is=="function"?Object.is:dh;function $r(e,t){if(vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var a=n[s];if(!jl.call(t,a)||!vt(e[a],t[a]))return!1}return!0}function ic(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cc(e,t){var n=ic(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ic(n)}}function gu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vu(){for(var e=window,t=Bs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Bs(e.document)}return t}function Bo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function uh(e){var t=vu(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&gu(n.ownerDocument.documentElement,n)){if(s!==null&&Bo(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,l=Math.min(s.start,a);s=s.end===void 0?l:Math.min(s.end,a),!e.extend&&l>s&&(a=s,s=l,l=a),a=cc(n,l);var o=cc(n,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mh=Mt&&"documentMode"in document&&11>=document.documentMode,Pn=null,zl=null,_r=null,$l=!1;function dc(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$l||Pn==null||Pn!==Bs(s)||(s=Pn,"selectionStart"in s&&Bo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),_r&&$r(_r,s)||(_r=s,s=Qs(zl,"onSelect"),0<s.length&&(t=new $o("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Pn)))}function ys(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mn={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionend:ys("Transition","TransitionEnd")},el={},xu={};Mt&&(xu=document.createElement("div").style,"AnimationEvent"in window||(delete Mn.animationend.animation,delete Mn.animationiteration.animation,delete Mn.animationstart.animation),"TransitionEvent"in window||delete Mn.transitionend.transition);function ja(e){if(el[e])return el[e];if(!Mn[e])return e;var t=Mn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in xu)return el[e]=t[n];return e}var yu=ja("animationend"),ju=ja("animationiteration"),bu=ja("animationstart"),Nu=ja("transitionend"),wu=new Map,uc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sn(e,t){wu.set(e,t),En(t,[e])}for(var tl=0;tl<uc.length;tl++){var nl=uc[tl],fh=nl.toLowerCase(),ph=nl[0].toUpperCase()+nl.slice(1);sn(fh,"on"+ph)}sn(yu,"onAnimationEnd");sn(ju,"onAnimationIteration");sn(bu,"onAnimationStart");sn("dblclick","onDoubleClick");sn("focusin","onFocus");sn("focusout","onBlur");sn(Nu,"onTransitionEnd");Kn("onMouseEnter",["mouseout","mouseover"]);Kn("onMouseLeave",["mouseout","mouseover"]);Kn("onPointerEnter",["pointerout","pointerover"]);Kn("onPointerLeave",["pointerout","pointerover"]);En("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));En("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));En("onBeforeInput",["compositionend","keypress","textInput","paste"]);En("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));En("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));En("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hh=new Set("cancel close invalid load scroll toggle".split(" ").concat(wr));function mc(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,fp(s,t,void 0,e),e.currentTarget=null}function Su(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],a=s.event;s=s.listeners;e:{var l=void 0;if(t)for(var o=s.length-1;0<=o;o--){var i=s[o],c=i.instance,d=i.currentTarget;if(i=i.listener,c!==l&&a.isPropagationStopped())break e;mc(a,i,d),l=c}else for(o=0;o<s.length;o++){if(i=s[o],c=i.instance,d=i.currentTarget,i=i.listener,c!==l&&a.isPropagationStopped())break e;mc(a,i,d),l=c}}}if(Ws)throw e=Ll,Ws=!1,Ll=null,e}function ce(e,t){var n=t[Wl];n===void 0&&(n=t[Wl]=new Set);var s=e+"__bubble";n.has(s)||(Eu(t,e,2,!1),n.add(s))}function rl(e,t,n){var s=0;t&&(s|=4),Eu(n,e,s,t)}var js="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[js]){e[js]=!0,Rd.forEach(function(n){n!=="selectionchange"&&(hh.has(n)||rl(n,!1,e),rl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[js]||(t[js]=!0,rl("selectionchange",!1,t))}}function Eu(e,t,n,s){switch(iu(t)){case 1:var a=Dp;break;case 4:a=Tp;break;default:a=Fo}n=a.bind(null,t,n,e),a=void 0,!Ml||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function sl(e,t,n,s,a){var l=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var i=s.stateNode.containerInfo;if(i===a||i.nodeType===8&&i.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;i!==null;){if(o=mn(i),o===null)return;if(c=o.tag,c===5||c===6){s=l=o;continue e}i=i.parentNode}}s=s.return}Kd(function(){var d=l,p=Mo(n),f=[];e:{var y=wu.get(e);if(y!==void 0){var N=$o,x=e;switch(e){case"keypress":if(Rs(n)===0)break e;case"keydown":case"keyup":N=Wp;break;case"focusin":x="focus",N=Ga;break;case"focusout":x="blur",N=Ga;break;case"beforeblur":case"afterblur":N=Ga;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=ec;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=Pp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=Kp;break;case yu:case ju:case bu:N=Ip;break;case Nu:N=Qp;break;case"scroll":N=Ap;break;case"wheel":N=Xp;break;case"copy":case"cut":case"paste":N=Fp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=nc}var h=(t&4)!==0,m=!h&&e==="scroll",u=h?y!==null?y+"Capture":null:y;h=[];for(var v=d,g;v!==null;){g=v;var E=g.stateNode;if(g.tag===5&&E!==null&&(g=E,u!==null&&(E=Lr(v,u),E!=null&&h.push(Ur(v,E,g)))),m)break;v=v.return}0<h.length&&(y=new N(y,x,null,n,p),f.push({event:y,listeners:h}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",y&&n!==Rl&&(x=n.relatedTarget||n.fromElement)&&(mn(x)||x[Lt]))break e;if((N||y)&&(y=p.window===p?p:(y=p.ownerDocument)?y.defaultView||y.parentWindow:window,N?(x=n.relatedTarget||n.toElement,N=d,x=x?mn(x):null,x!==null&&(m=kn(x),x!==m||x.tag!==5&&x.tag!==6)&&(x=null)):(N=null,x=d),N!==x)){if(h=ec,E="onMouseLeave",u="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(h=nc,E="onPointerLeave",u="onPointerEnter",v="pointer"),m=N==null?y:Ln(N),g=x==null?y:Ln(x),y=new h(E,v+"leave",N,n,p),y.target=m,y.relatedTarget=g,E=null,mn(p)===d&&(h=new h(u,v+"enter",x,n,p),h.target=g,h.relatedTarget=m,E=h),m=E,N&&x)t:{for(h=N,u=x,v=0,g=h;g;g=Dn(g))v++;for(g=0,E=u;E;E=Dn(E))g++;for(;0<v-g;)h=Dn(h),v--;for(;0<g-v;)u=Dn(u),g--;for(;v--;){if(h===u||u!==null&&h===u.alternate)break t;h=Dn(h),u=Dn(u)}h=null}else h=null;N!==null&&fc(f,y,N,h,!1),x!==null&&m!==null&&fc(f,m,x,h,!0)}}e:{if(y=d?Ln(d):window,N=y.nodeName&&y.nodeName.toLowerCase(),N==="select"||N==="input"&&y.type==="file")var C=ah;else if(ac(y))if(pu)C=ch;else{C=oh;var w=lh}else(N=y.nodeName)&&N.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(C=ih);if(C&&(C=C(e,d))){fu(f,C,n,p);break e}w&&w(e,y,d),e==="focusout"&&(w=y._wrapperState)&&w.controlled&&y.type==="number"&&Cl(y,"number",y.value)}switch(w=d?Ln(d):window,e){case"focusin":(ac(w)||w.contentEditable==="true")&&(Pn=w,zl=d,_r=null);break;case"focusout":_r=zl=Pn=null;break;case"mousedown":$l=!0;break;case"contextmenu":case"mouseup":case"dragend":$l=!1,dc(f,n,p);break;case"selectionchange":if(mh)break;case"keydown":case"keyup":dc(f,n,p)}var S;if(Uo)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Rn?uu(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(du&&n.locale!=="ko"&&(Rn||b!=="onCompositionStart"?b==="onCompositionEnd"&&Rn&&(S=cu()):(Ht=p,zo="value"in Ht?Ht.value:Ht.textContent,Rn=!0)),w=Qs(d,b),0<w.length&&(b=new tc(b,e,null,n,p),f.push({event:b,listeners:w}),S?b.data=S:(S=mu(n),S!==null&&(b.data=S)))),(S=eh?th(e,n):nh(e,n))&&(d=Qs(d,"onBeforeInput"),0<d.length&&(p=new tc("onBeforeInput","beforeinput",null,n,p),f.push({event:p,listeners:d}),p.data=S))}Su(f,t)})}function Ur(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qs(e,t){for(var n=t+"Capture",s=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=Lr(e,n),l!=null&&s.unshift(Ur(e,l,a)),l=Lr(e,t),l!=null&&s.push(Ur(e,l,a))),e=e.return}return s}function Dn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fc(e,t,n,s,a){for(var l=t._reactName,o=[];n!==null&&n!==s;){var i=n,c=i.alternate,d=i.stateNode;if(c!==null&&c===s)break;i.tag===5&&d!==null&&(i=d,a?(c=Lr(n,l),c!=null&&o.unshift(Ur(n,c,i))):a||(c=Lr(n,l),c!=null&&o.push(Ur(n,c,i)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var gh=/\r\n?/g,vh=/\u0000|\uFFFD/g;function pc(e){return(typeof e=="string"?e:""+e).replace(gh,`
`).replace(vh,"")}function bs(e,t,n){if(t=pc(t),pc(e)!==t&&n)throw Error(O(425))}function Gs(){}var Vl=null,Ul=null;function Bl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hl=typeof setTimeout=="function"?setTimeout:void 0,xh=typeof clearTimeout=="function"?clearTimeout:void 0,hc=typeof Promise=="function"?Promise:void 0,yh=typeof queueMicrotask=="function"?queueMicrotask:typeof hc<"u"?function(e){return hc.resolve(null).then(e).catch(jh)}:Hl;function jh(e){setTimeout(function(){throw e})}function al(e,t){var n=t,s=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(s===0){e.removeChild(a),Fr(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=a}while(n);Fr(t)}function Qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var rr=Math.random().toString(36).slice(2),Nt="__reactFiber$"+rr,Br="__reactProps$"+rr,Lt="__reactContainer$"+rr,Wl="__reactEvents$"+rr,bh="__reactListeners$"+rr,Nh="__reactHandles$"+rr;function mn(e){var t=e[Nt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Lt]||n[Nt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gc(e);e!==null;){if(n=e[Nt])return n;e=gc(e)}return t}e=n,n=e.parentNode}return null}function rs(e){return e=e[Nt]||e[Lt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ln(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function ba(e){return e[Br]||null}var ql=[],In=-1;function an(e){return{current:e}}function ue(e){0>In||(e.current=ql[In],ql[In]=null,In--)}function ie(e,t){In++,ql[In]=e.current,e.current=t}var rn={},Fe=an(rn),Je=an(!1),yn=rn;function Yn(e,t){var n=e.type.contextTypes;if(!n)return rn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in n)a[l]=t[l];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ke(e){return e=e.childContextTypes,e!=null}function Xs(){ue(Je),ue(Fe)}function vc(e,t,n){if(Fe.current!==rn)throw Error(O(168));ie(Fe,t),ie(Je,n)}function ku(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(O(108,lp(e)||"Unknown",a));return ve({},n,s)}function Zs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rn,yn=Fe.current,ie(Fe,e),ie(Je,Je.current),!0}function xc(e,t,n){var s=e.stateNode;if(!s)throw Error(O(169));n?(e=ku(e,t,yn),s.__reactInternalMemoizedMergedChildContext=e,ue(Je),ue(Fe),ie(Fe,e)):ue(Je),ie(Je,n)}var Tt=null,Na=!1,ll=!1;function Cu(e){Tt===null?Tt=[e]:Tt.push(e)}function wh(e){Na=!0,Cu(e)}function ln(){if(!ll&&Tt!==null){ll=!0;var e=0,t=le;try{var n=Tt;for(le=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Tt=null,Na=!1}catch(a){throw Tt!==null&&(Tt=Tt.slice(e+1)),Xd(Lo,ln),a}finally{le=t,ll=!1}}return null}var On=[],Fn=0,ea=null,ta=0,at=[],lt=0,jn=null,At=1,Rt="";function dn(e,t){On[Fn++]=ta,On[Fn++]=ea,ea=e,ta=t}function _u(e,t,n){at[lt++]=At,at[lt++]=Rt,at[lt++]=jn,jn=e;var s=At;e=Rt;var a=32-ht(s)-1;s&=~(1<<a),n+=1;var l=32-ht(t)+a;if(30<l){var o=a-a%5;l=(s&(1<<o)-1).toString(32),s>>=o,a-=o,At=1<<32-ht(t)+a|n<<a|s,Rt=l+e}else At=1<<l|n<<a|s,Rt=e}function Ho(e){e.return!==null&&(dn(e,1),_u(e,1,0))}function Wo(e){for(;e===ea;)ea=On[--Fn],On[Fn]=null,ta=On[--Fn],On[Fn]=null;for(;e===jn;)jn=at[--lt],at[lt]=null,Rt=at[--lt],at[lt]=null,At=at[--lt],at[lt]=null}var tt=null,et=null,me=!1,pt=null;function Du(e,t){var n=ot(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function yc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tt=e,et=Qt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tt=e,et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=jn!==null?{id:At,overflow:Rt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ot(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,tt=e,et=null,!0):!1;default:return!1}}function Jl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Kl(e){if(me){var t=et;if(t){var n=t;if(!yc(e,t)){if(Jl(e))throw Error(O(418));t=Qt(n.nextSibling);var s=tt;t&&yc(e,t)?Du(s,n):(e.flags=e.flags&-4097|2,me=!1,tt=e)}}else{if(Jl(e))throw Error(O(418));e.flags=e.flags&-4097|2,me=!1,tt=e}}}function jc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tt=e}function Ns(e){if(e!==tt)return!1;if(!me)return jc(e),me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bl(e.type,e.memoizedProps)),t&&(t=et)){if(Jl(e))throw Tu(),Error(O(418));for(;t;)Du(e,t),t=Qt(t.nextSibling)}if(jc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){et=Qt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}et=null}}else et=tt?Qt(e.stateNode.nextSibling):null;return!0}function Tu(){for(var e=et;e;)e=Qt(e.nextSibling)}function Qn(){et=tt=null,me=!1}function qo(e){pt===null?pt=[e]:pt.push(e)}var Sh=Ft.ReactCurrentBatchConfig;function gr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var s=n.stateNode}if(!s)throw Error(O(147,e));var a=s,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var i=a.refs;o===null?delete i[l]:i[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,e))}return e}function ws(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bc(e){var t=e._init;return t(e._payload)}function Au(e){function t(u,v){if(e){var g=u.deletions;g===null?(u.deletions=[v],u.flags|=16):g.push(v)}}function n(u,v){if(!e)return null;for(;v!==null;)t(u,v),v=v.sibling;return null}function s(u,v){for(u=new Map;v!==null;)v.key!==null?u.set(v.key,v):u.set(v.index,v),v=v.sibling;return u}function a(u,v){return u=en(u,v),u.index=0,u.sibling=null,u}function l(u,v,g){return u.index=g,e?(g=u.alternate,g!==null?(g=g.index,g<v?(u.flags|=2,v):g):(u.flags|=2,v)):(u.flags|=1048576,v)}function o(u){return e&&u.alternate===null&&(u.flags|=2),u}function i(u,v,g,E){return v===null||v.tag!==6?(v=fl(g,u.mode,E),v.return=u,v):(v=a(v,g),v.return=u,v)}function c(u,v,g,E){var C=g.type;return C===An?p(u,v,g.props.children,E,g.key):v!==null&&(v.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===$t&&bc(C)===v.type)?(E=a(v,g.props),E.ref=gr(u,v,g),E.return=u,E):(E=zs(g.type,g.key,g.props,null,u.mode,E),E.ref=gr(u,v,g),E.return=u,E)}function d(u,v,g,E){return v===null||v.tag!==4||v.stateNode.containerInfo!==g.containerInfo||v.stateNode.implementation!==g.implementation?(v=pl(g,u.mode,E),v.return=u,v):(v=a(v,g.children||[]),v.return=u,v)}function p(u,v,g,E,C){return v===null||v.tag!==7?(v=vn(g,u.mode,E,C),v.return=u,v):(v=a(v,g),v.return=u,v)}function f(u,v,g){if(typeof v=="string"&&v!==""||typeof v=="number")return v=fl(""+v,u.mode,g),v.return=u,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ms:return g=zs(v.type,v.key,v.props,null,u.mode,g),g.ref=gr(u,null,v),g.return=u,g;case Tn:return v=pl(v,u.mode,g),v.return=u,v;case $t:var E=v._init;return f(u,E(v._payload),g)}if(br(v)||ur(v))return v=vn(v,u.mode,g,null),v.return=u,v;ws(u,v)}return null}function y(u,v,g,E){var C=v!==null?v.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return C!==null?null:i(u,v,""+g,E);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ms:return g.key===C?c(u,v,g,E):null;case Tn:return g.key===C?d(u,v,g,E):null;case $t:return C=g._init,y(u,v,C(g._payload),E)}if(br(g)||ur(g))return C!==null?null:p(u,v,g,E,null);ws(u,g)}return null}function N(u,v,g,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return u=u.get(g)||null,i(v,u,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ms:return u=u.get(E.key===null?g:E.key)||null,c(v,u,E,C);case Tn:return u=u.get(E.key===null?g:E.key)||null,d(v,u,E,C);case $t:var w=E._init;return N(u,v,g,w(E._payload),C)}if(br(E)||ur(E))return u=u.get(g)||null,p(v,u,E,C,null);ws(v,E)}return null}function x(u,v,g,E){for(var C=null,w=null,S=v,b=v=0,L=null;S!==null&&b<g.length;b++){S.index>b?(L=S,S=null):L=S.sibling;var T=y(u,S,g[b],E);if(T===null){S===null&&(S=L);break}e&&S&&T.alternate===null&&t(u,S),v=l(T,v,b),w===null?C=T:w.sibling=T,w=T,S=L}if(b===g.length)return n(u,S),me&&dn(u,b),C;if(S===null){for(;b<g.length;b++)S=f(u,g[b],E),S!==null&&(v=l(S,v,b),w===null?C=S:w.sibling=S,w=S);return me&&dn(u,b),C}for(S=s(u,S);b<g.length;b++)L=N(S,u,b,g[b],E),L!==null&&(e&&L.alternate!==null&&S.delete(L.key===null?b:L.key),v=l(L,v,b),w===null?C=L:w.sibling=L,w=L);return e&&S.forEach(function($){return t(u,$)}),me&&dn(u,b),C}function h(u,v,g,E){var C=ur(g);if(typeof C!="function")throw Error(O(150));if(g=C.call(g),g==null)throw Error(O(151));for(var w=C=null,S=v,b=v=0,L=null,T=g.next();S!==null&&!T.done;b++,T=g.next()){S.index>b?(L=S,S=null):L=S.sibling;var $=y(u,S,T.value,E);if($===null){S===null&&(S=L);break}e&&S&&$.alternate===null&&t(u,S),v=l($,v,b),w===null?C=$:w.sibling=$,w=$,S=L}if(T.done)return n(u,S),me&&dn(u,b),C;if(S===null){for(;!T.done;b++,T=g.next())T=f(u,T.value,E),T!==null&&(v=l(T,v,b),w===null?C=T:w.sibling=T,w=T);return me&&dn(u,b),C}for(S=s(u,S);!T.done;b++,T=g.next())T=N(S,u,b,T.value,E),T!==null&&(e&&T.alternate!==null&&S.delete(T.key===null?b:T.key),v=l(T,v,b),w===null?C=T:w.sibling=T,w=T);return e&&S.forEach(function(_){return t(u,_)}),me&&dn(u,b),C}function m(u,v,g,E){if(typeof g=="object"&&g!==null&&g.type===An&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ms:e:{for(var C=g.key,w=v;w!==null;){if(w.key===C){if(C=g.type,C===An){if(w.tag===7){n(u,w.sibling),v=a(w,g.props.children),v.return=u,u=v;break e}}else if(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===$t&&bc(C)===w.type){n(u,w.sibling),v=a(w,g.props),v.ref=gr(u,w,g),v.return=u,u=v;break e}n(u,w);break}else t(u,w);w=w.sibling}g.type===An?(v=vn(g.props.children,u.mode,E,g.key),v.return=u,u=v):(E=zs(g.type,g.key,g.props,null,u.mode,E),E.ref=gr(u,v,g),E.return=u,u=E)}return o(u);case Tn:e:{for(w=g.key;v!==null;){if(v.key===w)if(v.tag===4&&v.stateNode.containerInfo===g.containerInfo&&v.stateNode.implementation===g.implementation){n(u,v.sibling),v=a(v,g.children||[]),v.return=u,u=v;break e}else{n(u,v);break}else t(u,v);v=v.sibling}v=pl(g,u.mode,E),v.return=u,u=v}return o(u);case $t:return w=g._init,m(u,v,w(g._payload),E)}if(br(g))return x(u,v,g,E);if(ur(g))return h(u,v,g,E);ws(u,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,v!==null&&v.tag===6?(n(u,v.sibling),v=a(v,g),v.return=u,u=v):(n(u,v),v=fl(g,u.mode,E),v.return=u,u=v),o(u)):n(u,v)}return m}var Gn=Au(!0),Ru=Au(!1),na=an(null),ra=null,zn=null,Jo=null;function Ko(){Jo=zn=ra=null}function Yo(e){var t=na.current;ue(na),e._currentValue=t}function Yl(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function qn(e,t){ra=e,Jo=zn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qe=!0),e.firstContext=null)}function ct(e){var t=e._currentValue;if(Jo!==e)if(e={context:e,memoizedValue:t,next:null},zn===null){if(ra===null)throw Error(O(308));zn=e,ra.dependencies={lanes:0,firstContext:e}}else zn=zn.next=e;return t}var fn=null;function Qo(e){fn===null?fn=[e]:fn.push(e)}function Pu(e,t,n,s){var a=t.interleaved;return a===null?(n.next=n,Qo(t)):(n.next=a.next,a.next=n),t.interleaved=n,It(e,s)}function It(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Vt=!1;function Go(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gt(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,re&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,It(e,n)}return a=s.interleaved,a===null?(t.next=t,Qo(s)):(t.next=a.next,a.next=t),s.interleaved=t,It(e,n)}function Ps(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Io(e,n)}}function Nc(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var a=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?a=l=o:l=l.next=o,n=n.next}while(n!==null);l===null?a=l=t:l=l.next=t}else a=l=t;n={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function sa(e,t,n,s){var a=e.updateQueue;Vt=!1;var l=a.firstBaseUpdate,o=a.lastBaseUpdate,i=a.shared.pending;if(i!==null){a.shared.pending=null;var c=i,d=c.next;c.next=null,o===null?l=d:o.next=d,o=c;var p=e.alternate;p!==null&&(p=p.updateQueue,i=p.lastBaseUpdate,i!==o&&(i===null?p.firstBaseUpdate=d:i.next=d,p.lastBaseUpdate=c))}if(l!==null){var f=a.baseState;o=0,p=d=c=null,i=l;do{var y=i.lane,N=i.eventTime;if((s&y)===y){p!==null&&(p=p.next={eventTime:N,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var x=e,h=i;switch(y=t,N=n,h.tag){case 1:if(x=h.payload,typeof x=="function"){f=x.call(N,f,y);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=h.payload,y=typeof x=="function"?x.call(N,f,y):x,y==null)break e;f=ve({},f,y);break e;case 2:Vt=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,y=a.effects,y===null?a.effects=[i]:y.push(i))}else N={eventTime:N,lane:y,tag:i.tag,payload:i.payload,callback:i.callback,next:null},p===null?(d=p=N,c=f):p=p.next=N,o|=y;if(i=i.next,i===null){if(i=a.shared.pending,i===null)break;y=i,i=y.next,y.next=null,a.lastBaseUpdate=y,a.shared.pending=null}}while(!0);if(p===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=p,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);Nn|=o,e.lanes=o,e.memoizedState=f}}function wc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=n,typeof a!="function")throw Error(O(191,a));a.call(s)}}}var ss={},St=an(ss),Hr=an(ss),Wr=an(ss);function pn(e){if(e===ss)throw Error(O(174));return e}function Xo(e,t){switch(ie(Wr,t),ie(Hr,e),ie(St,ss),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Dl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Dl(t,e)}ue(St),ie(St,t)}function Xn(){ue(St),ue(Hr),ue(Wr)}function Lu(e){pn(Wr.current);var t=pn(St.current),n=Dl(t,e.type);t!==n&&(ie(Hr,e),ie(St,n))}function Zo(e){Hr.current===e&&(ue(St),ue(Hr))}var he=an(0);function aa(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ol=[];function ei(){for(var e=0;e<ol.length;e++)ol[e]._workInProgressVersionPrimary=null;ol.length=0}var Ms=Ft.ReactCurrentDispatcher,il=Ft.ReactCurrentBatchConfig,bn=0,ge=null,Se=null,Ce=null,la=!1,Dr=!1,qr=0,Eh=0;function Me(){throw Error(O(321))}function ti(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vt(e[n],t[n]))return!1;return!0}function ni(e,t,n,s,a,l){if(bn=l,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ms.current=e===null||e.memoizedState===null?Dh:Th,e=n(s,a),Dr){l=0;do{if(Dr=!1,qr=0,25<=l)throw Error(O(301));l+=1,Ce=Se=null,t.updateQueue=null,Ms.current=Ah,e=n(s,a)}while(Dr)}if(Ms.current=oa,t=Se!==null&&Se.next!==null,bn=0,Ce=Se=ge=null,la=!1,t)throw Error(O(300));return e}function ri(){var e=qr!==0;return qr=0,e}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?ge.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function dt(){if(Se===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Se.next;var t=Ce===null?ge.memoizedState:Ce.next;if(t!==null)Ce=t,Se=e;else{if(e===null)throw Error(O(310));Se=e,e={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Ce===null?ge.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function Jr(e,t){return typeof t=="function"?t(e):t}function cl(e){var t=dt(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var s=Se,a=s.baseQueue,l=n.pending;if(l!==null){if(a!==null){var o=a.next;a.next=l.next,l.next=o}s.baseQueue=a=l,n.pending=null}if(a!==null){l=a.next,s=s.baseState;var i=o=null,c=null,d=l;do{var p=d.lane;if((bn&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var f={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(i=c=f,o=s):c=c.next=f,ge.lanes|=p,Nn|=p}d=d.next}while(d!==null&&d!==l);c===null?o=s:c.next=i,vt(s,t.memoizedState)||(qe=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){a=e;do l=a.lane,ge.lanes|=l,Nn|=l,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function dl(e){var t=dt(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var s=n.dispatch,a=n.pending,l=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do l=e(l,o.action),o=o.next;while(o!==a);vt(l,t.memoizedState)||(qe=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,s]}function Iu(){}function Ou(e,t){var n=ge,s=dt(),a=t(),l=!vt(s.memoizedState,a);if(l&&(s.memoizedState=a,qe=!0),s=s.queue,si($u.bind(null,n,s,e),[e]),s.getSnapshot!==t||l||Ce!==null&&Ce.memoizedState.tag&1){if(n.flags|=2048,Kr(9,zu.bind(null,n,s,a,t),void 0,null),_e===null)throw Error(O(349));bn&30||Fu(n,t,a)}return a}function Fu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function zu(e,t,n,s){t.value=n,t.getSnapshot=s,Vu(t)&&Uu(e)}function $u(e,t,n){return n(function(){Vu(t)&&Uu(e)})}function Vu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vt(e,n)}catch{return!0}}function Uu(e){var t=It(e,1);t!==null&&gt(t,e,1,-1)}function Sc(e){var t=bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:e},t.queue=e,e=e.dispatch=_h.bind(null,ge,e),[t.memoizedState,e]}function Kr(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Bu(){return dt().memoizedState}function Ls(e,t,n,s){var a=bt();ge.flags|=e,a.memoizedState=Kr(1|t,n,void 0,s===void 0?null:s)}function wa(e,t,n,s){var a=dt();s=s===void 0?null:s;var l=void 0;if(Se!==null){var o=Se.memoizedState;if(l=o.destroy,s!==null&&ti(s,o.deps)){a.memoizedState=Kr(t,n,l,s);return}}ge.flags|=e,a.memoizedState=Kr(1|t,n,l,s)}function Ec(e,t){return Ls(8390656,8,e,t)}function si(e,t){return wa(2048,8,e,t)}function Hu(e,t){return wa(4,2,e,t)}function Wu(e,t){return wa(4,4,e,t)}function qu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ju(e,t,n){return n=n!=null?n.concat([e]):null,wa(4,4,qu.bind(null,t,e),n)}function ai(){}function Ku(e,t){var n=dt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ti(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Yu(e,t){var n=dt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ti(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Qu(e,t,n){return bn&21?(vt(n,t)||(n=tu(),ge.lanes|=n,Nn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qe=!0),e.memoizedState=n)}function kh(e,t){var n=le;le=n!==0&&4>n?n:4,e(!0);var s=il.transition;il.transition={};try{e(!1),t()}finally{le=n,il.transition=s}}function Gu(){return dt().memoizedState}function Ch(e,t,n){var s=Zt(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Xu(e))Zu(t,n);else if(n=Pu(e,t,n,s),n!==null){var a=Ve();gt(n,e,s,a),em(n,t,s)}}function _h(e,t,n){var s=Zt(e),a={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xu(e))Zu(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,i=l(o,n);if(a.hasEagerState=!0,a.eagerState=i,vt(i,o)){var c=t.interleaved;c===null?(a.next=a,Qo(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=Pu(e,t,a,s),n!==null&&(a=Ve(),gt(n,e,s,a),em(n,t,s))}}function Xu(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function Zu(e,t){Dr=la=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function em(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Io(e,n)}}var oa={readContext:ct,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useInsertionEffect:Me,useLayoutEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useMutableSource:Me,useSyncExternalStore:Me,useId:Me,unstable_isNewReconciler:!1},Dh={readContext:ct,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:Ec,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ls(4194308,4,qu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ls(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ls(4,2,e,t)},useMemo:function(e,t){var n=bt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=bt();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Ch.bind(null,ge,e),[s.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:Sc,useDebugValue:ai,useDeferredValue:function(e){return bt().memoizedState=e},useTransition:function(){var e=Sc(!1),t=e[0];return e=kh.bind(null,e[1]),bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=ge,a=bt();if(me){if(n===void 0)throw Error(O(407));n=n()}else{if(n=t(),_e===null)throw Error(O(349));bn&30||Fu(s,t,n)}a.memoizedState=n;var l={value:n,getSnapshot:t};return a.queue=l,Ec($u.bind(null,s,l,e),[e]),s.flags|=2048,Kr(9,zu.bind(null,s,l,n,t),void 0,null),n},useId:function(){var e=bt(),t=_e.identifierPrefix;if(me){var n=Rt,s=At;n=(s&~(1<<32-ht(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=qr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Eh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Th={readContext:ct,useCallback:Ku,useContext:ct,useEffect:si,useImperativeHandle:Ju,useInsertionEffect:Hu,useLayoutEffect:Wu,useMemo:Yu,useReducer:cl,useRef:Bu,useState:function(){return cl(Jr)},useDebugValue:ai,useDeferredValue:function(e){var t=dt();return Qu(t,Se.memoizedState,e)},useTransition:function(){var e=cl(Jr)[0],t=dt().memoizedState;return[e,t]},useMutableSource:Iu,useSyncExternalStore:Ou,useId:Gu,unstable_isNewReconciler:!1},Ah={readContext:ct,useCallback:Ku,useContext:ct,useEffect:si,useImperativeHandle:Ju,useInsertionEffect:Hu,useLayoutEffect:Wu,useMemo:Yu,useReducer:dl,useRef:Bu,useState:function(){return dl(Jr)},useDebugValue:ai,useDeferredValue:function(e){var t=dt();return Se===null?t.memoizedState=e:Qu(t,Se.memoizedState,e)},useTransition:function(){var e=dl(Jr)[0],t=dt().memoizedState;return[e,t]},useMutableSource:Iu,useSyncExternalStore:Ou,useId:Gu,unstable_isNewReconciler:!1};function mt(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ql(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Sa={isMounted:function(e){return(e=e._reactInternals)?kn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Ve(),a=Zt(e),l=Pt(s,a);l.payload=t,n!=null&&(l.callback=n),t=Gt(e,l,a),t!==null&&(gt(t,e,a,s),Ps(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Ve(),a=Zt(e),l=Pt(s,a);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Gt(e,l,a),t!==null&&(gt(t,e,a,s),Ps(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ve(),s=Zt(e),a=Pt(n,s);a.tag=2,t!=null&&(a.callback=t),t=Gt(e,a,s),t!==null&&(gt(t,e,s,n),Ps(t,e,s))}};function kc(e,t,n,s,a,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,l,o):t.prototype&&t.prototype.isPureReactComponent?!$r(n,s)||!$r(a,l):!0}function tm(e,t,n){var s=!1,a=rn,l=t.contextType;return typeof l=="object"&&l!==null?l=ct(l):(a=Ke(t)?yn:Fe.current,s=t.contextTypes,l=(s=s!=null)?Yn(e,a):rn),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Sa,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function Cc(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Sa.enqueueReplaceState(t,t.state,null)}function Gl(e,t,n,s){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Go(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=ct(l):(l=Ke(t)?yn:Fe.current,a.context=Yn(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Ql(e,t,l,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Sa.enqueueReplaceState(a,a.state,null),sa(e,n,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Zn(e,t){try{var n="",s=t;do n+=ap(s),s=s.return;while(s);var a=n}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function ul(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Xl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Rh=typeof WeakMap=="function"?WeakMap:Map;function nm(e,t,n){n=Pt(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){ca||(ca=!0,io=s),Xl(e,t)},n}function rm(e,t,n){n=Pt(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;n.payload=function(){return s(a)},n.callback=function(){Xl(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Xl(e,t),typeof s!="function"&&(Xt===null?Xt=new Set([this]):Xt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function _c(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Rh;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(n)||(a.add(n),e=qh.bind(null,e,t,n),t.then(e,e))}function Dc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Tc(e,t,n,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Pt(-1,1),t.tag=2,Gt(n,t,1))),n.lanes|=1),e)}var Ph=Ft.ReactCurrentOwner,qe=!1;function $e(e,t,n,s){t.child=e===null?Ru(t,null,n,s):Gn(t,e.child,n,s)}function Ac(e,t,n,s,a){n=n.render;var l=t.ref;return qn(t,a),s=ni(e,t,n,s,l,a),n=ri(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ot(e,t,a)):(me&&n&&Ho(t),t.flags|=1,$e(e,t,s,a),t.child)}function Rc(e,t,n,s,a){if(e===null){var l=n.type;return typeof l=="function"&&!fi(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,sm(e,t,l,s,a)):(e=zs(n.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var o=l.memoizedProps;if(n=n.compare,n=n!==null?n:$r,n(o,s)&&e.ref===t.ref)return Ot(e,t,a)}return t.flags|=1,e=en(l,s),e.ref=t.ref,e.return=t,t.child=e}function sm(e,t,n,s,a){if(e!==null){var l=e.memoizedProps;if($r(l,s)&&e.ref===t.ref)if(qe=!1,t.pendingProps=s=l,(e.lanes&a)!==0)e.flags&131072&&(qe=!0);else return t.lanes=e.lanes,Ot(e,t,a)}return Zl(e,t,n,s,a)}function am(e,t,n){var s=t.pendingProps,a=s.children,l=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(Vn,Ze),Ze|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ie(Vn,Ze),Ze|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=l!==null?l.baseLanes:n,ie(Vn,Ze),Ze|=s}else l!==null?(s=l.baseLanes|n,t.memoizedState=null):s=n,ie(Vn,Ze),Ze|=s;return $e(e,t,a,n),t.child}function lm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Zl(e,t,n,s,a){var l=Ke(n)?yn:Fe.current;return l=Yn(t,l),qn(t,a),n=ni(e,t,n,s,l,a),s=ri(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ot(e,t,a)):(me&&s&&Ho(t),t.flags|=1,$e(e,t,n,a),t.child)}function Pc(e,t,n,s,a){if(Ke(n)){var l=!0;Zs(t)}else l=!1;if(qn(t,a),t.stateNode===null)Is(e,t),tm(t,n,s),Gl(t,n,s,a),s=!0;else if(e===null){var o=t.stateNode,i=t.memoizedProps;o.props=i;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=ct(d):(d=Ke(n)?yn:Fe.current,d=Yn(t,d));var p=n.getDerivedStateFromProps,f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==s||c!==d)&&Cc(t,o,s,d),Vt=!1;var y=t.memoizedState;o.state=y,sa(t,s,o,a),c=t.memoizedState,i!==s||y!==c||Je.current||Vt?(typeof p=="function"&&(Ql(t,n,p,s),c=t.memoizedState),(i=Vt||kc(t,n,i,s,y,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=i):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,Mu(e,t),i=t.memoizedProps,d=t.type===t.elementType?i:mt(t.type,i),o.props=d,f=t.pendingProps,y=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=ct(c):(c=Ke(n)?yn:Fe.current,c=Yn(t,c));var N=n.getDerivedStateFromProps;(p=typeof N=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==f||y!==c)&&Cc(t,o,s,c),Vt=!1,y=t.memoizedState,o.state=y,sa(t,s,o,a);var x=t.memoizedState;i!==f||y!==x||Je.current||Vt?(typeof N=="function"&&(Ql(t,n,N,s),x=t.memoizedState),(d=Vt||kc(t,n,d,s,y,x,c)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=x),o.props=s,o.state=x,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),s=!1)}return eo(e,t,n,s,l,a)}function eo(e,t,n,s,a,l){lm(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&xc(t,n,!1),Ot(e,t,l);s=t.stateNode,Ph.current=t;var i=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Gn(t,e.child,null,l),t.child=Gn(t,null,i,l)):$e(e,t,i,l),t.memoizedState=s.state,a&&xc(t,n,!0),t.child}function om(e){var t=e.stateNode;t.pendingContext?vc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vc(e,t.context,!1),Xo(e,t.containerInfo)}function Mc(e,t,n,s,a){return Qn(),qo(a),t.flags|=256,$e(e,t,n,s),t.child}var to={dehydrated:null,treeContext:null,retryLane:0};function no(e){return{baseLanes:e,cachePool:null,transitions:null}}function im(e,t,n){var s=t.pendingProps,a=he.current,l=!1,o=(t.flags&128)!==0,i;if((i=o)||(i=e!==null&&e.memoizedState===null?!1:(a&2)!==0),i?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ie(he,a&1),e===null)return Kl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,l?(s=t.mode,l=t.child,o={mode:"hidden",children:o},!(s&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=Ca(o,s,0,null),e=vn(e,s,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=no(n),t.memoizedState=to,e):li(t,o));if(a=e.memoizedState,a!==null&&(i=a.dehydrated,i!==null))return Mh(e,t,o,s,i,a,n);if(l){l=s.fallback,o=t.mode,a=e.child,i=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=en(a,c),s.subtreeFlags=a.subtreeFlags&14680064),i!==null?l=en(i,l):(l=vn(l,o,n,null),l.flags|=2),l.return=t,s.return=t,s.sibling=l,t.child=s,s=l,l=t.child,o=e.child.memoizedState,o=o===null?no(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~n,t.memoizedState=to,s}return l=e.child,e=l.sibling,s=en(l,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function li(e,t){return t=Ca({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ss(e,t,n,s){return s!==null&&qo(s),Gn(t,e.child,null,n),e=li(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Mh(e,t,n,s,a,l,o){if(n)return t.flags&256?(t.flags&=-257,s=ul(Error(O(422))),Ss(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=s.fallback,a=t.mode,s=Ca({mode:"visible",children:s.children},a,0,null),l=vn(l,a,o,null),l.flags|=2,s.return=t,l.return=t,s.sibling=l,t.child=s,t.mode&1&&Gn(t,e.child,null,o),t.child.memoizedState=no(o),t.memoizedState=to,l);if(!(t.mode&1))return Ss(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var i=s.dgst;return s=i,l=Error(O(419)),s=ul(l,s,void 0),Ss(e,t,o,s)}if(i=(o&e.childLanes)!==0,qe||i){if(s=_e,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,It(e,a),gt(s,e,a,-1))}return mi(),s=ul(Error(O(421))),Ss(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Jh.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,et=Qt(a.nextSibling),tt=t,me=!0,pt=null,e!==null&&(at[lt++]=At,at[lt++]=Rt,at[lt++]=jn,At=e.id,Rt=e.overflow,jn=t),t=li(t,s.children),t.flags|=4096,t)}function Lc(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Yl(e.return,t,n)}function ml(e,t,n,s,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=s,l.tail=n,l.tailMode=a)}function cm(e,t,n){var s=t.pendingProps,a=s.revealOrder,l=s.tail;if($e(e,t,s.children,n),s=he.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lc(e,n,t);else if(e.tag===19)Lc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ie(he,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&aa(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),ml(t,!1,a,n,l);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&aa(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}ml(t,!0,n,null,l);break;case"together":ml(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Is(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ot(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Nn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,n=en(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=en(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Lh(e,t,n){switch(t.tag){case 3:om(t),Qn();break;case 5:Lu(t);break;case 1:Ke(t.type)&&Zs(t);break;case 4:Xo(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;ie(na,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ie(he,he.current&1),t.flags|=128,null):n&t.child.childLanes?im(e,t,n):(ie(he,he.current&1),e=Ot(e,t,n),e!==null?e.sibling:null);ie(he,he.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return cm(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ie(he,he.current),s)break;return null;case 22:case 23:return t.lanes=0,am(e,t,n)}return Ot(e,t,n)}var dm,ro,um,mm;dm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ro=function(){};um=function(e,t,n,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,pn(St.current);var l=null;switch(n){case"input":a=El(e,a),s=El(e,s),l=[];break;case"select":a=ve({},a,{value:void 0}),s=ve({},s,{value:void 0}),l=[];break;case"textarea":a=_l(e,a),s=_l(e,s),l=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Gs)}Tl(n,s);var o;n=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var i=a[d];for(o in i)i.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Pr.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in s){var c=s[d];if(i=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==i&&(c!=null||i!=null))if(d==="style")if(i){for(o in i)!i.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&i[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(l||(l=[]),l.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(l=l||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Pr.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ce("scroll",e),l||i===c||(l=[])):(l=l||[]).push(d,c))}n&&(l=l||[]).push("style",n);var d=l;(t.updateQueue=d)&&(t.flags|=4)}};mm=function(e,t,n,s){n!==s&&(t.flags|=4)};function vr(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Ih(e,t,n){var s=t.pendingProps;switch(Wo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return Ke(t.type)&&Xs(),Le(t),null;case 3:return s=t.stateNode,Xn(),ue(Je),ue(Fe),ei(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ns(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pt!==null&&(mo(pt),pt=null))),ro(e,t),Le(t),null;case 5:Zo(t);var a=pn(Wr.current);if(n=t.type,e!==null&&t.stateNode!=null)um(e,t,n,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(O(166));return Le(t),null}if(e=pn(St.current),Ns(t)){s=t.stateNode,n=t.type;var l=t.memoizedProps;switch(s[Nt]=t,s[Br]=l,e=(t.mode&1)!==0,n){case"dialog":ce("cancel",s),ce("close",s);break;case"iframe":case"object":case"embed":ce("load",s);break;case"video":case"audio":for(a=0;a<wr.length;a++)ce(wr[a],s);break;case"source":ce("error",s);break;case"img":case"image":case"link":ce("error",s),ce("load",s);break;case"details":ce("toggle",s);break;case"input":Hi(s,l),ce("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!l.multiple},ce("invalid",s);break;case"textarea":qi(s,l),ce("invalid",s)}Tl(n,l),a=null;for(var o in l)if(l.hasOwnProperty(o)){var i=l[o];o==="children"?typeof i=="string"?s.textContent!==i&&(l.suppressHydrationWarning!==!0&&bs(s.textContent,i,e),a=["children",i]):typeof i=="number"&&s.textContent!==""+i&&(l.suppressHydrationWarning!==!0&&bs(s.textContent,i,e),a=["children",""+i]):Pr.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&ce("scroll",s)}switch(n){case"input":fs(s),Wi(s,l,!0);break;case"textarea":fs(s),Ji(s);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(s.onclick=Gs)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$d(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[Nt]=t,e[Br]=s,dm(e,t,!1,!1),t.stateNode=e;e:{switch(o=Al(n,s),n){case"dialog":ce("cancel",e),ce("close",e),a=s;break;case"iframe":case"object":case"embed":ce("load",e),a=s;break;case"video":case"audio":for(a=0;a<wr.length;a++)ce(wr[a],e);a=s;break;case"source":ce("error",e),a=s;break;case"img":case"image":case"link":ce("error",e),ce("load",e),a=s;break;case"details":ce("toggle",e),a=s;break;case"input":Hi(e,s),a=El(e,s),ce("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=ve({},s,{value:void 0}),ce("invalid",e);break;case"textarea":qi(e,s),a=_l(e,s),ce("invalid",e);break;default:a=s}Tl(n,a),i=a;for(l in i)if(i.hasOwnProperty(l)){var c=i[l];l==="style"?Bd(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Vd(e,c)):l==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Mr(e,c):typeof c=="number"&&Mr(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Pr.hasOwnProperty(l)?c!=null&&l==="onScroll"&&ce("scroll",e):c!=null&&To(e,l,c,o))}switch(n){case"input":fs(e),Wi(e,s,!1);break;case"textarea":fs(e),Ji(e);break;case"option":s.value!=null&&e.setAttribute("value",""+nn(s.value));break;case"select":e.multiple=!!s.multiple,l=s.value,l!=null?Un(e,!!s.multiple,l,!1):s.defaultValue!=null&&Un(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Gs)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Le(t),null;case 6:if(e&&t.stateNode!=null)mm(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(O(166));if(n=pn(Wr.current),pn(St.current),Ns(t)){if(s=t.stateNode,n=t.memoizedProps,s[Nt]=t,(l=s.nodeValue!==n)&&(e=tt,e!==null))switch(e.tag){case 3:bs(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bs(s.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Nt]=t,t.stateNode=s}return Le(t),null;case 13:if(ue(he),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(me&&et!==null&&t.mode&1&&!(t.flags&128))Tu(),Qn(),t.flags|=98560,l=!1;else if(l=Ns(t),s!==null&&s.dehydrated!==null){if(e===null){if(!l)throw Error(O(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(O(317));l[Nt]=t}else Qn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Le(t),l=!1}else pt!==null&&(mo(pt),pt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||he.current&1?Ee===0&&(Ee=3):mi())),t.updateQueue!==null&&(t.flags|=4),Le(t),null);case 4:return Xn(),ro(e,t),e===null&&Vr(t.stateNode.containerInfo),Le(t),null;case 10:return Yo(t.type._context),Le(t),null;case 17:return Ke(t.type)&&Xs(),Le(t),null;case 19:if(ue(he),l=t.memoizedState,l===null)return Le(t),null;if(s=(t.flags&128)!==0,o=l.rendering,o===null)if(s)vr(l,!1);else{if(Ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=aa(e),o!==null){for(t.flags|=128,vr(l,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)l=n,e=s,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ie(he,he.current&1|2),t.child}e=e.sibling}l.tail!==null&&je()>er&&(t.flags|=128,s=!0,vr(l,!1),t.lanes=4194304)}else{if(!s)if(e=aa(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),vr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!me)return Le(t),null}else 2*je()-l.renderingStartTime>er&&n!==1073741824&&(t.flags|=128,s=!0,vr(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(n=l.last,n!==null?n.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=je(),t.sibling=null,n=he.current,ie(he,s?n&1|2:n&1),t):(Le(t),null);case 22:case 23:return ui(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Ze&1073741824&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function Oh(e,t){switch(Wo(t),t.tag){case 1:return Ke(t.type)&&Xs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xn(),ue(Je),ue(Fe),ei(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Zo(t),null;case 13:if(ue(he),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));Qn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(he),null;case 4:return Xn(),null;case 10:return Yo(t.type._context),null;case 22:case 23:return ui(),null;case 24:return null;default:return null}}var Es=!1,Ie=!1,Fh=typeof WeakSet=="function"?WeakSet:Set,H=null;function $n(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){xe(e,t,s)}else n.current=null}function so(e,t,n){try{n()}catch(s){xe(e,t,s)}}var Ic=!1;function zh(e,t){if(Vl=Ks,e=vu(),Bo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var a=s.anchorOffset,l=s.focusNode;s=s.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var o=0,i=-1,c=-1,d=0,p=0,f=e,y=null;t:for(;;){for(var N;f!==n||a!==0&&f.nodeType!==3||(i=o+a),f!==l||s!==0&&f.nodeType!==3||(c=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(N=f.firstChild)!==null;)y=f,f=N;for(;;){if(f===e)break t;if(y===n&&++d===a&&(i=o),y===l&&++p===s&&(c=o),(N=f.nextSibling)!==null)break;f=y,y=f.parentNode}f=N}n=i===-1||c===-1?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ul={focusedElem:e,selectionRange:n},Ks=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var h=x.memoizedProps,m=x.memoizedState,u=t.stateNode,v=u.getSnapshotBeforeUpdate(t.elementType===t.type?h:mt(t.type,h),m);u.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(E){xe(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return x=Ic,Ic=!1,x}function Tr(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&so(t,n,l)}a=a.next}while(a!==s)}}function Ea(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function ao(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function fm(e){var t=e.alternate;t!==null&&(e.alternate=null,fm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nt],delete t[Br],delete t[Wl],delete t[bh],delete t[Nh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pm(e){return e.tag===5||e.tag===3||e.tag===4}function Oc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lo(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Gs));else if(s!==4&&(e=e.child,e!==null))for(lo(e,t,n),e=e.sibling;e!==null;)lo(e,t,n),e=e.sibling}function oo(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(oo(e,t,n),e=e.sibling;e!==null;)oo(e,t,n),e=e.sibling}var Ae=null,ft=!1;function zt(e,t,n){for(n=n.child;n!==null;)hm(e,t,n),n=n.sibling}function hm(e,t,n){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(va,n)}catch{}switch(n.tag){case 5:Ie||$n(n,t);case 6:var s=Ae,a=ft;Ae=null,zt(e,t,n),Ae=s,ft=a,Ae!==null&&(ft?(e=Ae,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ae.removeChild(n.stateNode));break;case 18:Ae!==null&&(ft?(e=Ae,n=n.stateNode,e.nodeType===8?al(e.parentNode,n):e.nodeType===1&&al(e,n),Fr(e)):al(Ae,n.stateNode));break;case 4:s=Ae,a=ft,Ae=n.stateNode.containerInfo,ft=!0,zt(e,t,n),Ae=s,ft=a;break;case 0:case 11:case 14:case 15:if(!Ie&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var l=a,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&so(n,t,o),a=a.next}while(a!==s)}zt(e,t,n);break;case 1:if(!Ie&&($n(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(i){xe(n,t,i)}zt(e,t,n);break;case 21:zt(e,t,n);break;case 22:n.mode&1?(Ie=(s=Ie)||n.memoizedState!==null,zt(e,t,n),Ie=s):zt(e,t,n);break;default:zt(e,t,n)}}function Fc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Fh),t.forEach(function(s){var a=Kh.bind(null,e,s);n.has(s)||(n.add(s),s.then(a,a))})}}function ut(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];try{var l=e,o=t,i=o;e:for(;i!==null;){switch(i.tag){case 5:Ae=i.stateNode,ft=!1;break e;case 3:Ae=i.stateNode.containerInfo,ft=!0;break e;case 4:Ae=i.stateNode.containerInfo,ft=!0;break e}i=i.return}if(Ae===null)throw Error(O(160));hm(l,o,a),Ae=null,ft=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){xe(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)gm(t,e),t=t.sibling}function gm(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ut(t,e),yt(e),s&4){try{Tr(3,e,e.return),Ea(3,e)}catch(h){xe(e,e.return,h)}try{Tr(5,e,e.return)}catch(h){xe(e,e.return,h)}}break;case 1:ut(t,e),yt(e),s&512&&n!==null&&$n(n,n.return);break;case 5:if(ut(t,e),yt(e),s&512&&n!==null&&$n(n,n.return),e.flags&32){var a=e.stateNode;try{Mr(a,"")}catch(h){xe(e,e.return,h)}}if(s&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,o=n!==null?n.memoizedProps:l,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&l.type==="radio"&&l.name!=null&&Fd(a,l),Al(i,o);var d=Al(i,l);for(o=0;o<c.length;o+=2){var p=c[o],f=c[o+1];p==="style"?Bd(a,f):p==="dangerouslySetInnerHTML"?Vd(a,f):p==="children"?Mr(a,f):To(a,p,f,d)}switch(i){case"input":kl(a,l);break;case"textarea":zd(a,l);break;case"select":var y=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var N=l.value;N!=null?Un(a,!!l.multiple,N,!1):y!==!!l.multiple&&(l.defaultValue!=null?Un(a,!!l.multiple,l.defaultValue,!0):Un(a,!!l.multiple,l.multiple?[]:"",!1))}a[Br]=l}catch(h){xe(e,e.return,h)}}break;case 6:if(ut(t,e),yt(e),s&4){if(e.stateNode===null)throw Error(O(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(h){xe(e,e.return,h)}}break;case 3:if(ut(t,e),yt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Fr(t.containerInfo)}catch(h){xe(e,e.return,h)}break;case 4:ut(t,e),yt(e);break;case 13:ut(t,e),yt(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(ci=je())),s&4&&Fc(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Ie=(d=Ie)||p,ut(t,e),Ie=d):ut(t,e),yt(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!p&&e.mode&1)for(H=e,p=e.child;p!==null;){for(f=H=p;H!==null;){switch(y=H,N=y.child,y.tag){case 0:case 11:case 14:case 15:Tr(4,y,y.return);break;case 1:$n(y,y.return);var x=y.stateNode;if(typeof x.componentWillUnmount=="function"){s=y,n=y.return;try{t=s,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(h){xe(s,n,h)}}break;case 5:$n(y,y.return);break;case 22:if(y.memoizedState!==null){$c(f);continue}}N!==null?(N.return=y,H=N):$c(f)}p=p.sibling}e:for(p=null,f=e;;){if(f.tag===5){if(p===null){p=f;try{a=f.stateNode,d?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(i=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=Ud("display",o))}catch(h){xe(e,e.return,h)}}}else if(f.tag===6){if(p===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(h){xe(e,e.return,h)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ut(t,e),yt(e),s&4&&Fc(e);break;case 21:break;default:ut(t,e),yt(e)}}function yt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(pm(n)){var s=n;break e}n=n.return}throw Error(O(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(Mr(a,""),s.flags&=-33);var l=Oc(e);oo(e,l,a);break;case 3:case 4:var o=s.stateNode.containerInfo,i=Oc(e);lo(e,i,o);break;default:throw Error(O(161))}}catch(c){xe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $h(e,t,n){H=e,vm(e)}function vm(e,t,n){for(var s=(e.mode&1)!==0;H!==null;){var a=H,l=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||Es;if(!o){var i=a.alternate,c=i!==null&&i.memoizedState!==null||Ie;i=Es;var d=Ie;if(Es=o,(Ie=c)&&!d)for(H=a;H!==null;)o=H,c=o.child,o.tag===22&&o.memoizedState!==null?Vc(a):c!==null?(c.return=o,H=c):Vc(a);for(;l!==null;)H=l,vm(l),l=l.sibling;H=a,Es=i,Ie=d}zc(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,H=l):zc(e)}}function zc(e){for(;H!==null;){var t=H;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ie||Ea(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Ie)if(n===null)s.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:mt(t.type,n.memoizedProps);s.componentDidUpdate(a,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&wc(t,l,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}wc(t,o,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var f=p.dehydrated;f!==null&&Fr(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Ie||t.flags&512&&ao(t)}catch(y){xe(t,t.return,y)}}if(t===e){H=null;break}if(n=t.sibling,n!==null){n.return=t.return,H=n;break}H=t.return}}function $c(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var n=t.sibling;if(n!==null){n.return=t.return,H=n;break}H=t.return}}function Vc(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ea(4,t)}catch(c){xe(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){xe(t,a,c)}}var l=t.return;try{ao(t)}catch(c){xe(t,l,c)}break;case 5:var o=t.return;try{ao(t)}catch(c){xe(t,o,c)}}}catch(c){xe(t,t.return,c)}if(t===e){H=null;break}var i=t.sibling;if(i!==null){i.return=t.return,H=i;break}H=t.return}}var Vh=Math.ceil,ia=Ft.ReactCurrentDispatcher,oi=Ft.ReactCurrentOwner,it=Ft.ReactCurrentBatchConfig,re=0,_e=null,Ne=null,Re=0,Ze=0,Vn=an(0),Ee=0,Yr=null,Nn=0,ka=0,ii=0,Ar=null,We=null,ci=0,er=1/0,Dt=null,ca=!1,io=null,Xt=null,ks=!1,Wt=null,da=0,Rr=0,co=null,Os=-1,Fs=0;function Ve(){return re&6?je():Os!==-1?Os:Os=je()}function Zt(e){return e.mode&1?re&2&&Re!==0?Re&-Re:Sh.transition!==null?(Fs===0&&(Fs=tu()),Fs):(e=le,e!==0||(e=window.event,e=e===void 0?16:iu(e.type)),e):1}function gt(e,t,n,s){if(50<Rr)throw Rr=0,co=null,Error(O(185));ts(e,n,s),(!(re&2)||e!==_e)&&(e===_e&&(!(re&2)&&(ka|=n),Ee===4&&Bt(e,Re)),Ye(e,s),n===1&&re===0&&!(t.mode&1)&&(er=je()+500,Na&&ln()))}function Ye(e,t){var n=e.callbackNode;Sp(e,t);var s=Js(e,e===_e?Re:0);if(s===0)n!==null&&Qi(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Qi(n),t===1)e.tag===0?wh(Uc.bind(null,e)):Cu(Uc.bind(null,e)),yh(function(){!(re&6)&&ln()}),n=null;else{switch(nu(s)){case 1:n=Lo;break;case 4:n=Zd;break;case 16:n=qs;break;case 536870912:n=eu;break;default:n=qs}n=Em(n,xm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function xm(e,t){if(Os=-1,Fs=0,re&6)throw Error(O(327));var n=e.callbackNode;if(Jn()&&e.callbackNode!==n)return null;var s=Js(e,e===_e?Re:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=ua(e,s);else{t=s;var a=re;re|=2;var l=jm();(_e!==e||Re!==t)&&(Dt=null,er=je()+500,gn(e,t));do try{Hh();break}catch(i){ym(e,i)}while(!0);Ko(),ia.current=l,re=a,Ne!==null?t=0:(_e=null,Re=0,t=Ee)}if(t!==0){if(t===2&&(a=Il(e),a!==0&&(s=a,t=uo(e,a))),t===1)throw n=Yr,gn(e,0),Bt(e,s),Ye(e,je()),n;if(t===6)Bt(e,s);else{if(a=e.current.alternate,!(s&30)&&!Uh(a)&&(t=ua(e,s),t===2&&(l=Il(e),l!==0&&(s=l,t=uo(e,l))),t===1))throw n=Yr,gn(e,0),Bt(e,s),Ye(e,je()),n;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(O(345));case 2:un(e,We,Dt);break;case 3:if(Bt(e,s),(s&130023424)===s&&(t=ci+500-je(),10<t)){if(Js(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){Ve(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Hl(un.bind(null,e,We,Dt),t);break}un(e,We,Dt);break;case 4:if(Bt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-ht(s);l=1<<o,o=t[o],o>a&&(a=o),s&=~l}if(s=a,s=je()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Vh(s/1960))-s,10<s){e.timeoutHandle=Hl(un.bind(null,e,We,Dt),s);break}un(e,We,Dt);break;case 5:un(e,We,Dt);break;default:throw Error(O(329))}}}return Ye(e,je()),e.callbackNode===n?xm.bind(null,e):null}function uo(e,t){var n=Ar;return e.current.memoizedState.isDehydrated&&(gn(e,t).flags|=256),e=ua(e,t),e!==2&&(t=We,We=n,t!==null&&mo(t)),e}function mo(e){We===null?We=e:We.push.apply(We,e)}function Uh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var a=n[s],l=a.getSnapshot;a=a.value;try{if(!vt(l(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bt(e,t){for(t&=~ii,t&=~ka,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ht(t),s=1<<n;e[n]=-1,t&=~s}}function Uc(e){if(re&6)throw Error(O(327));Jn();var t=Js(e,0);if(!(t&1))return Ye(e,je()),null;var n=ua(e,t);if(e.tag!==0&&n===2){var s=Il(e);s!==0&&(t=s,n=uo(e,s))}if(n===1)throw n=Yr,gn(e,0),Bt(e,t),Ye(e,je()),n;if(n===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,un(e,We,Dt),Ye(e,je()),null}function di(e,t){var n=re;re|=1;try{return e(t)}finally{re=n,re===0&&(er=je()+500,Na&&ln())}}function wn(e){Wt!==null&&Wt.tag===0&&!(re&6)&&Jn();var t=re;re|=1;var n=it.transition,s=le;try{if(it.transition=null,le=1,e)return e()}finally{le=s,it.transition=n,re=t,!(re&6)&&ln()}}function ui(){Ze=Vn.current,ue(Vn)}function gn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,xh(n)),Ne!==null)for(n=Ne.return;n!==null;){var s=n;switch(Wo(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Xs();break;case 3:Xn(),ue(Je),ue(Fe),ei();break;case 5:Zo(s);break;case 4:Xn();break;case 13:ue(he);break;case 19:ue(he);break;case 10:Yo(s.type._context);break;case 22:case 23:ui()}n=n.return}if(_e=e,Ne=e=en(e.current,null),Re=Ze=t,Ee=0,Yr=null,ii=ka=Nn=0,We=Ar=null,fn!==null){for(t=0;t<fn.length;t++)if(n=fn[t],s=n.interleaved,s!==null){n.interleaved=null;var a=s.next,l=n.pending;if(l!==null){var o=l.next;l.next=a,s.next=o}n.pending=s}fn=null}return e}function ym(e,t){do{var n=Ne;try{if(Ko(),Ms.current=oa,la){for(var s=ge.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}la=!1}if(bn=0,Ce=Se=ge=null,Dr=!1,qr=0,oi.current=null,n===null||n.return===null){Ee=1,Yr=t,Ne=null;break}e:{var l=e,o=n.return,i=n,c=t;if(t=Re,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=i,f=p.tag;if(!(p.mode&1)&&(f===0||f===11||f===15)){var y=p.alternate;y?(p.updateQueue=y.updateQueue,p.memoizedState=y.memoizedState,p.lanes=y.lanes):(p.updateQueue=null,p.memoizedState=null)}var N=Dc(o);if(N!==null){N.flags&=-257,Tc(N,o,i,l,t),N.mode&1&&_c(l,d,t),t=N,c=d;var x=t.updateQueue;if(x===null){var h=new Set;h.add(c),t.updateQueue=h}else x.add(c);break e}else{if(!(t&1)){_c(l,d,t),mi();break e}c=Error(O(426))}}else if(me&&i.mode&1){var m=Dc(o);if(m!==null){!(m.flags&65536)&&(m.flags|=256),Tc(m,o,i,l,t),qo(Zn(c,i));break e}}l=c=Zn(c,i),Ee!==4&&(Ee=2),Ar===null?Ar=[l]:Ar.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var u=nm(l,c,t);Nc(l,u);break e;case 1:i=c;var v=l.type,g=l.stateNode;if(!(l.flags&128)&&(typeof v.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Xt===null||!Xt.has(g)))){l.flags|=65536,t&=-t,l.lanes|=t;var E=rm(l,i,t);Nc(l,E);break e}}l=l.return}while(l!==null)}Nm(n)}catch(C){t=C,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(!0)}function jm(){var e=ia.current;return ia.current=oa,e===null?oa:e}function mi(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),_e===null||!(Nn&268435455)&&!(ka&268435455)||Bt(_e,Re)}function ua(e,t){var n=re;re|=2;var s=jm();(_e!==e||Re!==t)&&(Dt=null,gn(e,t));do try{Bh();break}catch(a){ym(e,a)}while(!0);if(Ko(),re=n,ia.current=s,Ne!==null)throw Error(O(261));return _e=null,Re=0,Ee}function Bh(){for(;Ne!==null;)bm(Ne)}function Hh(){for(;Ne!==null&&!hp();)bm(Ne)}function bm(e){var t=Sm(e.alternate,e,Ze);e.memoizedProps=e.pendingProps,t===null?Nm(e):Ne=t,oi.current=null}function Nm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Oh(n,t),n!==null){n.flags&=32767,Ne=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ee=6,Ne=null;return}}else if(n=Ih(n,t,Ze),n!==null){Ne=n;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);Ee===0&&(Ee=5)}function un(e,t,n){var s=le,a=it.transition;try{it.transition=null,le=1,Wh(e,t,n,s)}finally{it.transition=a,le=s}return null}function Wh(e,t,n,s){do Jn();while(Wt!==null);if(re&6)throw Error(O(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Ep(e,l),e===_e&&(Ne=_e=null,Re=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ks||(ks=!0,Em(qs,function(){return Jn(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=it.transition,it.transition=null;var o=le;le=1;var i=re;re|=4,oi.current=null,zh(e,n),gm(n,e),uh(Ul),Ks=!!Vl,Ul=Vl=null,e.current=n,$h(n),gp(),re=i,le=o,it.transition=l}else e.current=n;if(ks&&(ks=!1,Wt=e,da=a),l=e.pendingLanes,l===0&&(Xt=null),yp(n.stateNode),Ye(e,je()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],s(a.value,{componentStack:a.stack,digest:a.digest});if(ca)throw ca=!1,e=io,io=null,e;return da&1&&e.tag!==0&&Jn(),l=e.pendingLanes,l&1?e===co?Rr++:(Rr=0,co=e):Rr=0,ln(),null}function Jn(){if(Wt!==null){var e=nu(da),t=it.transition,n=le;try{if(it.transition=null,le=16>e?16:e,Wt===null)var s=!1;else{if(e=Wt,Wt=null,da=0,re&6)throw Error(O(331));var a=re;for(re|=4,H=e.current;H!==null;){var l=H,o=l.child;if(H.flags&16){var i=l.deletions;if(i!==null){for(var c=0;c<i.length;c++){var d=i[c];for(H=d;H!==null;){var p=H;switch(p.tag){case 0:case 11:case 15:Tr(8,p,l)}var f=p.child;if(f!==null)f.return=p,H=f;else for(;H!==null;){p=H;var y=p.sibling,N=p.return;if(fm(p),p===d){H=null;break}if(y!==null){y.return=N,H=y;break}H=N}}}var x=l.alternate;if(x!==null){var h=x.child;if(h!==null){x.child=null;do{var m=h.sibling;h.sibling=null,h=m}while(h!==null)}}H=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,H=o;else e:for(;H!==null;){if(l=H,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Tr(9,l,l.return)}var u=l.sibling;if(u!==null){u.return=l.return,H=u;break e}H=l.return}}var v=e.current;for(H=v;H!==null;){o=H;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,H=g;else e:for(o=v;H!==null;){if(i=H,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:Ea(9,i)}}catch(C){xe(i,i.return,C)}if(i===o){H=null;break e}var E=i.sibling;if(E!==null){E.return=i.return,H=E;break e}H=i.return}}if(re=a,ln(),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(va,e)}catch{}s=!0}return s}finally{le=n,it.transition=t}}return!1}function Bc(e,t,n){t=Zn(n,t),t=nm(e,t,1),e=Gt(e,t,1),t=Ve(),e!==null&&(ts(e,1,t),Ye(e,t))}function xe(e,t,n){if(e.tag===3)Bc(e,e,n);else for(;t!==null;){if(t.tag===3){Bc(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Xt===null||!Xt.has(s))){e=Zn(n,e),e=rm(t,e,1),t=Gt(t,e,1),e=Ve(),t!==null&&(ts(t,1,e),Ye(t,e));break}}t=t.return}}function qh(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Ve(),e.pingedLanes|=e.suspendedLanes&n,_e===e&&(Re&n)===n&&(Ee===4||Ee===3&&(Re&130023424)===Re&&500>je()-ci?gn(e,0):ii|=n),Ye(e,t)}function wm(e,t){t===0&&(e.mode&1?(t=gs,gs<<=1,!(gs&130023424)&&(gs=4194304)):t=1);var n=Ve();e=It(e,t),e!==null&&(ts(e,t,n),Ye(e,n))}function Jh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),wm(e,n)}function Kh(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(O(314))}s!==null&&s.delete(t),wm(e,n)}var Sm;Sm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Je.current)qe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return qe=!1,Lh(e,t,n);qe=!!(e.flags&131072)}else qe=!1,me&&t.flags&1048576&&_u(t,ta,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Is(e,t),e=t.pendingProps;var a=Yn(t,Fe.current);qn(t,n),a=ni(null,t,s,e,a,n);var l=ri();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ke(s)?(l=!0,Zs(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Go(t),a.updater=Sa,t.stateNode=a,a._reactInternals=t,Gl(t,s,e,n),t=eo(null,t,s,!0,l,n)):(t.tag=0,me&&l&&Ho(t),$e(null,t,a,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Is(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=Qh(s),e=mt(s,e),a){case 0:t=Zl(null,t,s,e,n);break e;case 1:t=Pc(null,t,s,e,n);break e;case 11:t=Ac(null,t,s,e,n);break e;case 14:t=Rc(null,t,s,mt(s.type,e),n);break e}throw Error(O(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:mt(s,a),Zl(e,t,s,a,n);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:mt(s,a),Pc(e,t,s,a,n);case 3:e:{if(om(t),e===null)throw Error(O(387));s=t.pendingProps,l=t.memoizedState,a=l.element,Mu(e,t),sa(t,s,null,n);var o=t.memoizedState;if(s=o.element,l.isDehydrated)if(l={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=Zn(Error(O(423)),t),t=Mc(e,t,s,n,a);break e}else if(s!==a){a=Zn(Error(O(424)),t),t=Mc(e,t,s,n,a);break e}else for(et=Qt(t.stateNode.containerInfo.firstChild),tt=t,me=!0,pt=null,n=Ru(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qn(),s===a){t=Ot(e,t,n);break e}$e(e,t,s,n)}t=t.child}return t;case 5:return Lu(t),e===null&&Kl(t),s=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,o=a.children,Bl(s,a)?o=null:l!==null&&Bl(s,l)&&(t.flags|=32),lm(e,t),$e(e,t,o,n),t.child;case 6:return e===null&&Kl(t),null;case 13:return im(e,t,n);case 4:return Xo(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Gn(t,null,s,n):$e(e,t,s,n),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:mt(s,a),Ac(e,t,s,a,n);case 7:return $e(e,t,t.pendingProps,n),t.child;case 8:return $e(e,t,t.pendingProps.children,n),t.child;case 12:return $e(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,l=t.memoizedProps,o=a.value,ie(na,s._currentValue),s._currentValue=o,l!==null)if(vt(l.value,o)){if(l.children===a.children&&!Je.current){t=Ot(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var i=l.dependencies;if(i!==null){o=l.child;for(var c=i.firstContext;c!==null;){if(c.context===s){if(l.tag===1){c=Pt(-1,n&-n),c.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),Yl(l.return,n,t),i.lanes|=n;break}c=c.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(O(341));o.lanes|=n,i=o.alternate,i!==null&&(i.lanes|=n),Yl(o,n,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}$e(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,qn(t,n),a=ct(a),s=s(a),t.flags|=1,$e(e,t,s,n),t.child;case 14:return s=t.type,a=mt(s,t.pendingProps),a=mt(s.type,a),Rc(e,t,s,a,n);case 15:return sm(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:mt(s,a),Is(e,t),t.tag=1,Ke(s)?(e=!0,Zs(t)):e=!1,qn(t,n),tm(t,s,a),Gl(t,s,a,n),eo(null,t,s,!0,e,n);case 19:return cm(e,t,n);case 22:return am(e,t,n)}throw Error(O(156,t.tag))};function Em(e,t){return Xd(e,t)}function Yh(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(e,t,n,s){return new Yh(e,t,n,s)}function fi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qh(e){if(typeof e=="function")return fi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ro)return 11;if(e===Po)return 14}return 2}function en(e,t){var n=e.alternate;return n===null?(n=ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zs(e,t,n,s,a,l){var o=2;if(s=e,typeof e=="function")fi(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case An:return vn(n.children,a,l,t);case Ao:o=8,a|=8;break;case bl:return e=ot(12,n,t,a|2),e.elementType=bl,e.lanes=l,e;case Nl:return e=ot(13,n,t,a),e.elementType=Nl,e.lanes=l,e;case wl:return e=ot(19,n,t,a),e.elementType=wl,e.lanes=l,e;case Ld:return Ca(n,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Pd:o=10;break e;case Md:o=9;break e;case Ro:o=11;break e;case Po:o=14;break e;case $t:o=16,s=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=ot(o,n,t,a),t.elementType=e,t.type=s,t.lanes=l,t}function vn(e,t,n,s){return e=ot(7,e,s,t),e.lanes=n,e}function Ca(e,t,n,s){return e=ot(22,e,s,t),e.elementType=Ld,e.lanes=n,e.stateNode={isHidden:!1},e}function fl(e,t,n){return e=ot(6,e,null,t),e.lanes=n,e}function pl(e,t,n){return t=ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gh(e,t,n,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ka(0),this.expirationTimes=Ka(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ka(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function pi(e,t,n,s,a,l,o,i,c){return e=new Gh(e,t,n,i,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=ot(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Go(l),e}function Xh(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tn,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function km(e){if(!e)return rn;e=e._reactInternals;e:{if(kn(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ke(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var n=e.type;if(Ke(n))return ku(e,n,t)}return t}function Cm(e,t,n,s,a,l,o,i,c){return e=pi(n,s,!0,e,a,l,o,i,c),e.context=km(null),n=e.current,s=Ve(),a=Zt(n),l=Pt(s,a),l.callback=t??null,Gt(n,l,a),e.current.lanes=a,ts(e,a,s),Ye(e,s),e}function _a(e,t,n,s){var a=t.current,l=Ve(),o=Zt(a);return n=km(n),t.context===null?t.context=n:t.pendingContext=n,t=Pt(l,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Gt(a,t,o),e!==null&&(gt(e,a,o,l),Ps(e,a,o)),o}function ma(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Hc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function hi(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}function Zh(){return null}var _m=typeof reportError=="function"?reportError:function(e){console.error(e)};function gi(e){this._internalRoot=e}Da.prototype.render=gi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));_a(e,t,null,null)};Da.prototype.unmount=gi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wn(function(){_a(null,e,null,null)}),t[Lt]=null}};function Da(e){this._internalRoot=e}Da.prototype.unstable_scheduleHydration=function(e){if(e){var t=au();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ut.length&&t!==0&&t<Ut[n].priority;n++);Ut.splice(n,0,e),n===0&&ou(e)}};function vi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ta(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Wc(){}function eg(e,t,n,s,a){if(a){if(typeof s=="function"){var l=s;s=function(){var d=ma(o);l.call(d)}}var o=Cm(t,s,e,0,null,!1,!1,"",Wc);return e._reactRootContainer=o,e[Lt]=o.current,Vr(e.nodeType===8?e.parentNode:e),wn(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var i=s;s=function(){var d=ma(c);i.call(d)}}var c=pi(e,0,!1,null,null,!1,!1,"",Wc);return e._reactRootContainer=c,e[Lt]=c.current,Vr(e.nodeType===8?e.parentNode:e),wn(function(){_a(t,c,n,s)}),c}function Aa(e,t,n,s,a){var l=n._reactRootContainer;if(l){var o=l;if(typeof a=="function"){var i=a;a=function(){var c=ma(o);i.call(c)}}_a(t,o,e,a)}else o=eg(n,t,e,a,s);return ma(o)}ru=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Nr(t.pendingLanes);n!==0&&(Io(t,n|1),Ye(t,je()),!(re&6)&&(er=je()+500,ln()))}break;case 13:wn(function(){var s=It(e,1);if(s!==null){var a=Ve();gt(s,e,1,a)}}),hi(e,1)}};Oo=function(e){if(e.tag===13){var t=It(e,134217728);if(t!==null){var n=Ve();gt(t,e,134217728,n)}hi(e,134217728)}};su=function(e){if(e.tag===13){var t=Zt(e),n=It(e,t);if(n!==null){var s=Ve();gt(n,e,t,s)}hi(e,t)}};au=function(){return le};lu=function(e,t){var n=le;try{return le=e,t()}finally{le=n}};Pl=function(e,t,n){switch(t){case"input":if(kl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var a=ba(s);if(!a)throw Error(O(90));Od(s),kl(s,a)}}}break;case"textarea":zd(e,n);break;case"select":t=n.value,t!=null&&Un(e,!!n.multiple,t,!1)}};qd=di;Jd=wn;var tg={usingClientEntryPoint:!1,Events:[rs,Ln,ba,Hd,Wd,di]},xr={findFiberByHostInstance:mn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ng={bundleType:xr.bundleType,version:xr.version,rendererPackageName:xr.rendererPackageName,rendererConfig:xr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ft.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qd(e),e===null?null:e.stateNode},findFiberByHostInstance:xr.findFiberByHostInstance||Zh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cs.isDisabled&&Cs.supportsFiber)try{va=Cs.inject(ng),wt=Cs}catch{}}rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tg;rt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vi(t))throw Error(O(200));return Xh(e,t,null,n)};rt.createRoot=function(e,t){if(!vi(e))throw Error(O(299));var n=!1,s="",a=_m;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=pi(e,1,!1,null,null,n,!1,s,a),e[Lt]=t.current,Vr(e.nodeType===8?e.parentNode:e),new gi(t)};rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=Qd(t),e=e===null?null:e.stateNode,e};rt.flushSync=function(e){return wn(e)};rt.hydrate=function(e,t,n){if(!Ta(t))throw Error(O(200));return Aa(null,e,t,!0,n)};rt.hydrateRoot=function(e,t,n){if(!vi(e))throw Error(O(405));var s=n!=null&&n.hydratedSources||null,a=!1,l="",o=_m;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Cm(t,null,e,1,n??null,a,!1,l,o),e[Lt]=t.current,Vr(e),s)for(e=0;e<s.length;e++)n=s[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Da(t)};rt.render=function(e,t,n){if(!Ta(t))throw Error(O(200));return Aa(null,e,t,!1,n)};rt.unmountComponentAtNode=function(e){if(!Ta(e))throw Error(O(40));return e._reactRootContainer?(wn(function(){Aa(null,null,e,!1,function(){e._reactRootContainer=null,e[Lt]=null})}),!0):!1};rt.unstable_batchedUpdates=di;rt.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Ta(n))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return Aa(e,t,n,!1,s)};rt.version="18.3.1-next-f1338f8080-20240426";function Dm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Dm)}catch(e){console.error(e)}}Dm(),Dd.exports=rt;var rg=Dd.exports,qc=rg;yl.createRoot=qc.createRoot,yl.hydrateRoot=qc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qr(){return Qr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Qr.apply(this,arguments)}var qt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(qt||(qt={}));const Jc="popstate";function sg(e){e===void 0&&(e={});function t(s,a){let{pathname:l,search:o,hash:i}=s.location;return fo("",{pathname:l,search:o,hash:i},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:fa(a)}return lg(t,n,null,e)}function be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Tm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ag(){return Math.random().toString(36).substr(2,8)}function Kc(e,t){return{usr:e.state,key:e.key,idx:t}}function fo(e,t,n,s){return n===void 0&&(n=null),Qr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?sr(t):t,{state:n,key:t&&t.key||s||ag()})}function fa(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function sr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function lg(e,t,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:l=!1}=s,o=a.history,i=qt.Pop,c=null,d=p();d==null&&(d=0,o.replaceState(Qr({},o.state,{idx:d}),""));function p(){return(o.state||{idx:null}).idx}function f(){i=qt.Pop;let m=p(),u=m==null?null:m-d;d=m,c&&c({action:i,location:h.location,delta:u})}function y(m,u){i=qt.Push;let v=fo(h.location,m,u);d=p()+1;let g=Kc(v,d),E=h.createHref(v);try{o.pushState(g,"",E)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(E)}l&&c&&c({action:i,location:h.location,delta:1})}function N(m,u){i=qt.Replace;let v=fo(h.location,m,u);d=p();let g=Kc(v,d),E=h.createHref(v);o.replaceState(g,"",E),l&&c&&c({action:i,location:h.location,delta:0})}function x(m){let u=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof m=="string"?m:fa(m);return v=v.replace(/ $/,"%20"),be(u,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,u)}let h={get action(){return i},get location(){return e(a,o)},listen(m){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Jc,f),c=m,()=>{a.removeEventListener(Jc,f),c=null}},createHref(m){return t(a,m)},createURL:x,encodeLocation(m){let u=x(m);return{pathname:u.pathname,search:u.search,hash:u.hash}},push:y,replace:N,go(m){return o.go(m)}};return h}var Yc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Yc||(Yc={}));function og(e,t,n){return n===void 0&&(n="/"),ig(e,t,n)}function ig(e,t,n,s){let a=typeof t=="string"?sr(t):t,l=xi(a.pathname||"/",n);if(l==null)return null;let o=Am(e);cg(o);let i=null;for(let c=0;i==null&&c<o.length;++c){let d=bg(l);i=xg(o[c],d)}return i}function Am(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(l,o,i)=>{let c={relativePath:i===void 0?l.path||"":i,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};c.relativePath.startsWith("/")&&(be(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=tn([s,c.relativePath]),p=n.concat(c);l.children&&l.children.length>0&&(be(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Am(l.children,t,p,d)),!(l.path==null&&!l.index)&&t.push({path:d,score:gg(d,l.index),routesMeta:p})};return e.forEach((l,o)=>{var i;if(l.path===""||!((i=l.path)!=null&&i.includes("?")))a(l,o);else for(let c of Rm(l.path))a(l,o,c)}),t}function Rm(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let o=Rm(s.join("/")),i=[];return i.push(...o.map(c=>c===""?l:[l,c].join("/"))),a&&i.push(...o),i.map(c=>e.startsWith("/")&&c===""?"/":c)}function cg(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:vg(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const dg=/^:[\w-]+$/,ug=3,mg=2,fg=1,pg=10,hg=-2,Qc=e=>e==="*";function gg(e,t){let n=e.split("/"),s=n.length;return n.some(Qc)&&(s+=hg),t&&(s+=mg),n.filter(a=>!Qc(a)).reduce((a,l)=>a+(dg.test(l)?ug:l===""?fg:pg),s)}function vg(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function xg(e,t,n){let{routesMeta:s}=e,a={},l="/",o=[];for(let i=0;i<s.length;++i){let c=s[i],d=i===s.length-1,p=l==="/"?t:t.slice(l.length)||"/",f=yg({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},p),y=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:tn([l,f.pathname]),pathnameBase:Eg(tn([l,f.pathnameBase])),route:y}),f.pathnameBase!=="/"&&(l=tn([l,f.pathnameBase]))}return o}function yg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=jg(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],o=l.replace(/(.)\/+$/,"$1"),i=a.slice(1);return{params:s.reduce((d,p,f)=>{let{paramName:y,isOptional:N}=p;if(y==="*"){let h=i[f]||"";o=l.slice(0,l.length-h.length).replace(/(.)\/+$/,"$1")}const x=i[f];return N&&!x?d[y]=void 0:d[y]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:o,pattern:e}}function jg(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Tm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,i,c)=>(s.push({paramName:i,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function bg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Tm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function xi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function Ng(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?sr(e):e;return{pathname:n?n.startsWith("/")?n:wg(n,t):t,search:kg(s),hash:Cg(a)}}function wg(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function hl(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Sg(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function yi(e,t){let n=Sg(e);return t?n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function ji(e,t,n,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=sr(e):(a=Qr({},e),be(!a.pathname||!a.pathname.includes("?"),hl("?","pathname","search",a)),be(!a.pathname||!a.pathname.includes("#"),hl("#","pathname","hash",a)),be(!a.search||!a.search.includes("#"),hl("#","search","hash",a)));let l=e===""||a.pathname==="",o=l?"/":a.pathname,i;if(o==null)i=n;else{let f=t.length-1;if(!s&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),f-=1;a.pathname=y.join("/")}i=f>=0?t[f]:"/"}let c=Ng(a,i),d=o&&o!=="/"&&o.endsWith("/"),p=(l||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}const tn=e=>e.join("/").replace(/\/\/+/g,"/"),Eg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),kg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Cg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function _g(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Pm=["post","put","patch","delete"];new Set(Pm);const Dg=["get",...Pm];new Set(Dg);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gr(){return Gr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Gr.apply(this,arguments)}const bi=j.createContext(null),Tg=j.createContext(null),on=j.createContext(null),Ra=j.createContext(null),cn=j.createContext({outlet:null,matches:[],isDataRoute:!1}),Mm=j.createContext(null);function Ag(e,t){let{relative:n}=t===void 0?{}:t;ar()||be(!1);let{basename:s,navigator:a}=j.useContext(on),{hash:l,pathname:o,search:i}=Im(e,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:tn([s,o])),a.createHref({pathname:c,search:i,hash:l})}function ar(){return j.useContext(Ra)!=null}function Cn(){return ar()||be(!1),j.useContext(Ra).location}function Lm(e){j.useContext(on).static||j.useLayoutEffect(e)}function Pa(){let{isDataRoute:e}=j.useContext(cn);return e?Hg():Rg()}function Rg(){ar()||be(!1);let e=j.useContext(bi),{basename:t,future:n,navigator:s}=j.useContext(on),{matches:a}=j.useContext(cn),{pathname:l}=Cn(),o=JSON.stringify(yi(a,n.v7_relativeSplatPath)),i=j.useRef(!1);return Lm(()=>{i.current=!0}),j.useCallback(function(d,p){if(p===void 0&&(p={}),!i.current)return;if(typeof d=="number"){s.go(d);return}let f=ji(d,JSON.parse(o),l,p.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:tn([t,f.pathname])),(p.replace?s.replace:s.push)(f,p.state,p)},[t,s,o,l,e])}function Im(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=j.useContext(on),{matches:a}=j.useContext(cn),{pathname:l}=Cn(),o=JSON.stringify(yi(a,s.v7_relativeSplatPath));return j.useMemo(()=>ji(e,JSON.parse(o),l,n==="path"),[e,o,l,n])}function Pg(e,t){return Mg(e,t)}function Mg(e,t,n,s){ar()||be(!1);let{navigator:a}=j.useContext(on),{matches:l}=j.useContext(cn),o=l[l.length-1],i=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Cn(),p;if(t){var f;let m=typeof t=="string"?sr(t):t;c==="/"||(f=m.pathname)!=null&&f.startsWith(c)||be(!1),p=m}else p=d;let y=p.pathname||"/",N=y;if(c!=="/"){let m=c.replace(/^\//,"").split("/");N="/"+y.replace(/^\//,"").split("/").slice(m.length).join("/")}let x=og(e,{pathname:N}),h=zg(x&&x.map(m=>Object.assign({},m,{params:Object.assign({},i,m.params),pathname:tn([c,a.encodeLocation?a.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?c:tn([c,a.encodeLocation?a.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),l,n,s);return t&&h?j.createElement(Ra.Provider,{value:{location:Gr({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:qt.Pop}},h):h}function Lg(){let e=Bg(),t=_g(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:a},n):null,null)}const Ig=j.createElement(Lg,null);class Og extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?j.createElement(cn.Provider,{value:this.props.routeContext},j.createElement(Mm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Fg(e){let{routeContext:t,match:n,children:s}=e,a=j.useContext(bi);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(cn.Provider,{value:t},s)}function zg(e,t,n,s){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=s)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,i=(a=n)==null?void 0:a.errors;if(i!=null){let p=o.findIndex(f=>f.route.id&&(i==null?void 0:i[f.route.id])!==void 0);p>=0||be(!1),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,d=-1;if(n&&s&&s.v7_partialHydration)for(let p=0;p<o.length;p++){let f=o[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=p),f.route.id){let{loaderData:y,errors:N}=n,x=f.route.loader&&y[f.route.id]===void 0&&(!N||N[f.route.id]===void 0);if(f.route.lazy||x){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,f,y)=>{let N,x=!1,h=null,m=null;n&&(N=i&&f.route.id?i[f.route.id]:void 0,h=f.route.errorElement||Ig,c&&(d<0&&y===0?(Wg("route-fallback"),x=!0,m=null):d===y&&(x=!0,m=f.route.hydrateFallbackElement||null)));let u=t.concat(o.slice(0,y+1)),v=()=>{let g;return N?g=h:x?g=m:f.route.Component?g=j.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=p,j.createElement(Fg,{match:f,routeContext:{outlet:p,matches:u,isDataRoute:n!=null},children:g})};return n&&(f.route.ErrorBoundary||f.route.errorElement||y===0)?j.createElement(Og,{location:n.location,revalidation:n.revalidation,component:h,error:N,children:v(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):v()},null)}var Om=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Om||{}),Fm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Fm||{});function $g(e){let t=j.useContext(bi);return t||be(!1),t}function Vg(e){let t=j.useContext(Tg);return t||be(!1),t}function Ug(e){let t=j.useContext(cn);return t||be(!1),t}function zm(e){let t=Ug(),n=t.matches[t.matches.length-1];return n.route.id||be(!1),n.route.id}function Bg(){var e;let t=j.useContext(Mm),n=Vg(),s=zm();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function Hg(){let{router:e}=$g(Om.UseNavigateStable),t=zm(Fm.UseNavigateStable),n=j.useRef(!1);return Lm(()=>{n.current=!0}),j.useCallback(function(a,l){l===void 0&&(l={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Gr({fromRouteId:t},l)))},[e,t])}const Gc={};function Wg(e,t,n){Gc[e]||(Gc[e]=!0)}function qg(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function po(e){let{to:t,replace:n,state:s,relative:a}=e;ar()||be(!1);let{future:l,static:o}=j.useContext(on),{matches:i}=j.useContext(cn),{pathname:c}=Cn(),d=Pa(),p=ji(t,yi(i,l.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(p);return j.useEffect(()=>d(JSON.parse(f),{replace:n,state:s,relative:a}),[d,f,a,n,s]),null}function de(e){be(!1)}function Jg(e){let{basename:t="/",children:n=null,location:s,navigationType:a=qt.Pop,navigator:l,static:o=!1,future:i}=e;ar()&&be(!1);let c=t.replace(/^\/*/,"/"),d=j.useMemo(()=>({basename:c,navigator:l,static:o,future:Gr({v7_relativeSplatPath:!1},i)}),[c,i,l,o]);typeof s=="string"&&(s=sr(s));let{pathname:p="/",search:f="",hash:y="",state:N=null,key:x="default"}=s,h=j.useMemo(()=>{let m=xi(p,c);return m==null?null:{location:{pathname:m,search:f,hash:y,state:N,key:x},navigationType:a}},[c,p,f,y,N,x,a]);return h==null?null:j.createElement(on.Provider,{value:d},j.createElement(Ra.Provider,{children:n,value:h}))}function $m(e){let{children:t,location:n}=e;return Pg(ho(t),n)}new Promise(()=>{});function ho(e,t){t===void 0&&(t=[]);let n=[];return j.Children.forEach(e,(s,a)=>{if(!j.isValidElement(s))return;let l=[...t,a];if(s.type===j.Fragment){n.push.apply(n,ho(s.props.children,l));return}s.type!==de&&be(!1),!s.props.index||!s.props.children||be(!1);let o={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=ho(s.props.children,l)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function go(){return go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},go.apply(this,arguments)}function Kg(e,t){if(e==null)return{};var n={},s=Object.keys(e),a,l;for(l=0;l<s.length;l++)a=s[l],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Yg(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Qg(e,t){return e.button===0&&(!t||t==="_self")&&!Yg(e)}const Gg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Xg="6";try{window.__reactRouterVersion=Xg}catch{}const Zg="startTransition",Xc=qf[Zg];function ev(e){let{basename:t,children:n,future:s,window:a}=e,l=j.useRef();l.current==null&&(l.current=sg({window:a,v5Compat:!0}));let o=l.current,[i,c]=j.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},p=j.useCallback(f=>{d&&Xc?Xc(()=>c(f)):c(f)},[c,d]);return j.useLayoutEffect(()=>o.listen(p),[o,p]),j.useEffect(()=>qg(s),[s]),j.createElement(Jg,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:o,future:s})}const tv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vm=j.forwardRef(function(t,n){let{onClick:s,relative:a,reloadDocument:l,replace:o,state:i,target:c,to:d,preventScrollReset:p,viewTransition:f}=t,y=Kg(t,Gg),{basename:N}=j.useContext(on),x,h=!1;if(typeof d=="string"&&nv.test(d)&&(x=d,tv))try{let g=new URL(window.location.href),E=d.startsWith("//")?new URL(g.protocol+d):new URL(d),C=xi(E.pathname,N);E.origin===g.origin&&C!=null?d=C+E.search+E.hash:h=!0}catch{}let m=Ag(d,{relative:a}),u=rv(d,{replace:o,state:i,target:c,preventScrollReset:p,relative:a,viewTransition:f});function v(g){s&&s(g),g.defaultPrevented||u(g)}return j.createElement("a",go({},y,{href:x||m,onClick:h||l?s:v,ref:n,target:c}))});var Zc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Zc||(Zc={}));var ed;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ed||(ed={}));function rv(e,t){let{target:n,replace:s,state:a,preventScrollReset:l,relative:o,viewTransition:i}=t===void 0?{}:t,c=Pa(),d=Cn(),p=Im(e,{relative:o});return j.useCallback(f=>{if(Qg(f,n)){f.preventDefault();let y=s!==void 0?s:fa(d)===fa(p);c(e,{replace:y,state:a,preventScrollReset:l,relative:o,viewTransition:i})}},[d,c,p,s,a,n,e,l,o,i])}const Um=j.createContext(),lr=()=>{const e=j.useContext(Um);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},sv=({children:e})=>{const[t,n]=j.useState(null),[s,a]=j.useState(!0);j.useEffect(()=>{const f=localStorage.getItem("userRole");if(console.log("🔐 Vérification utilisateur sauvegardé:",f),f)try{const y=JSON.parse(f);console.log("✅ Utilisateur récupéré:",y),n(y)}catch(y){console.error("❌ Erreur lors du parsing des données utilisateur:",y),localStorage.removeItem("userRole")}else console.log("⚠️ Aucun utilisateur sauvegardé");a(!1)},[]);const p={user:t,login:f=>{console.log("🔐 Connexion utilisateur:",f),n(f),localStorage.setItem("userRole",JSON.stringify(f)),console.log("✅ Utilisateur connecté et sauvegardé")},logout:()=>{n(null),localStorage.removeItem("userRole")},hasPermission:f=>t?t.permissions.includes("all")?!0:t.permissions.includes(f):!1,isAdmin:()=>t&&t.role==="admin",isEmployee:()=>t&&t.role==="employee",loading:s};return r.jsx(Um.Provider,{value:p,children:e})};function Bm(e,t){return function(){return e.apply(t,arguments)}}const{toString:av}=Object.prototype,{getPrototypeOf:Ni}=Object,{iterator:Ma,toStringTag:Hm}=Symbol,La=(e=>t=>{const n=av.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),xt=e=>(e=e.toLowerCase(),t=>La(t)===e),Ia=e=>t=>typeof t===e,{isArray:or}=Array,Xr=Ia("undefined");function as(e){return e!==null&&!Xr(e)&&e.constructor!==null&&!Xr(e.constructor)&&Qe(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Wm=xt("ArrayBuffer");function lv(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Wm(e.buffer),t}const ov=Ia("string"),Qe=Ia("function"),qm=Ia("number"),ls=e=>e!==null&&typeof e=="object",iv=e=>e===!0||e===!1,$s=e=>{if(La(e)!=="object")return!1;const t=Ni(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Hm in e)&&!(Ma in e)},cv=e=>{if(!ls(e)||as(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},dv=xt("Date"),uv=xt("File"),mv=xt("Blob"),fv=xt("FileList"),pv=e=>ls(e)&&Qe(e.pipe),hv=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Qe(e.append)&&((t=La(e))==="formdata"||t==="object"&&Qe(e.toString)&&e.toString()==="[object FormData]"))},gv=xt("URLSearchParams"),[vv,xv,yv,jv]=["ReadableStream","Request","Response","Headers"].map(xt),bv=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function os(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,a;if(typeof e!="object"&&(e=[e]),or(e))for(s=0,a=e.length;s<a;s++)t.call(null,e[s],s,e);else{if(as(e))return;const l=n?Object.getOwnPropertyNames(e):Object.keys(e),o=l.length;let i;for(s=0;s<o;s++)i=l[s],t.call(null,e[i],i,e)}}function Jm(e,t){if(as(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s=n.length,a;for(;s-- >0;)if(a=n[s],t===a.toLowerCase())return a;return null}const hn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Km=e=>!Xr(e)&&e!==hn;function vo(){const{caseless:e}=Km(this)&&this||{},t={},n=(s,a)=>{const l=e&&Jm(t,a)||a;$s(t[l])&&$s(s)?t[l]=vo(t[l],s):$s(s)?t[l]=vo({},s):or(s)?t[l]=s.slice():t[l]=s};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&os(arguments[s],n);return t}const Nv=(e,t,n,{allOwnKeys:s}={})=>(os(t,(a,l)=>{n&&Qe(a)?e[l]=Bm(a,n):e[l]=a},{allOwnKeys:s}),e),wv=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Sv=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Ev=(e,t,n,s)=>{let a,l,o;const i={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),l=a.length;l-- >0;)o=a[l],(!s||s(o,e,t))&&!i[o]&&(t[o]=e[o],i[o]=!0);e=n!==!1&&Ni(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kv=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},Cv=e=>{if(!e)return null;if(or(e))return e;let t=e.length;if(!qm(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},_v=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ni(Uint8Array)),Dv=(e,t)=>{const s=(e&&e[Ma]).call(e);let a;for(;(a=s.next())&&!a.done;){const l=a.value;t.call(e,l[0],l[1])}},Tv=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},Av=xt("HTMLFormElement"),Rv=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,a){return s.toUpperCase()+a}),td=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Pv=xt("RegExp"),Ym=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};os(n,(a,l)=>{let o;(o=t(a,l,e))!==!1&&(s[l]=o||a)}),Object.defineProperties(e,s)},Mv=e=>{Ym(e,(t,n)=>{if(Qe(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(Qe(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Lv=(e,t)=>{const n={},s=a=>{a.forEach(l=>{n[l]=!0})};return or(e)?s(e):s(String(e).split(t)),n},Iv=()=>{},Ov=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Fv(e){return!!(e&&Qe(e.append)&&e[Hm]==="FormData"&&e[Ma])}const zv=e=>{const t=new Array(10),n=(s,a)=>{if(ls(s)){if(t.indexOf(s)>=0)return;if(as(s))return s;if(!("toJSON"in s)){t[a]=s;const l=or(s)?[]:{};return os(s,(o,i)=>{const c=n(o,a+1);!Xr(c)&&(l[i]=c)}),t[a]=void 0,l}}return s};return n(e,0)},$v=xt("AsyncFunction"),Vv=e=>e&&(ls(e)||Qe(e))&&Qe(e.then)&&Qe(e.catch),Qm=((e,t)=>e?setImmediate:t?((n,s)=>(hn.addEventListener("message",({source:a,data:l})=>{a===hn&&l===n&&s.length&&s.shift()()},!1),a=>{s.push(a),hn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Qe(hn.postMessage)),Uv=typeof queueMicrotask<"u"?queueMicrotask.bind(hn):typeof process<"u"&&process.nextTick||Qm,Bv=e=>e!=null&&Qe(e[Ma]),M={isArray:or,isArrayBuffer:Wm,isBuffer:as,isFormData:hv,isArrayBufferView:lv,isString:ov,isNumber:qm,isBoolean:iv,isObject:ls,isPlainObject:$s,isEmptyObject:cv,isReadableStream:vv,isRequest:xv,isResponse:yv,isHeaders:jv,isUndefined:Xr,isDate:dv,isFile:uv,isBlob:mv,isRegExp:Pv,isFunction:Qe,isStream:pv,isURLSearchParams:gv,isTypedArray:_v,isFileList:fv,forEach:os,merge:vo,extend:Nv,trim:bv,stripBOM:wv,inherits:Sv,toFlatObject:Ev,kindOf:La,kindOfTest:xt,endsWith:kv,toArray:Cv,forEachEntry:Dv,matchAll:Tv,isHTMLForm:Av,hasOwnProperty:td,hasOwnProp:td,reduceDescriptors:Ym,freezeMethods:Mv,toObjectSet:Lv,toCamelCase:Rv,noop:Iv,toFiniteNumber:Ov,findKey:Jm,global:hn,isContextDefined:Km,isSpecCompliantForm:Fv,toJSONObject:zv,isAsyncFn:$v,isThenable:Vv,setImmediate:Qm,asap:Uv,isIterable:Bv};function G(e,t,n,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}M.inherits(G,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.status}}});const Gm=G.prototype,Xm={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Xm[e]={value:e}});Object.defineProperties(G,Xm);Object.defineProperty(Gm,"isAxiosError",{value:!0});G.from=(e,t,n,s,a,l)=>{const o=Object.create(Gm);return M.toFlatObject(e,o,function(c){return c!==Error.prototype},i=>i!=="isAxiosError"),G.call(o,e.message,t,n,s,a),o.cause=e,o.name=e.name,l&&Object.assign(o,l),o};const Hv=null;function xo(e){return M.isPlainObject(e)||M.isArray(e)}function Zm(e){return M.endsWith(e,"[]")?e.slice(0,-2):e}function nd(e,t,n){return e?e.concat(t).map(function(a,l){return a=Zm(a),!n&&l?"["+a+"]":a}).join(n?".":""):t}function Wv(e){return M.isArray(e)&&!e.some(xo)}const qv=M.toFlatObject(M,{},null,function(t){return/^is[A-Z]/.test(t)});function Oa(e,t,n){if(!M.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=M.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(h,m){return!M.isUndefined(m[h])});const s=n.metaTokens,a=n.visitor||p,l=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(t);if(!M.isFunction(a))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(M.isDate(x))return x.toISOString();if(M.isBoolean(x))return x.toString();if(!c&&M.isBlob(x))throw new G("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(x)||M.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function p(x,h,m){let u=x;if(x&&!m&&typeof x=="object"){if(M.endsWith(h,"{}"))h=s?h:h.slice(0,-2),x=JSON.stringify(x);else if(M.isArray(x)&&Wv(x)||(M.isFileList(x)||M.endsWith(h,"[]"))&&(u=M.toArray(x)))return h=Zm(h),u.forEach(function(g,E){!(M.isUndefined(g)||g===null)&&t.append(o===!0?nd([h],E,l):o===null?h:h+"[]",d(g))}),!1}return xo(x)?!0:(t.append(nd(m,h,l),d(x)),!1)}const f=[],y=Object.assign(qv,{defaultVisitor:p,convertValue:d,isVisitable:xo});function N(x,h){if(!M.isUndefined(x)){if(f.indexOf(x)!==-1)throw Error("Circular reference detected in "+h.join("."));f.push(x),M.forEach(x,function(u,v){(!(M.isUndefined(u)||u===null)&&a.call(t,u,M.isString(v)?v.trim():v,h,y))===!0&&N(u,h?h.concat(v):[v])}),f.pop()}}if(!M.isObject(e))throw new TypeError("data must be an object");return N(e),t}function rd(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function wi(e,t){this._pairs=[],e&&Oa(e,this,t)}const ef=wi.prototype;ef.append=function(t,n){this._pairs.push([t,n])};ef.toString=function(t){const n=t?function(s){return t.call(this,s,rd)}:rd;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function Jv(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tf(e,t,n){if(!t)return e;const s=n&&n.encode||Jv;M.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let l;if(a?l=a(t,n):l=M.isURLSearchParams(t)?t.toString():new wi(t,n).toString(s),l){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class sd{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){M.forEach(this.handlers,function(s){s!==null&&t(s)})}}const nf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Kv=typeof URLSearchParams<"u"?URLSearchParams:wi,Yv=typeof FormData<"u"?FormData:null,Qv=typeof Blob<"u"?Blob:null,Gv={isBrowser:!0,classes:{URLSearchParams:Kv,FormData:Yv,Blob:Qv},protocols:["http","https","file","blob","url","data"]},Si=typeof window<"u"&&typeof document<"u",yo=typeof navigator=="object"&&navigator||void 0,Xv=Si&&(!yo||["ReactNative","NativeScript","NS"].indexOf(yo.product)<0),Zv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ex=Si&&window.location.href||"http://localhost",tx=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Si,hasStandardBrowserEnv:Xv,hasStandardBrowserWebWorkerEnv:Zv,navigator:yo,origin:ex},Symbol.toStringTag,{value:"Module"})),Oe={...tx,...Gv};function nx(e,t){return Oa(e,new Oe.classes.URLSearchParams,{visitor:function(n,s,a,l){return Oe.isNode&&M.isBuffer(n)?(this.append(s,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function rx(e){return M.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function sx(e){const t={},n=Object.keys(e);let s;const a=n.length;let l;for(s=0;s<a;s++)l=n[s],t[l]=e[l];return t}function rf(e){function t(n,s,a,l){let o=n[l++];if(o==="__proto__")return!0;const i=Number.isFinite(+o),c=l>=n.length;return o=!o&&M.isArray(a)?a.length:o,c?(M.hasOwnProp(a,o)?a[o]=[a[o],s]:a[o]=s,!i):((!a[o]||!M.isObject(a[o]))&&(a[o]=[]),t(n,s,a[o],l)&&M.isArray(a[o])&&(a[o]=sx(a[o])),!i)}if(M.isFormData(e)&&M.isFunction(e.entries)){const n={};return M.forEachEntry(e,(s,a)=>{t(rx(s),a,n,0)}),n}return null}function ax(e,t,n){if(M.isString(e))try{return(t||JSON.parse)(e),M.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const is={transitional:nf,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",a=s.indexOf("application/json")>-1,l=M.isObject(t);if(l&&M.isHTMLForm(t)&&(t=new FormData(t)),M.isFormData(t))return a?JSON.stringify(rf(t)):t;if(M.isArrayBuffer(t)||M.isBuffer(t)||M.isStream(t)||M.isFile(t)||M.isBlob(t)||M.isReadableStream(t))return t;if(M.isArrayBufferView(t))return t.buffer;if(M.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(l){if(s.indexOf("application/x-www-form-urlencoded")>-1)return nx(t,this.formSerializer).toString();if((i=M.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Oa(i?{"files[]":t}:t,c&&new c,this.formSerializer)}}return l||a?(n.setContentType("application/json",!1),ax(t)):t}],transformResponse:[function(t){const n=this.transitional||is.transitional,s=n&&n.forcedJSONParsing,a=this.responseType==="json";if(M.isResponse(t)||M.isReadableStream(t))return t;if(t&&M.isString(t)&&(s&&!this.responseType||a)){const o=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(i){if(o)throw i.name==="SyntaxError"?G.from(i,G.ERR_BAD_RESPONSE,this,null,this.response):i}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Oe.classes.FormData,Blob:Oe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],e=>{is.headers[e]={}});const lx=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ox=e=>{const t={};let n,s,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),s=o.substring(a+1).trim(),!(!n||t[n]&&lx[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},ad=Symbol("internals");function yr(e){return e&&String(e).trim().toLowerCase()}function Vs(e){return e===!1||e==null?e:M.isArray(e)?e.map(Vs):String(e)}function ix(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const cx=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function gl(e,t,n,s,a){if(M.isFunction(s))return s.call(this,t,n);if(a&&(t=n),!!M.isString(t)){if(M.isString(s))return t.indexOf(s)!==-1;if(M.isRegExp(s))return s.test(t)}}function dx(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function ux(e,t){const n=M.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(a,l,o){return this[s].call(this,t,a,l,o)},configurable:!0})})}let Ge=class{constructor(t){t&&this.set(t)}set(t,n,s){const a=this;function l(i,c,d){const p=yr(c);if(!p)throw new Error("header name must be a non-empty string");const f=M.findKey(a,p);(!f||a[f]===void 0||d===!0||d===void 0&&a[f]!==!1)&&(a[f||c]=Vs(i))}const o=(i,c)=>M.forEach(i,(d,p)=>l(d,p,c));if(M.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(M.isString(t)&&(t=t.trim())&&!cx(t))o(ox(t),n);else if(M.isObject(t)&&M.isIterable(t)){let i={},c,d;for(const p of t){if(!M.isArray(p))throw TypeError("Object iterator must return a key-value pair");i[d=p[0]]=(c=i[d])?M.isArray(c)?[...c,p[1]]:[c,p[1]]:p[1]}o(i,n)}else t!=null&&l(n,t,s);return this}get(t,n){if(t=yr(t),t){const s=M.findKey(this,t);if(s){const a=this[s];if(!n)return a;if(n===!0)return ix(a);if(M.isFunction(n))return n.call(this,a,s);if(M.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=yr(t),t){const s=M.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||gl(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let a=!1;function l(o){if(o=yr(o),o){const i=M.findKey(s,o);i&&(!n||gl(s,s[i],i,n))&&(delete s[i],a=!0)}}return M.isArray(t)?t.forEach(l):l(t),a}clear(t){const n=Object.keys(this);let s=n.length,a=!1;for(;s--;){const l=n[s];(!t||gl(this,this[l],l,t,!0))&&(delete this[l],a=!0)}return a}normalize(t){const n=this,s={};return M.forEach(this,(a,l)=>{const o=M.findKey(s,l);if(o){n[o]=Vs(a),delete n[l];return}const i=t?dx(l):String(l).trim();i!==l&&delete n[l],n[i]=Vs(a),s[i]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return M.forEach(this,(s,a)=>{s!=null&&s!==!1&&(n[a]=t&&M.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(a=>s.set(a)),s}static accessor(t){const s=(this[ad]=this[ad]={accessors:{}}).accessors,a=this.prototype;function l(o){const i=yr(o);s[i]||(ux(a,o),s[i]=!0)}return M.isArray(t)?t.forEach(l):l(t),this}};Ge.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.reduceDescriptors(Ge.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});M.freezeMethods(Ge);function vl(e,t){const n=this||is,s=t||n,a=Ge.from(s.headers);let l=s.data;return M.forEach(e,function(i){l=i.call(n,l,a.normalize(),t?t.status:void 0)}),a.normalize(),l}function sf(e){return!!(e&&e.__CANCEL__)}function ir(e,t,n){G.call(this,e??"canceled",G.ERR_CANCELED,t,n),this.name="CanceledError"}M.inherits(ir,G,{__CANCEL__:!0});function af(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new G("Request failed with status code "+n.status,[G.ERR_BAD_REQUEST,G.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function mx(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function fx(e,t){e=e||10;const n=new Array(e),s=new Array(e);let a=0,l=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),p=s[l];o||(o=d),n[a]=c,s[a]=d;let f=l,y=0;for(;f!==a;)y+=n[f++],f=f%e;if(a=(a+1)%e,a===l&&(l=(l+1)%e),d-o<t)return;const N=p&&d-p;return N?Math.round(y*1e3/N):void 0}}function px(e,t){let n=0,s=1e3/t,a,l;const o=(d,p=Date.now())=>{n=p,a=null,l&&(clearTimeout(l),l=null),e(...d)};return[(...d)=>{const p=Date.now(),f=p-n;f>=s?o(d,p):(a=d,l||(l=setTimeout(()=>{l=null,o(a)},s-f)))},()=>a&&o(a)]}const pa=(e,t,n=3)=>{let s=0;const a=fx(50,250);return px(l=>{const o=l.loaded,i=l.lengthComputable?l.total:void 0,c=o-s,d=a(c),p=o<=i;s=o;const f={loaded:o,total:i,progress:i?o/i:void 0,bytes:c,rate:d||void 0,estimated:d&&i&&p?(i-o)/d:void 0,event:l,lengthComputable:i!=null,[t?"download":"upload"]:!0};e(f)},n)},ld=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},od=e=>(...t)=>M.asap(()=>e(...t)),hx=Oe.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Oe.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Oe.origin),Oe.navigator&&/(msie|trident)/i.test(Oe.navigator.userAgent)):()=>!0,gx=Oe.hasStandardBrowserEnv?{write(e,t,n,s,a,l){const o=[e+"="+encodeURIComponent(t)];M.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),M.isString(s)&&o.push("path="+s),M.isString(a)&&o.push("domain="+a),l===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function vx(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function xx(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function lf(e,t,n){let s=!vx(t);return e&&(s||n==!1)?xx(e,t):t}const id=e=>e instanceof Ge?{...e}:e;function Sn(e,t){t=t||{};const n={};function s(d,p,f,y){return M.isPlainObject(d)&&M.isPlainObject(p)?M.merge.call({caseless:y},d,p):M.isPlainObject(p)?M.merge({},p):M.isArray(p)?p.slice():p}function a(d,p,f,y){if(M.isUndefined(p)){if(!M.isUndefined(d))return s(void 0,d,f,y)}else return s(d,p,f,y)}function l(d,p){if(!M.isUndefined(p))return s(void 0,p)}function o(d,p){if(M.isUndefined(p)){if(!M.isUndefined(d))return s(void 0,d)}else return s(void 0,p)}function i(d,p,f){if(f in t)return s(d,p);if(f in e)return s(void 0,d)}const c={url:l,method:l,data:l,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:i,headers:(d,p,f)=>a(id(d),id(p),f,!0)};return M.forEach(Object.keys({...e,...t}),function(p){const f=c[p]||a,y=f(e[p],t[p],p);M.isUndefined(y)&&f!==i||(n[p]=y)}),n}const of=e=>{const t=Sn({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:l,headers:o,auth:i}=t;t.headers=o=Ge.from(o),t.url=tf(lf(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&o.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):"")));let c;if(M.isFormData(n)){if(Oe.hasStandardBrowserEnv||Oe.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...p]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...p].join("; "))}}if(Oe.hasStandardBrowserEnv&&(s&&M.isFunction(s)&&(s=s(t)),s||s!==!1&&hx(t.url))){const d=a&&l&&gx.read(l);d&&o.set(a,d)}return t},yx=typeof XMLHttpRequest<"u",jx=yx&&function(e){return new Promise(function(n,s){const a=of(e);let l=a.data;const o=Ge.from(a.headers).normalize();let{responseType:i,onUploadProgress:c,onDownloadProgress:d}=a,p,f,y,N,x;function h(){N&&N(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(p),a.signal&&a.signal.removeEventListener("abort",p)}let m=new XMLHttpRequest;m.open(a.method.toUpperCase(),a.url,!0),m.timeout=a.timeout;function u(){if(!m)return;const g=Ge.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),C={data:!i||i==="text"||i==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:g,config:e,request:m};af(function(S){n(S),h()},function(S){s(S),h()},C),m=null}"onloadend"in m?m.onloadend=u:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(u)},m.onabort=function(){m&&(s(new G("Request aborted",G.ECONNABORTED,e,m)),m=null)},m.onerror=function(){s(new G("Network Error",G.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let E=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const C=a.transitional||nf;a.timeoutErrorMessage&&(E=a.timeoutErrorMessage),s(new G(E,C.clarifyTimeoutError?G.ETIMEDOUT:G.ECONNABORTED,e,m)),m=null},l===void 0&&o.setContentType(null),"setRequestHeader"in m&&M.forEach(o.toJSON(),function(E,C){m.setRequestHeader(C,E)}),M.isUndefined(a.withCredentials)||(m.withCredentials=!!a.withCredentials),i&&i!=="json"&&(m.responseType=a.responseType),d&&([y,x]=pa(d,!0),m.addEventListener("progress",y)),c&&m.upload&&([f,N]=pa(c),m.upload.addEventListener("progress",f),m.upload.addEventListener("loadend",N)),(a.cancelToken||a.signal)&&(p=g=>{m&&(s(!g||g.type?new ir(null,e,m):g),m.abort(),m=null)},a.cancelToken&&a.cancelToken.subscribe(p),a.signal&&(a.signal.aborted?p():a.signal.addEventListener("abort",p)));const v=mx(a.url);if(v&&Oe.protocols.indexOf(v)===-1){s(new G("Unsupported protocol "+v+":",G.ERR_BAD_REQUEST,e));return}m.send(l||null)})},bx=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,a;const l=function(d){if(!a){a=!0,i();const p=d instanceof Error?d:this.reason;s.abort(p instanceof G?p:new ir(p instanceof Error?p.message:p))}};let o=t&&setTimeout(()=>{o=null,l(new G(`timeout ${t} of ms exceeded`,G.ETIMEDOUT))},t);const i=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(l):d.removeEventListener("abort",l)}),e=null)};e.forEach(d=>d.addEventListener("abort",l));const{signal:c}=s;return c.unsubscribe=()=>M.asap(i),c}},Nx=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let s=0,a;for(;s<n;)a=s+t,yield e.slice(s,a),s=a},wx=async function*(e,t){for await(const n of Sx(e))yield*Nx(n,t)},Sx=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},cd=(e,t,n,s)=>{const a=wx(e,t);let l=0,o,i=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:d,value:p}=await a.next();if(d){i(),c.close();return}let f=p.byteLength;if(n){let y=l+=f;n(y)}c.enqueue(new Uint8Array(p))}catch(d){throw i(d),d}},cancel(c){return i(c),a.return()}},{highWaterMark:2})},Fa=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",cf=Fa&&typeof ReadableStream=="function",Ex=Fa&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),df=(e,...t)=>{try{return!!e(...t)}catch{return!1}},kx=cf&&df(()=>{let e=!1;const t=new Request(Oe.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),dd=64*1024,jo=cf&&df(()=>M.isReadableStream(new Response("").body)),ha={stream:jo&&(e=>e.body)};Fa&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ha[t]&&(ha[t]=M.isFunction(e[t])?n=>n[t]():(n,s)=>{throw new G(`Response type '${t}' is not supported`,G.ERR_NOT_SUPPORT,s)})})})(new Response);const Cx=async e=>{if(e==null)return 0;if(M.isBlob(e))return e.size;if(M.isSpecCompliantForm(e))return(await new Request(Oe.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(M.isArrayBufferView(e)||M.isArrayBuffer(e))return e.byteLength;if(M.isURLSearchParams(e)&&(e=e+""),M.isString(e))return(await Ex(e)).byteLength},_x=async(e,t)=>{const n=M.toFiniteNumber(e.getContentLength());return n??Cx(t)},Dx=Fa&&(async e=>{let{url:t,method:n,data:s,signal:a,cancelToken:l,timeout:o,onDownloadProgress:i,onUploadProgress:c,responseType:d,headers:p,withCredentials:f="same-origin",fetchOptions:y}=of(e);d=d?(d+"").toLowerCase():"text";let N=bx([a,l&&l.toAbortSignal()],o),x;const h=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let m;try{if(c&&kx&&n!=="get"&&n!=="head"&&(m=await _x(p,s))!==0){let C=new Request(t,{method:"POST",body:s,duplex:"half"}),w;if(M.isFormData(s)&&(w=C.headers.get("content-type"))&&p.setContentType(w),C.body){const[S,b]=ld(m,pa(od(c)));s=cd(C.body,dd,S,b)}}M.isString(f)||(f=f?"include":"omit");const u="credentials"in Request.prototype;x=new Request(t,{...y,signal:N,method:n.toUpperCase(),headers:p.normalize().toJSON(),body:s,duplex:"half",credentials:u?f:void 0});let v=await fetch(x,y);const g=jo&&(d==="stream"||d==="response");if(jo&&(i||g&&h)){const C={};["status","statusText","headers"].forEach(L=>{C[L]=v[L]});const w=M.toFiniteNumber(v.headers.get("content-length")),[S,b]=i&&ld(w,pa(od(i),!0))||[];v=new Response(cd(v.body,dd,S,()=>{b&&b(),h&&h()}),C)}d=d||"text";let E=await ha[M.findKey(ha,d)||"text"](v,e);return!g&&h&&h(),await new Promise((C,w)=>{af(C,w,{data:E,headers:Ge.from(v.headers),status:v.status,statusText:v.statusText,config:e,request:x})})}catch(u){throw h&&h(),u&&u.name==="TypeError"&&/Load failed|fetch/i.test(u.message)?Object.assign(new G("Network Error",G.ERR_NETWORK,e,x),{cause:u.cause||u}):G.from(u,u&&u.code,e,x)}}),bo={http:Hv,xhr:jx,fetch:Dx};M.forEach(bo,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ud=e=>`- ${e}`,Tx=e=>M.isFunction(e)||e===null||e===!1,uf={getAdapter:e=>{e=M.isArray(e)?e:[e];const{length:t}=e;let n,s;const a={};for(let l=0;l<t;l++){n=e[l];let o;if(s=n,!Tx(n)&&(s=bo[(o=String(n)).toLowerCase()],s===void 0))throw new G(`Unknown adapter '${o}'`);if(s)break;a[o||"#"+l]=s}if(!s){const l=Object.entries(a).map(([i,c])=>`adapter ${i} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?l.length>1?`since :
`+l.map(ud).join(`
`):" "+ud(l[0]):"as no adapter specified";throw new G("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:bo};function xl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ir(null,e)}function md(e){return xl(e),e.headers=Ge.from(e.headers),e.data=vl.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),uf.getAdapter(e.adapter||is.adapter)(e).then(function(s){return xl(e),s.data=vl.call(e,e.transformResponse,s),s.headers=Ge.from(s.headers),s},function(s){return sf(s)||(xl(e),s&&s.response&&(s.response.data=vl.call(e,e.transformResponse,s.response),s.response.headers=Ge.from(s.response.headers))),Promise.reject(s)})}const mf="1.11.0",za={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{za[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const fd={};za.transitional=function(t,n,s){function a(l,o){return"[Axios v"+mf+"] Transitional option '"+l+"'"+o+(s?". "+s:"")}return(l,o,i)=>{if(t===!1)throw new G(a(o," has been removed"+(n?" in "+n:"")),G.ERR_DEPRECATED);return n&&!fd[o]&&(fd[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(l,o,i):!0}};za.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function Ax(e,t,n){if(typeof e!="object")throw new G("options must be an object",G.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let a=s.length;for(;a-- >0;){const l=s[a],o=t[l];if(o){const i=e[l],c=i===void 0||o(i,l,e);if(c!==!0)throw new G("option "+l+" must be "+c,G.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new G("Unknown option "+l,G.ERR_BAD_OPTION)}}const Us={assertOptions:Ax,validators:za},jt=Us.validators;let xn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new sd,response:new sd}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?l&&!String(s.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+l):s.stack=l}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Sn(this.defaults,n);const{transitional:s,paramsSerializer:a,headers:l}=n;s!==void 0&&Us.assertOptions(s,{silentJSONParsing:jt.transitional(jt.boolean),forcedJSONParsing:jt.transitional(jt.boolean),clarifyTimeoutError:jt.transitional(jt.boolean)},!1),a!=null&&(M.isFunction(a)?n.paramsSerializer={serialize:a}:Us.assertOptions(a,{encode:jt.function,serialize:jt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Us.assertOptions(n,{baseUrl:jt.spelling("baseURL"),withXsrfToken:jt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=l&&M.merge(l.common,l[n.method]);l&&M.forEach(["delete","get","head","post","put","patch","common"],x=>{delete l[x]}),n.headers=Ge.concat(o,l);const i=[];let c=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(n)===!1||(c=c&&h.synchronous,i.unshift(h.fulfilled,h.rejected))});const d=[];this.interceptors.response.forEach(function(h){d.push(h.fulfilled,h.rejected)});let p,f=0,y;if(!c){const x=[md.bind(this),void 0];for(x.unshift(...i),x.push(...d),y=x.length,p=Promise.resolve(n);f<y;)p=p.then(x[f++],x[f++]);return p}y=i.length;let N=n;for(f=0;f<y;){const x=i[f++],h=i[f++];try{N=x(N)}catch(m){h.call(this,m);break}}try{p=md.call(this,N)}catch(x){return Promise.reject(x)}for(f=0,y=d.length;f<y;)p=p.then(d[f++],d[f++]);return p}getUri(t){t=Sn(this.defaults,t);const n=lf(t.baseURL,t.url,t.allowAbsoluteUrls);return tf(n,t.params,t.paramsSerializer)}};M.forEach(["delete","get","head","options"],function(t){xn.prototype[t]=function(n,s){return this.request(Sn(s||{},{method:t,url:n,data:(s||{}).data}))}});M.forEach(["post","put","patch"],function(t){function n(s){return function(l,o,i){return this.request(Sn(i||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:l,data:o}))}}xn.prototype[t]=n(),xn.prototype[t+"Form"]=n(!0)});let Rx=class ff{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const s=this;this.promise.then(a=>{if(!s._listeners)return;let l=s._listeners.length;for(;l-- >0;)s._listeners[l](a);s._listeners=null}),this.promise.then=a=>{let l;const o=new Promise(i=>{s.subscribe(i),l=i}).then(a);return o.cancel=function(){s.unsubscribe(l)},o},t(function(l,o,i){s.reason||(s.reason=new ir(l,o,i),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new ff(function(a){t=a}),cancel:t}}};function Px(e){return function(n){return e.apply(null,n)}}function Mx(e){return M.isObject(e)&&e.isAxiosError===!0}const No={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(No).forEach(([e,t])=>{No[t]=e});function pf(e){const t=new xn(e),n=Bm(xn.prototype.request,t);return M.extend(n,xn.prototype,t,{allOwnKeys:!0}),M.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return pf(Sn(e,a))},n}const ne=pf(is);ne.Axios=xn;ne.CanceledError=ir;ne.CancelToken=Rx;ne.isCancel=sf;ne.VERSION=mf;ne.toFormData=Oa;ne.AxiosError=G;ne.Cancel=ne.CanceledError;ne.all=function(t){return Promise.all(t)};ne.spread=Px;ne.isAxiosError=Mx;ne.mergeConfig=Sn;ne.AxiosHeaders=Ge;ne.formToJSON=e=>rf(M.isHTMLForm(e)?new FormData(e):e);ne.getAdapter=uf.getAdapter;ne.HttpStatusCode=No;ne.default=ne;const{Axios:Ey,AxiosError:ky,CanceledError:Cy,isCancel:_y,CancelToken:Dy,VERSION:Ty,all:Ay,Cancel:Ry,isAxiosError:Py,spread:My,toFormData:Ly,AxiosHeaders:Iy,HttpStatusCode:Oy,formToJSON:Fy,getAdapter:zy,mergeConfig:$y}=ne,U=ne.create({baseURL:"https://boulangerie-planning-api-4-pbfy.onrender.com/api",timeout:12e4,headers:{"Content-Type":"application/json"}});U.interceptors.request.use(e=>{const t=localStorage.getItem("token")||localStorage.getItem("adminToken")||localStorage.getItem("managerToken")||localStorage.getItem("employeeToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));U.interceptors.response.use(e=>e,e=>{var t,n;return e.code==="ECONNABORTED"?console.warn("⚠️ Timeout API - Render en mode sleep, veuillez patienter..."):((t=e.response)==null?void 0:t.status)===401?console.error("Erreur d'authentification"):((n=e.response)==null?void 0:n.status)>=500?console.error("Erreur serveur:",e.response.data):e.response||console.warn("⚠️ Pas de réponse du serveur - Render peut être en mode sleep"),Promise.reject(e)});const Lx=()=>{const{user:e,logout:t,isAdmin:n}=lr(),[s,a]=j.useState(""),l=()=>{t()};return j.useEffect(()=>{(async()=>{try{const i=await U.get("/site");i.data&&i.data.city&&a(i.data.city)}catch(i){console.error("Erreur lors du chargement du nom du site:",i)}})()},[]),r.jsx("header",{className:"header",children:r.jsxs("div",{className:"header-content",children:[r.jsx("div",{className:"header-left",children:r.jsxs("h1",{className:"header-title",children:["Planning Boulangerie ",s&&s]})}),r.jsx("div",{className:"header-right",children:e&&r.jsxs("div",{className:"user-info",children:[r.jsxs("div",{className:"user-details",children:[r.jsx("span",{className:"user-icon",children:n()?"👑":"👤"}),r.jsx("span",{className:"user-name",children:e.name}),r.jsxs("span",{className:"user-role",children:["(",e.role==="admin"?"Administrateur":"Salarié",")"]})]}),r.jsxs("button",{onClick:l,className:"logout-btn",title:"Se déconnecter",children:[r.jsx("span",{className:"logout-icon",children:"🚪"}),r.jsx("span",{className:"logout-text",children:"Déconnexion"})]})]})})]})})},Ix=()=>{const[e,t]=j.useState(!1),[n,s]=j.useState([]),a=Cn(),{user:l,isAdmin:o,isEmployee:i}=lr(),c=N=>N==="admin"?[{menuId:"dashboard",isVisibleToAdmin:!0,isVisibleToEmployee:!1},{menuId:"employees",isVisibleToAdmin:!0,isVisibleToEmployee:!1},{menuId:"constraints",isVisibleToAdmin:!0,isVisibleToEmployee:!1},{menuId:"planning",isVisibleToAdmin:!0,isVisibleToEmployee:!0},{menuId:"sales-stats",isVisibleToAdmin:!0,isVisibleToEmployee:!0},{menuId:"absences",isVisibleToAdmin:!0,isVisibleToEmployee:!0},{menuId:"meal-expenses",isVisibleToAdmin:!0,isVisibleToEmployee:!0},{menuId:"km-expenses",isVisibleToAdmin:!0,isVisibleToEmployee:!0},{menuId:"employee-status-print",isVisibleToAdmin:!0,isVisibleToEmployee:!1},{menuId:"parameters",isVisibleToAdmin:!0,isVisibleToEmployee:!1},{menuId:"sick-leave-management",isVisibleToAdmin:!0,isVisibleToEmployee:!1},{menuId:"vacation-management",isVisibleToAdmin:!0,isVisibleToEmployee:!1},{menuId:"ticket-restaurant",isVisibleToAdmin:!0,isVisibleToEmployee:!0},{menuId:"advance-requests",isVisibleToAdmin:!0,isVisibleToEmployee:!1},{menuId:"employee-dashboard",isVisibleToAdmin:!1,isVisibleToEmployee:!0}]:[{menuId:"dashboard",isVisibleToAdmin:!1,isVisibleToEmployee:!0},{menuId:"planning",isVisibleToAdmin:!1,isVisibleToEmployee:!0},{menuId:"sales-stats",isVisibleToAdmin:!1,isVisibleToEmployee:!0},{menuId:"absences",isVisibleToAdmin:!1,isVisibleToEmployee:!0},{menuId:"meal-expenses",isVisibleToAdmin:!1,isVisibleToEmployee:!0},{menuId:"km-expenses",isVisibleToAdmin:!1,isVisibleToEmployee:!0},{menuId:"ticket-restaurant",isVisibleToAdmin:!1,isVisibleToEmployee:!0}];j.useEffect(()=>{(async()=>{if(l)try{const x=await fetch(`https://boulangerie-planning-api-4-pbfy.onrender.com/api/menu-permissions?role=${l.role}`),h=x.headers.get("content-type");if(!h||!h.includes("application/json")){console.warn("⚠️ API non disponible, utilisation des permissions par défaut"),s(c(l.role));return}const m=await x.json();m.success?(s(m.menuPermissions),console.log("📋 Permissions de menu chargées:",m.menuPermissions)):(console.warn("⚠️ Erreur API, utilisation des permissions par défaut"),s(c(l.role)))}catch(x){console.error("❌ Erreur lors du chargement des permissions:",x),console.warn("⚠️ Utilisation des permissions par défaut"),s(c(l.role))}})()},[l]);const d=[{path:"/dashboard",label:"Tableau de bord",icon:"📊",menuId:"dashboard"},{path:"/employees",label:"Gestion des employés",icon:"👥",menuId:"employees"},{path:"/constraints",label:"Contraintes hebdomadaires",icon:"📋",menuId:"constraints"},{path:"/planning",label:"Génération du planning",icon:"🎯",menuId:"planning"},{path:"/sales-stats",label:"Stats Vente",icon:"💰",menuId:"sales-stats"},{path:"/absences",label:"État des absences",icon:"📈",menuId:"absences"},{path:"/meal-expenses",label:"Frais Repas",icon:"🍽️",menuId:"meal-expenses"},{path:"/km-expenses",label:"Frais KM",icon:"🚗",menuId:"km-expenses"},{path:"/employee-status-print",label:"Imprimer État",icon:"🖨️",menuId:"employee-status-print"},{path:"/parameters",label:"Paramètres",icon:"⚙️",menuId:"parameters"},{path:"/sick-leave-management",label:"Gestion des Arrêts Maladie",icon:"🏥",menuId:"sick-leave-management"},{path:"/vacation-management",label:"Gestion des Congés",icon:"🏖️",menuId:"vacation-management"},{path:"/ticket-restaurant",label:"Ticket restaurant",icon:"🎫",menuId:"ticket-restaurant"},{path:"/advance-requests",label:"Demandes d'Acompte",icon:"💰",menuId:"advance-requests"},{path:"/employee-dashboard",label:"Mes Documents",icon:"📁",menuId:"employee-dashboard"}],p=()=>{if(!l)return console.log("⚠️ Pas d'utilisateur connecté"),[];if(n.length===0)return console.log("⚠️ Permissions vides, utilisation des permissions par défaut"),d.filter(x=>{const h=c(l.role).find(m=>m.menuId===x.menuId);return h?o()?h.isVisibleToAdmin:i()?h.isVisibleToEmployee:!1:!1});console.log("🔍 Filtrage des menus pour:",l.role),console.log("📋 Permissions disponibles:",n),console.log("👑 isAdmin():",o()),console.log("👤 isEmployee():",i());const N=d.filter(x=>{const h=n.find(m=>m.menuId===x.menuId);if(console.log(`🔍 Menu ${x.menuId}:`,{permission:h,isAdmin:o(),isEmployee:i()}),!h)return console.log(`❌ Pas de permission pour ${x.menuId}`),!1;if(o()){const m=h.isVisibleToAdmin;return console.log(`👑 Admin - ${x.menuId}: ${m}`),m}else if(i()){const m=h.isVisibleToEmployee;return console.log(`👤 Employee - ${x.menuId}: ${m}`),m}return!1});return console.log("✅ Menus filtrés:",N.map(x=>x.menuId)),N},f=()=>{t(!0)},y=()=>{t(!1)};return r.jsxs("div",{className:`sidebar ${e?"expanded":"collapsed"}`,onMouseEnter:f,onMouseLeave:y,children:[r.jsxs("div",{className:"sidebar-header",children:[r.jsx("div",{className:"logo-container",children:r.jsxs("div",{className:"filmara-logo-sidebar",children:[r.jsxs("div",{className:"logo-symbol",children:[r.jsx("div",{className:"orca-element"}),r.jsx("div",{className:"fox-element"})]}),r.jsx("div",{className:"logo-text",children:"FILMARA"})]})}),r.jsx("div",{className:"sidebar-title",children:"Boulangerie"})]}),r.jsx("nav",{className:"sidebar-nav",children:p().map(N=>r.jsxs(Vm,{to:N.path,className:`nav-item ${a.pathname===N.path?"active":""}`,children:[r.jsx("span",{className:"nav-icon",children:N.icon}),r.jsx("span",{className:"nav-label",children:N.label})]},N.path))}),r.jsxs("div",{className:"sidebar-footer",children:[r.jsx("div",{className:"user-info",children:l&&r.jsxs("div",{className:"user-role",children:[r.jsx("span",{className:"user-icon",children:o()?"👑":"👤"}),r.jsx("span",{className:"user-name",children:l.name})]})}),r.jsx("div",{className:"version-info",children:"v2.0"})]})]})},Te=({children:e,requiredPermission:t=null,adminOnly:n=!1})=>{const{user:s,hasPermission:a,isAdmin:l,loading:o}=lr(),i=Cn();return o?r.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"1.2rem",color:"#666"},children:"Chargement..."}):s?n&&!l()?r.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",padding:"20px",textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"4rem",marginBottom:"20px"},children:"🚫"}),r.jsx("h2",{style:{color:"#e74c3c",marginBottom:"10px"},children:"Accès refusé"}),r.jsx("p",{style:{color:"#666",marginBottom:"20px"},children:"Cette page est réservée aux administrateurs."}),r.jsx("button",{onClick:()=>window.history.back(),style:{padding:"10px 20px",backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"1rem"},children:"Retour"})]}):t&&!a(t)?r.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",padding:"20px",textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"4rem",marginBottom:"20px"},children:"🔒"}),r.jsx("h2",{style:{color:"#e74c3c",marginBottom:"10px"},children:"Permission insuffisante"}),r.jsx("p",{style:{color:"#666",marginBottom:"20px"},children:"Vous n'avez pas les permissions nécessaires pour accéder à cette page."}),r.jsx("button",{onClick:()=>window.history.back(),style:{padding:"10px 20px",backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"1rem"},children:"Retour"})]}):e:r.jsx(po,{to:"/login",state:{from:i},replace:!0})},hf=()=>{const[e,t]=j.useState(""),[n,s]=j.useState(""),a=Pa(),{login:l}=lr(),o=async()=>{if(e!=="admin2024"){s("Mot de passe administrateur incorrect");return}try{const p=await(await fetch("https://boulangerie-planning-api-4-pbfy.onrender.com/api/auth/admin-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e})})).json();p.success&&p.token?(localStorage.setItem("token",p.token),localStorage.setItem("adminToken",p.token),l({role:"admin",name:"Administrateur",permissions:["all"]}),a("/")):s(p.error||"Erreur lors de la connexion")}catch(d){console.error("Erreur lors de la connexion:",d),s("Erreur de connexion au serveur")}},i=()=>{e==="salarie2024"?(l({role:"employee",name:"Salarié",permissions:["view_planning","view_absences","view_sales_stats","view_meal_expenses","view_km_expenses"]}),a("/")):s("Mot de passe salarié incorrect")},c=(d,p)=>{d.key==="Enter"&&p()};return r.jsx("div",{className:"login-container",children:r.jsxs("div",{className:"login-card",children:[r.jsx("div",{className:"logo-section",children:r.jsxs("div",{className:"logo",children:[r.jsxs("div",{className:"logo-animals",children:[r.jsx("div",{className:"orca"}),r.jsx("div",{className:"fox"})]}),r.jsx("h1",{className:"logo-text",children:"FILMARA"}),r.jsx("p",{className:"logo-subtitle",children:"HOLDING COMPANY • & TWO BAKERS"})]})}),r.jsxs("div",{className:"login-section",children:[r.jsx("h2",{children:"Connexion au Planning"}),r.jsx("div",{className:"password-input",children:r.jsx("input",{type:"password",placeholder:"Mot de passe",value:e,onChange:d=>t(d.target.value),onKeyPress:d=>c(d,o),className:"password-field"})}),n&&r.jsx("div",{className:"error-message",children:n}),r.jsxs("div",{className:"login-buttons",children:[r.jsxs("button",{onClick:o,className:"login-btn admin-btn",disabled:!e,children:[r.jsx("span",{className:"btn-icon",children:"👑"}),"Administrateur"]}),r.jsxs("button",{onClick:i,className:"login-btn employee-btn",disabled:!e,children:[r.jsx("span",{className:"btn-icon",children:"👤"}),"Salarié"]})]}),r.jsxs("div",{className:"login-info",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Administrateur :"})," Accès complet à toutes les fonctionnalités"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Salarié :"})," Accès limité aux fonctions de consultation et saisie"]})]})]})]})})};function Ox(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Ox(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Ei=e=>typeof e=="number"&&!isNaN(e),Zr=e=>typeof e=="string",gf=e=>typeof e=="function",Fx=e=>Zr(e)||Ei(e),zx=e=>j.isValidElement(e)||Zr(e)||gf(e)||Ei(e),$x=1,vf=()=>`${$x++}`,Et=new Map,wo=[],pd=new Set,xf=()=>Et.size>0,Vx=(e,{containerId:t})=>{var n;return(n=Et.get(t||1))==null?void 0:n.toasts.get(e)};function Ux(e,t){var n;if(t)return!!((n=Et.get(t))!=null&&n.isToastActive(e));let s=!1;return Et.forEach(a=>{a.isToastActive(e)&&(s=!0)}),s}function Bx(e){if(!xf()){wo=wo.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||Fx(e))Et.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Et.get(e.containerId);t?t.removeToast(e.id):Et.forEach(n=>{n.removeToast(e.id)})}}var Hx=(e={})=>{Et.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function Wx(e,t){zx(e)&&(xf()||wo.push({content:e,options:t}),Et.forEach(n=>{n.buildToast(e,t)}))}function yf(e,t){Et.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function qx(e){return pd.add(e),()=>{pd.delete(e)}}function Jx(e){return e&&(Zr(e.toastId)||Ei(e.toastId))?e.toastId:vf()}function cs(e,t){return Wx(e,t),t.toastId}function $a(e,t){return{...t,type:t&&t.type||e,toastId:Jx(t)}}function Va(e){return(t,n)=>cs(t,$a(e,n))}function A(e,t){return cs(e,$a("default",t))}A.loading=(e,t)=>cs(e,$a("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function Kx(e,{pending:t,error:n,success:s},a){let l;t&&(l=Zr(t)?A.loading(t,a):A.loading(t.render,{...a,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},i=(d,p,f)=>{if(p==null){A.dismiss(l);return}let y={type:d,...o,...a,data:f},N=Zr(p)?{render:p}:p;return l?A.update(l,{...y,...N}):A(N.render,{...y,...N}),f},c=gf(e)?e():e;return c.then(d=>i("success",s,d)).catch(d=>i("error",n,d)),c}A.promise=Kx;A.success=Va("success");A.info=Va("info");A.error=Va("error");A.warning=Va("warning");A.warn=A.warning;A.dark=(e,t)=>cs(e,$a("default",{theme:"dark",...t}));function Yx(e){Bx(e)}A.dismiss=Yx;A.clearWaitingQueue=Hx;A.isActive=Ux;A.update=(e,t={})=>{let n=Vx(e,t);if(n){let{props:s,content:a}=n,l={delay:100,...s,...t,toastId:t.toastId||e,updateId:vf()};l.toastId!==e&&(l.staleId=e);let o=l.render||a;delete l.render,cs(o,l)}};A.done=e=>{A.update(e,{progress:1})};A.onChange=qx;A.play=e=>yf(!0,e);A.pause=e=>yf(!1,e);const Qx=({employee:e,onSave:t,onClose:n,employees:s=[]})=>{const[a,l]=j.useState({name:"",contractType:"CDI",age:"",skills:[],role:"vendeuse",weeklyHours:35,trainingDays:[],contractEndDate:"",tutor:"",email:"",isActive:!0,emergencyContact:{lastName:"",firstName:"",phone:"",email:""}});j.useEffect(()=>{e&&l({name:e.name||"",contractType:e.contractType||"CDI",age:e.age||"",skills:e.skills||[],role:e.role||"vendeuse",weeklyHours:e.weeklyHours||35,trainingDays:e.trainingDays||[],contractEndDate:e.contractEndDate?new Date(e.contractEndDate).toISOString().split("T")[0]:"",tutorName:e.tutorName||"",email:e.email||"",isActive:e.isActive!==void 0?e.isActive:!0,emergencyContact:e.emergencyContact||{lastName:"",firstName:"",phone:"",email:""}})},[e]);const o=x=>{const{name:h,value:m,type:u,checked:v}=x.target;if(h.startsWith("emergencyContact.")){const g=h.split(".")[1];l(E=>({...E,emergencyContact:{...E.emergencyContact,[g]:m}}))}else l(g=>({...g,[h]:u==="checkbox"?v:m}))},i=x=>{l(h=>({...h,skills:h.skills.includes(x)?h.skills.filter(m=>m!==x):[...h.skills,x]}))},c=x=>{l(h=>({...h,trainingDays:h.trainingDays.includes(x)?h.trainingDays.filter(m=>m!==x):[...h.trainingDays,x]}))},d=async()=>{if(!e||!e.email){alert("❌ Aucun email configuré pour cet employé");return}const x=`📧 Envoyer les informations de connexion à ${e.email} ?

- Email: ${e.email}
- URL de connexion: https://www.filmara.fr/salarie-connexion
- Mot de passe: [Généré automatiquement]

Confirmer l'envoi ?`;if(window.confirm(x))try{console.log("📧 Envoi du mot de passe via backend API pour:",e.name,e.email);const h=await fetch(`https://boulangerie-planning-api-4-pbfy.onrender.com/api/auth/send-password/${e._id}`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!h.ok){const u=await h.json();throw new Error(u.error||"Erreur backend")}const m=await h.json();console.log("✅ Mot de passe sauvegardé et email envoyé via backend (Modal)"),alert(`✅ Mot de passe envoyé avec succès à ${e.email}`),console.log("✅ Mot de passe envoyé via backend API (Modal)")}catch(h){console.error("❌ Erreur envoi mot de passe:",h),alert(`❌ Erreur lors de l'envoi: ${h.message}`)}},p=x=>{if(x.preventDefault(),console.log("🔍 Données du formulaire avant validation:",a),!a.name.trim()){alert("Le nom est obligatoire");return}if(!a.age){alert("L'âge est obligatoire");return}if(a.age<16||a.age>65){alert("L'âge doit être entre 16 et 65 ans");return}if(a.weeklyHours<20||a.weeklyHours>39){alert("Le volume hebdomadaire doit être entre 20 et 39 heures");return}if(a.contractType==="Apprentissage"){if(a.trainingDays.length===0){alert("Les apprentis doivent avoir au moins un jour de formation");return}if(!a.contractEndDate){alert("Les apprentis doivent avoir une date de fin de contrat");return}}const h={...a,age:parseInt(a.age),weeklyHours:parseInt(a.weeklyHours),contractEndDate:a.contractEndDate||void 0,tutor:a.tutor||void 0,email:a.email||void 0};console.log("📤 Données préparées pour l'envoi:",h),t(h)},f=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"],y=["Ouverture","Fermeture","Management"],N=[{value:"vendeuse",label:"Vendeuse"},{value:"responsable",label:"Responsable"},{value:"manager",label:"Manager"},{value:"Apprenti Vendeuse",label:"Apprenti Vendeuse"},{value:"chef prod",label:"Chef Prod"},{value:"boulanger",label:"Boulanger"},{value:"préparateur",label:"Préparateur"},{value:"Apprenti Boulanger",label:"Apprenti Boulanger"},{value:"Apprenti Préparateur",label:"Apprenti Préparateur"}];return r.jsxs("div",{children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[r.jsx("h2",{style:{margin:0,color:"#333"},children:e?"👤 Modifier l'employé":"➕ Ajouter un employé"}),r.jsx("button",{onClick:n,style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#666",padding:"0.5rem"},children:"✕"})]}),r.jsxs("div",{children:[r.jsxs("form",{onSubmit:p,className:"declaration-form",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Nom complet *"}),r.jsx("input",{type:"text",name:"name",value:a.name,onChange:o,className:"form-control",required:!0})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Contrat *"}),r.jsxs("select",{name:"contractType",value:a.contractType,onChange:o,className:"form-control",required:!0,children:[r.jsx("option",{value:"CDI",children:"CDI"}),r.jsx("option",{value:"Apprentissage",children:"Contrat d'apprentissage"})]})]}),(a.contractType==="Apprentissage"||a.role==="Apprenti Vendeuse"||a.role==="Apprenti Boulanger"||a.role==="Apprenti Préparateur")&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Fin du contrat d'apprentissage *"}),r.jsx("input",{type:"date",name:"contractEndDate",value:a.contractEndDate,onChange:o,className:"form-control",required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Nom du tuteur *"}),r.jsx("input",{type:"text",name:"tutorName",value:a.tutorName,onChange:o,className:"form-control",placeholder:"Nom du maître d'apprentissage",required:!0})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Âge *"}),r.jsx("input",{type:"number",name:"age",value:a.age,onChange:o,className:"form-control",min:"16",max:"65",required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Email"}),r.jsx("input",{type:"email",name:"email",value:a.email,onChange:o,className:"form-control",placeholder:"exemple@email.com"}),r.jsx("small",{className:"form-text",children:"Email pour l'envoi des identifiants de connexion"})]})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Rôle *"}),r.jsx("select",{name:"role",value:a.role,onChange:o,className:"form-control",required:!0,children:N.map(x=>r.jsx("option",{value:x.value,children:x.label},x.value))})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Volume hebdomadaire (h) *"}),r.jsx("input",{type:"number",name:"weeklyHours",value:a.weeklyHours,onChange:o,className:"form-control",min:"20",max:"39",required:!0})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Compétences"}),r.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:y.map(x=>r.jsxs("label",{style:{display:"flex",alignItems:"center",marginRight:"1rem"},children:[r.jsx("input",{type:"checkbox",checked:a.skills.includes(x),onChange:()=>i(x),style:{marginRight:"0.5rem"}}),x]},x))})]}),a.contractType==="Apprentissage"&&r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Tuteur *"}),r.jsxs("select",{name:"tutor",value:a.tutor,onChange:o,className:"form-control",required:!0,children:[r.jsx("option",{value:"",children:"Sélectionner un tuteur"}),s.filter(x=>x._id!==(e==null?void 0:e._id)&&x.isActive).map(x=>r.jsxs("option",{value:x._id,children:[x.name," - ",x.role]},x._id))]})]}),a.contractType==="Apprentissage"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Jours de formation *"}),r.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:f.map(x=>r.jsxs("label",{style:{display:"flex",alignItems:"center",marginRight:"1rem"},children:[r.jsx("input",{type:"checkbox",checked:a.trainingDays.includes(x),onChange:()=>c(x),style:{marginRight:"0.5rem"}}),x]},x))})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Date de fin de contrat *"}),r.jsx("input",{type:"date",name:"contractEndDate",value:a.contractEndDate,onChange:o,className:"form-control",required:!0})]})]}),r.jsxs("div",{style:{marginTop:"2rem",paddingTop:"1.5rem",borderTop:"2px solid #e0e0e0"},children:[r.jsx("h3",{style:{marginBottom:"1rem",color:"#333",fontSize:"1.1rem"},children:"🚨 Personne à Contacter en Cas d'Urgence"}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Nom"}),r.jsx("input",{type:"text",name:"emergencyContact.lastName",value:a.emergencyContact.lastName,onChange:o,className:"form-control",placeholder:"Nom de la personne"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Prénom"}),r.jsx("input",{type:"text",name:"emergencyContact.firstName",value:a.emergencyContact.firstName,onChange:o,className:"form-control",placeholder:"Prénom de la personne"})]})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Numéro de téléphone"}),r.jsx("input",{type:"tel",name:"emergencyContact.phone",value:a.emergencyContact.phone,onChange:o,className:"form-control",placeholder:"06 12 34 56 78"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Email"}),r.jsx("input",{type:"email",name:"emergencyContact.email",value:a.emergencyContact.email,onChange:o,className:"form-control",placeholder:"contact@exemple.com"})]})]})]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"1.5rem"},children:[r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:n,children:"Annuler"}),e&&r.jsx("button",{type:"button",className:"btn btn-info",onClick:d,title:"Envoyer les informations de connexion par email",children:"📧 Envoyer mot de passe"}),r.jsx("button",{type:"submit",className:"btn btn-primary",onClick:p,children:e?"Modifier l'employé":"Ajouter l'employé"})]})]})]})},jf=({show:e,onClose:t,onSave:n,employees:s})=>{const[a,l]=j.useState("maladie"),[o,i]=j.useState(""),[c,d]=j.useState(""),[p,f]=j.useState(""),[y,N]=j.useState(""),[x,h]=j.useState(!1),m=async u=>{if(u.preventDefault(),!o||!c||!p){alert("Veuillez remplir tous les champs obligatoires");return}h(!0);try{await n({type:a,employeeId:o,startDate:c,endDate:p,reason:y||(a==="maladie"?"Arrêt maladie":"Absence")}),i(""),d(""),f(""),N(""),t()}catch(v){console.error("Erreur lors de la sauvegarde:",v)}finally{h(!1)}};return e?r.jsx("div",{className:"modal show",onClick:t,children:r.jsxs("div",{className:"modal-content",onClick:u=>u.stopPropagation(),children:[r.jsxs("div",{className:"modal-header",children:[r.jsx("h2",{className:"modal-title",children:a==="maladie"?"🏥 Déclarer un arrêt maladie":"📋 Déclarer une absence"}),r.jsx("button",{className:"modal-close",onClick:t,children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"close-icon",children:r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),r.jsx("div",{className:"modal-body",children:r.jsxs("form",{onSubmit:m,className:"declaration-form",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Type de déclaration"}),r.jsxs("div",{className:"type-selector",children:[r.jsxs("button",{type:"button",className:`type-option ${a==="maladie"?"active":""}`,onClick:()=>l("maladie"),children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"type-icon",children:r.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14h-2v-2h2v2zm0-4h-2V7h2v6z"})}),"Arrêt maladie"]}),r.jsxs("button",{type:"button",className:`type-option ${a==="absence"?"active":""}`,onClick:()=>l("absence"),children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"type-icon",children:r.jsx("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"})}),"Absence"]})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Employé *"}),r.jsxs("select",{className:"form-control",value:o,onChange:u=>i(u.target.value),required:!0,children:[r.jsx("option",{value:"",children:"Sélectionner un employé"}),s.map(u=>r.jsxs("option",{value:u._id,children:[u.name," - ",u.role]},u._id))]})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Date de début *"}),r.jsx("input",{type:"date",className:"form-control",value:c,onChange:u=>d(u.target.value),required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Date de fin *"}),r.jsx("input",{type:"date",className:"form-control",value:p,onChange:u=>f(u.target.value),required:!0,min:c})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Raison (optionnel)"}),r.jsx("textarea",{className:"form-control",value:y,onChange:u=>N(u.target.value),placeholder:`Détails sur ${a==="maladie"?"l'arrêt maladie":"l'absence"}...`,rows:"3"})]}),r.jsxs("div",{className:"info-box",children:[r.jsx("div",{className:"info-icon",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),r.jsxs("div",{className:"info-content",children:[r.jsx("h4",{children:"Informations importantes"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Les dates sont inclusives"}),r.jsx("li",{children:"L'employé sera automatiquement marqué comme indisponible"}),r.jsx("li",{children:"Le planning sera mis à jour en conséquence"})]})]})]})]})}),r.jsxs("div",{className:"modal-footer",children:[r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,disabled:x,children:"Annuler"}),r.jsx("button",{type:"submit",className:"btn btn-primary",onClick:m,disabled:x,children:x?r.jsxs(r.Fragment,{children:[r.jsx("svg",{className:"loading-spinner",viewBox:"0 0 24 24",children:r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"})}),"Enregistrement..."]}):`Déclarer ${a==="maladie"?"l'arrêt maladie":"l'absence"}`})]})]})}):null},bf=({show:e,onClose:t,onSave:n,employees:s})=>{const[a,l]=j.useState(""),[o,i]=j.useState(""),[c,d]=j.useState(""),[p,f]=j.useState(""),[y,N]=j.useState(!1),x=async h=>{if(h.preventDefault(),!a||!o||!c){alert("Veuillez remplir tous les champs obligatoires");return}if(parseInt(c)<1){alert("La durée du retard doit être d'au moins 1 minute");return}N(!0);try{await n({employeeId:a,date:o,duration:parseInt(c),reason:p||""}),l(""),i(""),d(""),f(""),t()}catch(m){console.error("Erreur lors de la sauvegarde:",m)}finally{N(!1)}};return e?r.jsx("div",{className:"modal show",onClick:t,children:r.jsxs("div",{className:"modal-content",onClick:h=>h.stopPropagation(),children:[r.jsxs("div",{className:"modal-header",children:[r.jsx("h2",{className:"modal-title",children:"🕐 Déclarer un retard"}),r.jsx("button",{className:"modal-close",onClick:t,children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"close-icon",children:r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),r.jsx("div",{className:"modal-body",children:r.jsxs("form",{onSubmit:x,className:"delay-form",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Employé *"}),r.jsxs("select",{className:"form-control",value:a,onChange:h=>l(h.target.value),required:!0,children:[r.jsx("option",{value:"",children:"Sélectionner un employé"}),s.map(h=>r.jsxs("option",{value:h._id,children:[h.name," - ",h.role]},h._id))]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Date du retard *"}),r.jsx("input",{type:"date",className:"form-control",value:o,onChange:h=>i(h.target.value),required:!0,max:new Date().toISOString().split("T")[0]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Durée du retard (minutes) *"}),r.jsxs("div",{className:"duration-input",children:[r.jsx("input",{type:"number",className:"form-control",value:c,onChange:h=>d(h.target.value),placeholder:"Ex: 15",min:"1",max:"480",required:!0}),r.jsx("span",{className:"duration-unit",children:"minutes"})]}),r.jsx("div",{className:"duration-help",children:r.jsx("small",{children:"Durée en minutes (ex: 15 pour 15 minutes, 90 pour 1h30)"})})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Raison du retard (optionnel)"}),r.jsx("textarea",{className:"form-control",value:p,onChange:h=>f(h.target.value),placeholder:"Ex: Problème de transport, réveil tardif, embouteillage...",rows:"3"})]}),r.jsxs("div",{className:"info-box",children:[r.jsx("div",{className:"info-icon",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),r.jsxs("div",{className:"info-content",children:[r.jsx("h4",{children:"Informations importantes"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Le retard sera enregistré pour la date sélectionnée"}),r.jsx("li",{children:"La durée doit être en minutes (minimum 1 minute)"}),r.jsx("li",{children:"Les retards sont visibles dans les statistiques d'absences"}),r.jsx("li",{children:"Vous ne pouvez pas déclarer un retard pour une date future"})]})]})]})]})}),r.jsxs("div",{className:"modal-footer",children:[r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,disabled:y,children:"Annuler"}),r.jsx("button",{type:"submit",className:"btn btn-primary",onClick:x,disabled:y,children:y?r.jsxs(r.Fragment,{children:[r.jsx("svg",{className:"loading-spinner",viewBox:"0 0 24 24",children:r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"})}),"Enregistrement..."]}):"Déclarer le retard"})]})]})}):null},Gx=({isOpen:e,onClose:t,employees:n})=>{const[s,a]=j.useState(""),[l,o]=j.useState(null),[i,c]=j.useState("entree"),[d,p]=j.useState(!1),[f,y]=j.useState(!1),[N,x]=j.useState({contratSigne:{done:!1,date:"",comment:""},dpae:{done:!1,date:"",comment:""},declarationMedecineTravail:{done:!1,date:"",comment:""},demandeMutuelle:{done:!1,date:"",comment:"",refused:!1,attestationFournie:!1},visiteMedicale:{done:!1,date:"",comment:""},formationSecurite:{done:!1,date:"",comment:""},charteDiscrimination:{done:!1,date:"",comment:""},rib:{done:!1,date:"",comment:""},registrePresenceEntree:{done:!1,date:"",comment:""},gabriel:{done:!1,date:"",comment:""}}),[h,m]=j.useState({arretMutuel:{done:!1,date:"",comment:""},gabrielSortie:{done:!1,date:"",comment:""},mutuelleSortie:{done:!1,date:"",comment:""},retourTenues:{done:!1,date:"",comment:""},retourCles:{done:!1,date:"",comment:""},registrePresenceSortie:{done:!1,date:"",comment:""}}),[u,v]=j.useState(""),[g,E]=j.useState("");j.useEffect(()=>{if(s&&n.length>0){const _=n.find(P=>P._id===s);o(_),w(s)}},[s,n]);const C=_=>{if(!_)return"";try{const P=new Date(_);return isNaN(P.getTime())?"":P.toISOString().split("T")[0]}catch(P){return console.error("Erreur formatage date:",P),""}},w=async _=>{var P,D;try{p(!0);const I=await U.get(`/onboarding-offboarding/employee/${_}`);if(I.data.success&&I.data.data){const z=I.data.data,Q=F=>({done:(F==null?void 0:F.done)||!1,date:C(F==null?void 0:F.date)||"",comment:(F==null?void 0:F.comment)||""});z.onboarding&&x({contratSigne:Q(z.onboarding.contratSigne),dpae:Q(z.onboarding.dpae),declarationMedecineTravail:Q(z.onboarding.declarationMedecineTravail),demandeMutuelle:{...Q(z.onboarding.demandeMutuelle),refused:((P=z.onboarding.demandeMutuelle)==null?void 0:P.refused)||!1,attestationFournie:((D=z.onboarding.demandeMutuelle)==null?void 0:D.attestationFournie)||!1},visiteMedicale:Q(z.onboarding.visiteMedicale),formationSecurite:Q(z.onboarding.formationSecurite),charteDiscrimination:Q(z.onboarding.charteDiscrimination),rib:Q(z.onboarding.rib),registrePresenceEntree:Q(z.onboarding.registrePresenceEntree),gabriel:Q(z.onboarding.gabriel)}),z.offboarding&&m({arretMutuel:Q(z.offboarding.arretMutuel),gabrielSortie:Q(z.offboarding.gabrielSortie),mutuelleSortie:Q(z.offboarding.mutuelleSortie),retourTenues:Q(z.offboarding.retourTenues),retourCles:Q(z.offboarding.retourCles),registrePresenceSortie:Q(z.offboarding.registrePresenceSortie)}),v(C(z.entryDate)),E(C(z.exitDate))}}catch(I){console.error("Erreur lors du chargement des données:",I),A.error("Erreur lors du chargement des données")}finally{p(!1)}},S=(_,P,D)=>{x(I=>({...I,[_]:{...I[_],[P]:D}}))},b=(_,P,D)=>{m(I=>({...I,[_]:{...I[_],[P]:D}}))},L=async()=>{if(console.log("🔵 handleSave appelé"),console.log("🔵 selectedEmployeeId:",s),console.log("🔵 selectedEmployee:",l),!s||!l){console.log("❌ Validation échouée: pas d'employé sélectionné"),A.error("Veuillez sélectionner un employé");return}try{y(!0);const _={};Object.keys(N).forEach(z=>{_[z]={...N[z],date:N[z].date||null}});const P={};Object.keys(h).forEach(z=>{P[z]={...h[z],date:h[z].date||null}});const D={employeeId:s,employeeName:l.name,onboarding:_,offboarding:P,entryDate:u||null,exitDate:g||null};console.log("📤 Envoi payload:",D);const I=await U.post("/onboarding-offboarding",D);console.log("✅ Réponse reçue:",I.data),I.data.success&&(A.success("✅ Démarches sauvegardées avec succès"),window.location.pathname.includes("dashboard")&&window.location.reload())}catch(_){console.error("❌ Erreur lors de la sauvegarde:",_),_.response?(console.error("Détails erreur:",_.response.data),A.error(`❌ Erreur: ${_.response.data.message||"Erreur serveur"}`)):A.error("❌ Erreur lors de la sauvegarde des démarches")}finally{y(!1)}},T=()=>{const _=[{key:"contratSigne",label:"Contrat de travail signé des deux parties"},{key:"dpae",label:"DPAE"},{key:"declarationMedecineTravail",label:"Déclaration Médecine du travail"},{key:"demandeMutuelle",label:"Demande de Mutuelle Entreprise",hasRefusal:!0},{key:"visiteMedicale",label:"Visite médicale effectuée"},{key:"formationSecurite",label:"Formation Sécurité Magasin"},{key:"charteDiscrimination",label:"Charte Discrimination signée"},{key:"rib",label:"RIB"},{key:"registrePresenceEntree",label:"Registre de Présence"},{key:"gabriel",label:"Gabriel"}];return r.jsxs("div",{className:"onboarding-form",children:[r.jsx("h3",{children:"📋 Démarches d'entrée"}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Date d'entrée"}),r.jsx("input",{type:"date",value:u,onChange:P=>v(P.target.value),className:"form-control"})]}),_.map(P=>{var D,I,z,Q,F,q,J,te;return r.jsxs("div",{className:"task-item",children:[r.jsx("div",{className:"task-header",children:r.jsxs("label",{className:"checkbox-label",children:[r.jsx("input",{type:"checkbox",checked:((D=N[P.key])==null?void 0:D.done)||!1,onChange:K=>S(P.key,"done",K.target.checked)}),r.jsx("span",{className:(I=N[P.key])!=null&&I.done?"task-done":"",children:P.label})]})}),P.hasRefusal&&r.jsxs("div",{className:"mutuelle-refusal",children:[r.jsxs("label",{className:"checkbox-label",children:[r.jsx("input",{type:"checkbox",checked:((z=N[P.key])==null?void 0:z.refused)||!1,onChange:K=>S(P.key,"refused",K.target.checked)}),r.jsx("span",{children:"Refus de la mutuelle"})]}),((Q=N[P.key])==null?void 0:Q.refused)&&r.jsxs("label",{className:"checkbox-label",children:[r.jsx("input",{type:"checkbox",checked:((F=N[P.key])==null?void 0:F.attestationFournie)||!1,onChange:K=>S(P.key,"attestationFournie",K.target.checked)}),r.jsx("span",{children:"Attestation de refus fournie"})]})]}),((q=N[P.key])==null?void 0:q.done)&&r.jsxs("div",{className:"task-details",children:[r.jsx("input",{type:"date",value:((J=N[P.key])==null?void 0:J.date)||"",onChange:K=>S(P.key,"date",K.target.value),className:"form-control form-control-sm",placeholder:"Date"}),r.jsx("input",{type:"text",value:((te=N[P.key])==null?void 0:te.comment)||"",onChange:K=>S(P.key,"comment",K.target.value),className:"form-control form-control-sm",placeholder:"Commentaire (optionnel)"})]})]},P.key)})]})},$=()=>{const _=[{key:"arretMutuel",label:"Arrêt Mutuel"},{key:"gabrielSortie",label:"Gabriel"},{key:"mutuelleSortie",label:"Mutuelle (si demandée)"},{key:"retourTenues",label:"Retour tenues"},{key:"retourCles",label:"Retour clés"},{key:"registrePresenceSortie",label:"Registre de présence"}];return r.jsxs("div",{className:"offboarding-form",children:[r.jsx("h3",{children:"📤 Démarches de sortie"}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Date de sortie"}),r.jsx("input",{type:"date",value:g,onChange:P=>E(P.target.value),className:"form-control"})]}),_.map(P=>{var D,I,z,Q,F;return r.jsxs("div",{className:"task-item",children:[r.jsx("div",{className:"task-header",children:r.jsxs("label",{className:"checkbox-label",children:[r.jsx("input",{type:"checkbox",checked:((D=h[P.key])==null?void 0:D.done)||!1,onChange:q=>b(P.key,"done",q.target.checked)}),r.jsx("span",{className:(I=h[P.key])!=null&&I.done?"task-done":"",children:P.label})]})}),((z=h[P.key])==null?void 0:z.done)&&r.jsxs("div",{className:"task-details",children:[r.jsx("input",{type:"date",value:((Q=h[P.key])==null?void 0:Q.date)||"",onChange:q=>b(P.key,"date",q.target.value),className:"form-control form-control-sm",placeholder:"Date"}),r.jsx("input",{type:"text",value:((F=h[P.key])==null?void 0:F.comment)||"",onChange:q=>b(P.key,"comment",q.target.value),className:"form-control form-control-sm",placeholder:"Commentaire (optionnel)"})]})]},P.key)})]})};return e?r.jsx("div",{className:"onboarding-modal-overlay",children:r.jsxs("div",{className:"onboarding-modal",children:[r.jsxs("div",{className:"onboarding-modal-header",children:[r.jsx("h2",{children:"📋 Entrée/Sortie - Démarches Administratives"}),r.jsx("button",{className:"close-btn",onClick:t,children:"✕"})]}),r.jsxs("div",{className:"onboarding-modal-body",children:[r.jsxs("div",{className:"employee-selector",children:[r.jsx("label",{children:"Sélectionner un employé :"}),r.jsxs("select",{value:s,onChange:_=>a(_.target.value),className:"form-control",children:[r.jsx("option",{value:"",children:"-- Choisir un employé --"}),n.map(_=>r.jsxs("option",{value:_._id,children:[_.name," (",_.role||"Non spécifié",")"]},_._id))]})]}),s&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"tabs",children:[r.jsx("button",{className:`tab ${i==="entree"?"active":""}`,onClick:()=>c("entree"),children:"📥 Entrée"}),r.jsx("button",{className:`tab ${i==="sortie"?"active":""}`,onClick:()=>c("sortie"),children:"📤 Sortie"})]}),d?r.jsxs("div",{className:"loading-container",children:[r.jsx("div",{className:"loading"}),r.jsx("p",{children:"Chargement des données..."})]}):r.jsx("div",{className:"tab-content",children:i==="entree"?T():$()})]})]}),r.jsxs("div",{className:"onboarding-modal-footer",children:[r.jsx("button",{className:"btn btn-secondary",onClick:t,children:"Annuler"}),r.jsx("button",{className:"btn btn-primary",onClick:L,disabled:!s||f,children:f?"Sauvegarde...":"💾 Sauvegarder"})]})]})}):null},Xx=({isOpen:e,onClose:t,employees:n})=>{const[s,a]=j.useState(""),[l,o]=j.useState(null),[i,c]=j.useState("entree"),[d,p]=j.useState(!1),[f,y]=j.useState([]),[N,x]=j.useState({itemType:"pantalon",size:"",quantity:1,comment:""}),h=[{value:"pantalon",label:"Pantalon"},{value:"casquette",label:"Casquette"},{value:"chaussures",label:"Chaussures"},{value:"teeshirt",label:"T-shirt"},{value:"polaire",label:"Polaire"},{value:"carte_wengel",label:"Carte Wengel"},{value:"cle_entree",label:"Clé Entrée"},{value:"cle_volet",label:"Clé Volet"},{value:"code_alarme",label:"Code Alarme"}];j.useEffect(()=>{if(s&&n.length>0){const b=n.find(L=>L._id===s);o(b),m(s)}},[s,n]);const m=async b=>{try{p(!0);const L=await U.get(`/uniforms/employee/${b}`);L.data.success&&L.data.data&&y(L.data.data.items||[])}catch(L){console.error("Erreur lors du chargement des tenues:",L),A.error("Erreur lors du chargement des tenues")}finally{p(!1)}},u=async()=>{if(!s||!l){A.error("Veuillez sélectionner un employé");return}if(!N.itemType){A.error("Veuillez sélectionner un type de tenue");return}try{const b={employeeId:s,employeeName:l.name,itemType:N.itemType,size:N.size,quantity:parseInt(N.quantity)||1,comment:N.comment};(await U.post("/uniforms",b)).data.success&&(A.success("✅ Tenue ajoutée avec succès"),x({itemType:"pantalon",size:"",quantity:1,comment:""}),await m(s))}catch(b){console.error("Erreur lors de l'ajout de la tenue:",b),A.error("❌ Erreur lors de l'ajout de la tenue")}},v=async b=>{if(window.confirm("Confirmer le retour de cette tenue ?"))try{(await U.patch(`/uniforms/${s}/${b}/return`,{returnDate:new Date().toISOString(),returnComment:"Retourné"})).data.success&&(A.success("✅ Tenue marquée comme retournée"),await m(s))}catch(L){console.error("Erreur lors du retour de la tenue:",L),A.error("❌ Erreur lors du retour de la tenue")}},g=async b=>{if(window.confirm("Confirmer la suppression de cette tenue ?"))try{(await U.delete(`/uniforms/${s}/${b}`)).data.success&&(A.success("✅ Tenue supprimée"),await m(s))}catch(L){console.error("Erreur lors de la suppression:",L),A.error("❌ Erreur lors de la suppression")}},E=b=>{const L=h.find(T=>T.value===b);return L?L.label:b},C=b=>b?new Date(b).toLocaleDateString("fr-FR"):"-",w=()=>r.jsxs("div",{className:"uniform-entry-form",children:[r.jsx("h3",{children:"➕ Ajouter une tenue"}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Type de tenue *"}),r.jsx("select",{value:N.itemType,onChange:b=>x({...N,itemType:b.target.value}),className:"form-control",children:h.map(b=>r.jsx("option",{value:b.value,children:b.label},b.value))})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Taille / Descriptif"}),r.jsx("input",{type:"text",value:N.size,onChange:b=>x({...N,size:b.target.value}),className:"form-control",placeholder:"Ex: L, 42, etc."})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Quantité"}),r.jsx("input",{type:"number",min:"1",value:N.quantity,onChange:b=>x({...N,quantity:b.target.value}),className:"form-control"})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Commentaire"}),r.jsx("input",{type:"text",value:N.comment,onChange:b=>x({...N,comment:b.target.value}),className:"form-control",placeholder:"Optionnel"})]}),r.jsx("button",{className:"btn btn-primary",onClick:u,children:"➕ Ajouter cette tenue"}),r.jsx("hr",{style:{margin:"2rem 0"}}),r.jsx("h3",{children:"📋 Historique des tenues attribuées"}),f.length===0?r.jsx("p",{className:"no-data",children:"Aucune tenue enregistrée"}):r.jsx("div",{className:"uniform-list",children:f.sort((b,L)=>new Date(L.issueDate)-new Date(b.issueDate)).map(b=>r.jsxs("div",{className:`uniform-item ${b.returned?"returned":""}`,children:[r.jsxs("div",{className:"item-header",children:[r.jsx("span",{className:"item-type",children:E(b.itemType)}),r.jsx("span",{className:`item-status ${b.returned?"status-returned":"status-active"}`,children:b.returned?"✅ Retourné":"🔵 En cours"})]}),r.jsxs("div",{className:"item-details",children:[r.jsxs("div",{className:"detail-row",children:[r.jsx("strong",{children:"Taille:"})," ",b.size||"-"]}),r.jsxs("div",{className:"detail-row",children:[r.jsx("strong",{children:"Quantité:"})," ",b.quantity]}),r.jsxs("div",{className:"detail-row",children:[r.jsx("strong",{children:"Date d'attribution:"})," ",C(b.issueDate)]}),b.comment&&r.jsxs("div",{className:"detail-row",children:[r.jsx("strong",{children:"Commentaire:"})," ",b.comment]}),b.returned&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"detail-row",children:[r.jsx("strong",{children:"Date de retour:"})," ",C(b.returnDate)]}),b.returnComment&&r.jsxs("div",{className:"detail-row",children:[r.jsx("strong",{children:"Commentaire retour:"})," ",b.returnComment]})]})]}),r.jsxs("div",{className:"item-actions",children:[!b.returned&&r.jsx("button",{className:"btn btn-sm btn-warning",onClick:()=>v(b._id),children:"📤 Marquer comme retourné"}),r.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>g(b._id),children:"🗑️ Supprimer"})]})]},b._id))})]}),S=()=>{const b=f.filter(L=>!L.returned);return r.jsxs("div",{className:"uniform-exit-form",children:[r.jsx("h3",{children:"📤 Retour des tenues"}),b.length===0?r.jsx("div",{className:"no-pending",children:r.jsx("p",{children:"✅ Aucune tenue en attente de retour"})}):r.jsxs("div",{className:"pending-returns",children:[r.jsxs("p",{className:"info-message",children:["⚠️ ",b.length," tenue(s) en attente de retour"]}),r.jsx("div",{className:"uniform-list",children:b.map(L=>r.jsxs("div",{className:"uniform-item",children:[r.jsxs("div",{className:"item-header",children:[r.jsx("span",{className:"item-type",children:E(L.itemType)}),r.jsx("span",{className:"item-status status-pending",children:"🔵 À retourner"})]}),r.jsxs("div",{className:"item-details",children:[r.jsxs("div",{className:"detail-row",children:[r.jsx("strong",{children:"Taille:"})," ",L.size||"-"]}),r.jsxs("div",{className:"detail-row",children:[r.jsx("strong",{children:"Quantité:"})," ",L.quantity]}),r.jsxs("div",{className:"detail-row",children:[r.jsx("strong",{children:"Attribué le:"})," ",C(L.issueDate)]})]}),r.jsx("div",{className:"item-actions",children:r.jsx("button",{className:"btn btn-primary",onClick:()=>v(L._id),children:"✅ Confirmer le retour"})})]},L._id))})]})]})};return e?r.jsx("div",{className:"uniform-modal-overlay",children:r.jsxs("div",{className:"uniform-modal",children:[r.jsxs("div",{className:"uniform-modal-header",children:[r.jsx("h2",{children:"👕 Gestion des Tenues"}),r.jsx("button",{className:"close-btn",onClick:t,children:"✕"})]}),r.jsxs("div",{className:"uniform-modal-body",children:[r.jsxs("div",{className:"employee-selector",children:[r.jsx("label",{children:"Sélectionner un employé :"}),r.jsxs("select",{value:s,onChange:b=>a(b.target.value),className:"form-control",children:[r.jsx("option",{value:"",children:"-- Choisir un employé --"}),n.map(b=>r.jsxs("option",{value:b._id,children:[b.name," (",b.role||"Non spécifié",")"]},b._id))]})]}),s&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"tabs",children:[r.jsx("button",{className:`tab ${i==="entree"?"active":""}`,onClick:()=>c("entree"),children:"➕ Entrée / Historique"}),r.jsx("button",{className:`tab ${i==="sortie"?"active":""}`,onClick:()=>c("sortie"),children:"📤 Sortie / Retours"})]}),d?r.jsxs("div",{className:"loading-container",children:[r.jsx("div",{className:"loading"}),r.jsx("p",{children:"Chargement des données..."})]}):r.jsx("div",{className:"tab-content",children:i==="entree"?w():S()})]})]}),r.jsx("div",{className:"uniform-modal-footer",children:r.jsx("button",{className:"btn btn-secondary",onClick:t,children:"Fermer"})})]})}):null},Zx=()=>{const[e,t]=j.useState([]),[n,s]=j.useState(!0),[a,l]=j.useState(!1),[o,i]=j.useState(!1),[c,d]=j.useState(!1),[p,f]=j.useState(!1),[y,N]=j.useState(!1),[x,h]=j.useState(!1),[m,u]=j.useState(null),[v,g]=j.useState([]),[E,C]=j.useState({}),[w,S]=j.useState(null),b=Pa();j.useEffect(()=>{L(),He(),we()},[]);const L=async()=>{try{s(!0);const R=await U.get("/employees");console.log("📊 Réponse API employés:",R.data);let Y=null;R.data.success&&R.data.data?Y=R.data.data:Array.isArray(R.data)&&(Y=R.data),Y?(t(Y),console.log("✅ Employés chargés:",Y.length)):(console.error("❌ Format de données invalide:",R.data),t([]),A.error("Format de données invalide"))}catch(R){A.error("Erreur lors du chargement des employés"),console.error(R),t([])}finally{s(!1)}},T=()=>{u(null),l(!0)},$=()=>{i(!0)},_=()=>{d(!0)},P=()=>{f(!0)},D=()=>{N(!0)},I=()=>{b("/tutors")},z=R=>{u(R),l(!0)},Q=async R=>{var Y,ye;try{if(!R.email){A.error("Aucun email configuré pour cet employé");return}const fe=`Envoyer un mot de passe par email à ${R.name} (${R.email}) ?`;if(!window.confirm(fe))return;console.log("🔐 Envoi mot de passe pour:",R.name);const pe=await fetch(`https://boulangerie-planning-api-4-pbfy.onrender.com/api/auth/send-password/${R._id}`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!pe.ok){const Ct=await pe.json();throw new Error(Ct.error||"Erreur backend")}const kt=await pe.json();console.log("✅ Mot de passe sauvegardé et email envoyé via backend"),A.success(`Mot de passe envoyé à ${R.email}`),console.log("✅ Mot de passe envoyé via backend API")}catch(fe){console.error("❌ Erreur envoi mot de passe:",fe),A.error(`Erreur: ${((ye=(Y=fe.response)==null?void 0:Y.data)==null?void 0:ye.error)||fe.message}`)}},F=async R=>{var Y,ye,fe;try{if(console.log("🔍 Données employé à sauvegarder:",R),m)console.log("📝 Modification employé existant:",m._id),await U.put(`/employees/${m._id}`,R),A.success("Employé modifié avec succès");else{console.log("➕ Création nouvel employé"),console.log("📤 Envoi POST vers /employees avec:",R);const pe=await U.post("/employees",R);console.log("✅ Réponse API:",pe.data),A.success("Employé ajouté avec succès")}L(),l(!1)}catch(pe){console.error("❌ Erreur détaillée:",pe),console.error("❌ Erreur response:",pe.response),console.error("❌ Erreur data:",(Y=pe.response)==null?void 0:Y.data),A.error(`Erreur lors de la sauvegarde: ${((fe=(ye=pe.response)==null?void 0:ye.data)==null?void 0:fe.error)||pe.message}`)}},q=async R=>{var Y;try{console.log("Données déclaration:",R),R.type==="maladie"?(await U.put(`/employees/${R.employeeId}`,{sickLeave:{isOnSickLeave:!0,startDate:R.startDate,endDate:R.endDate}}),A.success("Arrêt maladie déclaré avec succès")):(await U.put(`/employees/${R.employeeId}`,{absence:{isAbsent:!0,startDate:R.startDate,endDate:R.endDate,reason:R.reason}}),A.success("Absence déclarée avec succès")),L(),i(!1)}catch(ye){console.error("Erreur détaillée:",((Y=ye.response)==null?void 0:Y.data)||ye.message),A.error("Erreur lors de la déclaration")}},J=async R=>{try{console.log("🕐 Sauvegarde retard:",R),await U.post("/delays",R),A.success("Retard déclaré avec succès"),L(),d(!1)}catch(Y){console.error("❌ Erreur sauvegarde retard:",Y),A.error("Erreur lors de la déclaration du retard")}},te=async R=>{if(window.confirm("Êtes-vous sûr de vouloir désactiver cet employé ?"))try{await U.patch(`/employees/${R}/deactivate`),A.success("Employé désactivé"),L()}catch{A.error("Erreur lors de la désactivation")}},K=async R=>{try{await U.patch(`/employees/${R}/reactivate`),A.success("Employé réactivé"),L()}catch{A.error("Erreur lors de la réactivation")}},He=async()=>{try{const R=await U.get("/advance-requests");R.data.success&&g(R.data.data)}catch(R){console.error("Erreur récupération demandes acompte:",R)}},we=async()=>{try{const R=await U.get("/advance-requests/stats");R.data.success&&C(R.data.data)}catch(R){console.error("Erreur récupération stats acompte:",R)}},ze=async(R,Y,ye={})=>{try{(await U.put(`/advance-requests/${R}`,{status:Y,...ye})).data.success&&(A.success(`Demande ${Y==="approved"?"approuvée":"rejetée"} avec succès`),He(),we(),h(!1),S(null))}catch(fe){console.error("Erreur action acompte:",fe),A.error("Erreur lors de l'action")}},V=R=>{S(R),h(!0)},X=()=>{h(!1),S(null)},ee=R=>({vendeuse:"Vendeuse",apprenti:"Apprenti",responsable:"Responsable",manager:"Manager",preparateur:"Préparateur",chef_prod:"Chef Prod",boulanger:"Boulanger"})[R]||R,se=R=>({CDI:"CDI",Apprentissage:"Contrat d'apprentissage"})[R]||R,oe=R=>R?new Date(R).toLocaleDateString("fr-FR"):"-";return n?r.jsx("div",{className:"card",children:r.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[r.jsx("div",{className:"loading"}),r.jsx("p",{children:"Chargement des employés..."})]})}):r.jsxs("div",{className:"employees fade-in",children:[r.jsxs("div",{className:"page-header",children:[r.jsx("h2",{children:"Gestion des employés"}),r.jsxs("div",{className:"header-actions",children:[r.jsxs("button",{className:"btn btn-info",onClick:I,children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"btn-icon",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),"Tuteurs"]}),r.jsxs("button",{className:"btn btn-purple",onClick:P,children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"btn-icon",children:r.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"})}),"Entrée/Sortie"]}),r.jsxs("button",{className:"btn btn-pink",onClick:D,children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"btn-icon",children:r.jsx("path",{d:"M16 20H8V10h8v10zm4-16H4v2h2v14h12V6h2V4zm-4 0H8V3h8v1z"})}),"Tenue"]}),r.jsxs("button",{className:"btn btn-success",onClick:$,children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"btn-icon",children:r.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14h-2v-2h2v2zm0-4h-2V7h2v6z"})}),"Déclarer maladie/absence"]}),r.jsxs("button",{className:"btn btn-warning",onClick:_,children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"btn-icon",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),"Déclarer retard"]}),r.jsxs("button",{className:"btn btn-primary",onClick:T,children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"btn-icon",children:r.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})}),"Ajouter un employé"]})]})]}),a&&r.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:R=>{R.target===R.currentTarget&&l(!1)},children:r.jsx("div",{className:"modal-content",style:{backgroundColor:"white",borderRadius:"8px",padding:"2rem",maxWidth:"90vw",maxHeight:"90vh",overflow:"auto",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)"},children:r.jsx(Qx,{employee:m,onSave:F,onClose:()=>l(!1),employees:e.filter(R=>R.isActive)})})}),r.jsx("div",{className:"card",children:r.jsx("div",{style:{overflowX:"auto"},children:r.jsxs("table",{className:"table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Nom"}),r.jsx("th",{children:"Rôle"}),r.jsx("th",{children:"Contrat"}),r.jsx("th",{children:"Âge"}),r.jsx("th",{children:"Volume hebdo"}),r.jsx("th",{children:"Compétences"}),r.jsx("th",{children:"Jours formation"}),r.jsx("th",{children:"Arrêt maladie"}),r.jsx("th",{children:"Absences"}),r.jsx("th",{children:"Statut"}),r.jsx("th",{children:"Actions"})]})}),r.jsx("tbody",{children:e.map(R=>r.jsxs("tr",{children:[r.jsx("td",{children:R.name}),r.jsx("td",{children:ee(R.role)}),r.jsx("td",{children:se(R.contractType)}),r.jsxs("td",{children:[R.age," ans",R.isMinor&&r.jsx("span",{style:{color:"#ffc107",fontSize:"0.8rem",marginLeft:"0.5rem",fontWeight:"bold"},children:"(Mineur)"})]}),r.jsxs("td",{children:[R.weeklyHours,"h"]}),r.jsx("td",{children:R.skills&&R.skills.length>0?R.skills.join(", "):"Aucune"}),r.jsx("td",{children:R.trainingDays&&R.trainingDays.length>0?R.trainingDays.join(", "):"-"}),r.jsx("td",{children:(()=>{var ye,fe;if((ye=R.sickLeave)!=null&&ye.isOnSickLeave){if((fe=R.sickLeave)!=null&&fe.endDate){const pe=new Date(R.sickLeave.endDate);if(Math.floor((new Date-pe)/(1e3*60*60*24))>8)return"-"}return r.jsxs("span",{style:{color:"#dc3545",fontWeight:"bold"},children:[oe(R.sickLeave.startDate)," - ",oe(R.sickLeave.endDate)]})}const Y=(Array.isArray(R.absences)?R.absences:[]).filter(pe=>{if(pe.type!=="Arrêt maladie")return!1;const kt=new Date(pe.endDate);return Math.floor((new Date-kt)/(1e3*60*60*24))<=8});if(Y&&Y.length>0){const pe=Y[0];return r.jsxs("span",{style:{color:"#dc3545",fontWeight:"bold"},children:[oe(pe.startDate)," - ",oe(pe.endDate)]})}return"-"})()}),r.jsx("td",{children:(()=>{const Y=(Array.isArray(R.absences)?R.absences:[]).filter(ye=>ye.type!=="Arrêt maladie");return Y.length>0?r.jsxs("span",{style:{color:"#ffc107",fontWeight:"bold"},children:[Y.length," absence",Y.length>1?"s":""]}):"-"})()}),r.jsx("td",{children:r.jsx("span",{style:{color:R.isActive?"#28a745":"#dc3545",fontWeight:"bold"},children:R.isActive?"Actif":"Inactif"})}),r.jsxs("td",{children:[r.jsx("button",{className:"btn btn-secondary",onClick:()=>z(R),style:{fontSize:"0.9rem",padding:"0.5rem 1rem"},children:"✏️ Modifier"}),R.email&&r.jsx("button",{className:"btn btn-info",onClick:()=>Q(R),style:{fontSize:"0.9rem",padding:"0.5rem 1rem",marginLeft:"0.5rem"},title:"Envoyer un mot de passe par email",children:"🔐 Mot de passe"}),R.isActive?r.jsx("button",{className:"btn btn-danger",onClick:()=>te(R._id),style:{fontSize:"0.9rem",padding:"0.5rem 1rem",marginLeft:"0.5rem"},children:"🚫 Désactiver"}):r.jsx("button",{className:"btn btn-success",onClick:()=>K(R._id),style:{fontSize:"0.9rem",padding:"0.5rem 1rem",marginLeft:"0.5rem"},children:"✅ Réactiver"})]})]},R._id))})]})})}),e.length===0&&r.jsxs("div",{className:"card",style:{textAlign:"center",padding:"3rem"},children:[r.jsx("h3",{children:"👥 Aucun employé trouvé"}),r.jsx("p",{children:"Commencez par ajouter votre premier employé."}),r.jsx("button",{className:"btn btn-primary",onClick:T,children:"Ajouter un employé"})]}),r.jsx(jf,{show:o,onClose:()=>i(!1),onSave:q,employees:e.filter(R=>R.isActive)}),r.jsx(bf,{show:c,onClose:()=>d(!1),onSave:J,employees:e.filter(R=>R.isActive)}),r.jsx(Gx,{isOpen:p,onClose:()=>f(!1),employees:e.filter(R=>R.isActive)}),r.jsx(Xx,{isOpen:y,onClose:()=>N(!1),employees:e.filter(R=>R.isActive)}),x&&r.jsx("div",{className:"modal-overlay",children:r.jsxs("div",{className:"modal-content",children:[r.jsxs("div",{className:"modal-header",children:[r.jsx("h3",{children:"💰 Gestion des Demandes d'Acompte"}),r.jsx("button",{className:"close-btn",onClick:X,children:"×"})]}),r.jsxs("div",{className:"modal-body",children:[r.jsxs("div",{className:"advance-stats",children:[r.jsxs("div",{className:"stat-card",children:[r.jsx("div",{className:"stat-number",children:E.pending||0}),r.jsx("div",{className:"stat-label",children:"En attente"})]}),r.jsxs("div",{className:"stat-card",children:[r.jsx("div",{className:"stat-number",children:E.approved||0}),r.jsx("div",{className:"stat-label",children:"Approuvées"})]}),r.jsxs("div",{className:"stat-card",children:[r.jsx("div",{className:"stat-number",children:E.rejected||0}),r.jsx("div",{className:"stat-label",children:"Rejetées"})]}),r.jsxs("div",{className:"stat-card",children:[r.jsxs("div",{className:"stat-number",children:[E.totalAmount||0,"€"]}),r.jsx("div",{className:"stat-label",children:"Montant total"})]})]}),r.jsxs("div",{className:"advance-requests-list",children:[r.jsx("h4",{children:"📋 Demandes en attente"}),v.filter(R=>R.status==="pending").map(R=>r.jsxs("div",{className:"advance-request-card",children:[r.jsxs("div",{className:"request-info",children:[r.jsx("div",{className:"employee-name",children:R.employeeName}),r.jsxs("div",{className:"request-amount",children:[R.amount,"€"]}),r.jsxs("div",{className:"request-month",children:["Déduction: ",R.deductionMonth]}),r.jsxs("div",{className:"request-date",children:["Demandé le: ",new Date(R.createdAt).toLocaleDateString("fr-FR")]}),R.comment&&r.jsxs("div",{className:"request-comment",children:[r.jsx("strong",{children:"Commentaire:"})," ",R.comment]})]}),r.jsxs("div",{className:"request-actions",children:[r.jsx("button",{className:"btn btn-success btn-sm",onClick:()=>ze(R._id,"approved"),children:"✅ Approuver"}),r.jsx("button",{className:"btn btn-warning btn-sm",onClick:()=>V(R),children:"✏️ Modifier"}),r.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>ze(R._id,"rejected"),children:"❌ Rejeter"})]})]},R._id)),v.filter(R=>R.status==="pending").length===0&&r.jsx("div",{className:"no-requests",children:r.jsx("p",{children:"Aucune demande d'acompte en attente"})})]}),r.jsxs("div",{className:"advance-history",children:[r.jsx("h4",{children:"📊 Historique"}),v.filter(R=>R.status!=="pending").slice(0,10).map(R=>r.jsx("div",{className:"advance-history-item",children:r.jsxs("div",{className:"history-info",children:[r.jsx("span",{className:"employee-name",children:R.employeeName}),r.jsxs("span",{className:"amount",children:[R.amount,"€"]}),r.jsx("span",{className:`status status-${R.status}`,children:R.status==="approved"?"✅ Approuvé":"❌ Rejeté"}),r.jsx("span",{className:"date",children:new Date(R.updatedAt).toLocaleDateString("fr-FR")})]})},R._id))]})]})]})}),w&&r.jsx("div",{className:"modal-overlay",children:r.jsxs("div",{className:"modal-content",children:[r.jsxs("div",{className:"modal-header",children:[r.jsx("h3",{children:"✏️ Modifier la Demande d'Acompte"}),r.jsx("button",{className:"close-btn",onClick:X,children:"×"})]}),r.jsxs("div",{className:"modal-body",children:[r.jsx("div",{className:"form-group",children:r.jsxs("label",{children:["Employé: ",w.employeeName]})}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Montant (€):"}),r.jsx("input",{type:"number",id:"editAmount",defaultValue:w.amount,min:"1",max:"5000",step:"0.01"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Mois de déduction:"}),r.jsxs("select",{id:"editMonth",defaultValue:w.deductionMonth,children:[r.jsx("option",{value:"Janvier 2025",children:"Janvier 2025"}),r.jsx("option",{value:"Février 2025",children:"Février 2025"}),r.jsx("option",{value:"Mars 2025",children:"Mars 2025"}),r.jsx("option",{value:"Avril 2025",children:"Avril 2025"}),r.jsx("option",{value:"Mai 2025",children:"Mai 2025"}),r.jsx("option",{value:"Juin 2025",children:"Juin 2025"}),r.jsx("option",{value:"Juillet 2025",children:"Juillet 2025"}),r.jsx("option",{value:"Août 2025",children:"Août 2025"}),r.jsx("option",{value:"Septembre 2025",children:"Septembre 2025"}),r.jsx("option",{value:"Octobre 2025",children:"Octobre 2025"}),r.jsx("option",{value:"Novembre 2025",children:"Novembre 2025"}),r.jsx("option",{value:"Décembre 2025",children:"Décembre 2025"})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Commentaire du manager:"}),r.jsx("textarea",{id:"editComment",rows:"3",placeholder:"Commentaire optionnel..."})]}),r.jsxs("div",{className:"modal-actions",children:[r.jsx("button",{className:"btn btn-success",onClick:()=>{const R=document.getElementById("editAmount").value;document.getElementById("editMonth").value;const Y=document.getElementById("editComment").value;ze(w._id,"approved",{approvedAmount:R,managerComment:Y})},children:"✅ Approuver avec modifications"}),r.jsx("button",{className:"btn btn-danger",onClick:()=>{const R=document.getElementById("editComment").value;ze(w._id,"rejected",{managerComment:R})},children:"❌ Rejeter"}),r.jsx("button",{className:"btn btn-secondary",onClick:X,children:"Annuler"})]})]})]})})]})},ey=()=>{const[e,t]=j.useState(""),[n,s]=j.useState(new Date().getFullYear()),[a,l]=j.useState(null),[o,i]=j.useState(!1),c=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"];j.useEffect(()=>{const g=new URLSearchParams(window.location.search),E=g.get("week"),C=g.get("year");if(E&&t(E),C)s(parseInt(C));else{const S=d(new Date);t(S)}},[]),j.useEffect(()=>{e&&n&&N()},[e,n,N]);const d=g=>{const E=new Date(Date.UTC(g.getFullYear(),g.getMonth(),g.getDate())),C=E.getUTCDay()||7;E.setUTCDate(E.getUTCDate()+4-C);const w=new Date(Date.UTC(E.getUTCFullYear(),0,1));return Math.ceil(((E-w)/864e5+1)/7)},p=(g,E,C)=>{const w=new Date(E,0,1),S=Math.floor((g-1)*7)+C,b=new Date(w);return b.setDate(w.getDate()+S),`${b.getDate()}/${b.getMonth()+1}`},f=g=>{const E=parseInt(g.startTime.split(":")[0]);return E<=7?"Ouverture":E>=16?"Fermeture":"Standard"},y=g=>{switch(g){case"Ouverture":return"#28a745";case"Fermeture":return"#dc3545";default:return"#007bff"}},N=async()=>{try{i(!0);const g=await U.get(`/planning/${e}/${n}`);l(g.data)}catch{l(null)}finally{i(!1)}},x=async()=>{if(!e||!n){A.error("Veuillez saisir le numéro de semaine et l'année");return}i(!0);try{const g=await U.post("/planning/generate",{weekNumber:parseInt(e),year:parseInt(n),affluenceLevels:{Lundi:2,Mardi:2,Mercredi:2,Jeudi:2,Vendredi:2,Samedi:2,Dimanche:2}});A.success("Planning généré avec succès !"),l(g.data.plannings)}catch(g){A.error("Erreur lors de la génération du planning"),console.error(g)}finally{i(!1)}},h=async g=>{try{await U.patch(`/planning/${g}/realize`,{status:"realized"}),A.success("Planning marqué comme réalisé"),N()}catch{A.error("Erreur lors de la mise à jour du statut")}},m=g=>g?g.substring(0,5):"",u=(g,E)=>g.filter(C=>{const w=C.schedule.find(S=>S.day===E);return w&&(w.shifts.length>0||w.constraint)}).length,v=(g,E)=>g.reduce((C,w)=>{const S=w.schedule.find(b=>b.day===E);return S&&S.shifts.length>0?C+S.totalHours:C},0);return r.jsxs("div",{className:"planning fade-in",children:[r.jsxs("div",{className:"card",children:[r.jsx("h2",{children:"🎯 Génération du planning"}),r.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center",flexWrap:"wrap"},children:[r.jsxs("div",{children:[r.jsx("label",{children:"Semaine :"}),r.jsx("input",{type:"number",value:e,onChange:g=>t(g.target.value),min:"1",max:"53",style:{marginLeft:"0.5rem",padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"}})]}),r.jsxs("div",{children:[r.jsx("label",{children:"Année :"}),r.jsx("input",{type:"number",value:n,onChange:g=>s(parseInt(g.target.value)),min:"2020",max:"2030",style:{marginLeft:"0.5rem",padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"}})]}),r.jsx("button",{className:"btn btn-primary",onClick:x,disabled:o,children:o?"Génération...":"🎯 Générer le planning"}),r.jsx("button",{className:"btn btn-secondary",onClick:()=>window.location.href=`/constraints?week=${e}&year=${n}`,children:"✏️ Modifier contraintes"})]})]}),o&&r.jsx("div",{className:"card",children:r.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[r.jsx("div",{className:"loading"}),r.jsx("p",{children:"Génération du planning en cours..."})]})}),a&&!o&&r.jsxs("div",{children:[r.jsxs("div",{className:"card",children:[r.jsx("h3",{children:"📊 Résumé par jour"}),r.jsx("div",{style:{overflowX:"auto"},children:r.jsxs("table",{className:"table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Jour"}),r.jsx("th",{children:"Personnel présent"}),r.jsx("th",{children:"Total heures"}),r.jsx("th",{children:"Affluence"})]})}),r.jsx("tbody",{children:c.map(g=>r.jsxs("tr",{children:[r.jsx("td",{style:{fontWeight:"bold"},children:g}),r.jsxs("td",{children:[u(a,g)," personnes"]}),r.jsxs("td",{children:[v(a,g).toFixed(1),"h"]}),r.jsx("td",{children:"2/4"})]},g))})]})})]}),r.jsxs("div",{className:"card",children:[r.jsxs("h3",{children:["📅 Planning détaillé - Semaine ",e," (",n,")"]}),r.jsx("div",{style:{overflowX:"auto"},children:r.jsxs("table",{className:"table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Employé"}),c.map((g,E)=>{const C=p(e,n,E);return r.jsxs("th",{children:[g,r.jsx("br",{}),r.jsx("small",{style:{fontSize:"0.8rem",color:"#666"},children:C})]},g)}),r.jsx("th",{children:"Total semaine"}),r.jsx("th",{children:"Actions"})]})}),r.jsx("tbody",{children:a.map(g=>r.jsxs("tr",{children:[r.jsx("td",{style:{fontWeight:"bold"},children:g.employeeName}),c.map(E=>{const C=g.schedule.find(w=>w.day===E);return r.jsx("td",{children:C&&C.shifts.length>0?r.jsxs("div",{children:[C.shifts.map((w,S)=>{const b=f(w),L=y(b);return r.jsxs("div",{className:"planning-shift",style:{color:L},children:[m(w.startTime)," - ",m(w.endTime),r.jsx("br",{}),r.jsx("small",{style:{color:L},children:b})]},S)}),r.jsxs("small",{style:{color:"#666"},children:[C.totalHours.toFixed(1),"h"]})]}):C&&C.constraint?r.jsx("div",{className:"planning-constraint",style:{color:C.constraint==="MAL"?"#dc3545":"#666",fontWeight:C.constraint==="MAL"?"bold":"normal"},children:C.constraint}):r.jsx("span",{style:{color:"#999"},children:"—"})},E)}),r.jsxs("td",{style:{fontWeight:"bold"},children:[g.schedule.reduce((E,C)=>E+(C.totalHours||0),0).toFixed(1),"h",r.jsx("br",{}),r.jsxs("small",{style:{color:"#666"},children:["/",g.contractedHours,"h"]})]}),r.jsxs("td",{children:[g.status==="generated"&&r.jsx("button",{className:"btn btn-primary",onClick:()=>h(g._id),style:{fontSize:"0.8rem",padding:"0.25rem 0.5rem"},children:"✅ Marquer comme réalisé"}),g.status==="realized"&&r.jsx("span",{className:"badge badge-success",children:"✅ Réalisé"})]})]},g.employeeId))})]})})]})]})]})},ty=()=>{const[e,t]=j.useState(""),[n,s]=j.useState(new Date().getFullYear()),[a,l]=j.useState([]),[o,i]=j.useState({}),[c,d]=j.useState({Lundi:2,Mardi:2,Mercredi:2,Jeudi:2,Vendredi:2,Samedi:2,Dimanche:2}),[p,f]=j.useState(!1),[y,N]=j.useState({}),x=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"],h=[{value:"",label:"Travail normal"},{value:"Fermé",label:"Fermé"},{value:"Matin",label:"Matin seulement"},{value:"Après-midi",label:"Après-midi seulement"},{value:"Repos",label:"Repos"},{value:"Formation",label:"Formation (8h)"},{value:"CP",label:"Congé payé"},{value:"MAL",label:"Maladie"},{value:"ABS",label:"Absence"},{value:"RET",label:"Retard"},{value:"Férié",label:"Jour férié"},{value:"Management",label:"Management"}];j.useEffect(()=>{u();const P=m(new Date);t(P)},[]),j.useEffect(()=>{if(a.length>0&&Object.keys(o).length>0){const _={...o};let P=!1;a.forEach(D=>{D.contractType==="Apprentissage"&&D.trainingDays&&D.trainingDays.forEach(I=>{var z;((z=o[D._id])==null?void 0:z[I])!=="Formation"&&(_[D._id]||(_[D._id]={}),_[D._id][I]="Formation",P=!0)})}),P&&i(_)}},[a,o]);const m=_=>{const P=new Date(Date.UTC(_.getFullYear(),_.getMonth(),_.getDate())),D=P.getUTCDay()||7;P.setUTCDate(P.getUTCDate()+4-D);const I=new Date(Date.UTC(P.getUTCFullYear(),0,1));return Math.ceil(((P-I)/864e5+1)/7)},u=async()=>{try{const _=await U.get("/employees");let P=null;_.data.success&&_.data.data?P=_.data.data:Array.isArray(_.data)&&(P=_.data),P?l(P.filter(D=>D.isActive)):(l([]),A.error("Format de données invalide"))}catch{A.error("Erreur lors du chargement des employés"),l([])}},v=async()=>{try{const _=await U.get(`/constraints/${e}/${n}`),P={};_.data.forEach(D=>{P[D.employeeId._id]=D.constraints}),i(P)}catch{const P={};a.forEach(D=>{P[D._id]={}}),i(P)}};j.useEffect(()=>{e&&n&&v()},[e,n,v]);const g=(_,P,D)=>{i(I=>({...I,[_]:{...I[_],[P]:D}}))},E=(_,P)=>{d(D=>({...D,[_]:parseInt(P)}))},C=(_,P)=>{i(D=>{const I={...D};return a.forEach(z=>{I[z._id]||(I[z._id]={}),I[z._id][_]=P}),I})},w=_=>{i(P=>{const D={...P};return D[_]||(D[_]={}),x.forEach(I=>{D[_][I]="MAL"}),D}),A.success("Maladie appliquée pour toute la semaine")},S=_=>{N(P=>({...P,[_]:!P[_]})),i(P=>{const D={...P};if(D[_]||(D[_]={}),y[_])x.forEach(I=>{D[_][I]=""}),A.success("6j/7 désactivé pour cet employé");else{x.forEach(z=>{D[_][z]=""});const I="Dimanche";D[_][I]="Repos",A.success("6 jours de travail appliqués (1 jour de repos)")}return D})},b=async()=>{f(!0);try{const _=a.map(P=>{const D=o[P._id]||{},I={};return x.forEach(z=>{D[z]&&D[z].trim()!==""&&(I[z]=D[z])}),U.post("/constraints",{weekNumber:parseInt(e),year:parseInt(n),employeeId:P._id,constraints:I})});await Promise.all(_),A.success("Contraintes sauvegardées avec succès")}catch(_){console.error("Erreur détaillée:",_),A.error("Erreur lors de la sauvegarde des contraintes")}finally{f(!1)}},L=async()=>{try{await b(),window.location.href=`/planning?week=${e}&year=${n}`}catch{A.error("Erreur lors de la sauvegarde des contraintes")}},T=_=>({0:"Faible",1:"Moyen-faible",2:"Normal",3:"Moyen-fort",4:"Très fort"})[_]||"Normal",$=_=>({Lundi:1,Mardi:2,Mercredi:3,Jeudi:4,Vendredi:5,Samedi:6,Dimanche:0})[_]||1;return r.jsxs("div",{className:"constraints fade-in",children:[r.jsx("h2",{children:"Contraintes hebdomadaires"}),r.jsx("div",{className:"card",children:r.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem",alignItems:"center"},children:[r.jsxs("div",{className:"form-group",style:{margin:0},children:[r.jsx("label",{children:"Semaine n°"}),r.jsx("input",{type:"number",value:e,onChange:_=>t(_.target.value),min:"1",max:"52",style:{width:"80px"}})]}),r.jsxs("div",{className:"form-group",style:{margin:0},children:[r.jsx("label",{children:"Année"}),r.jsx("input",{type:"number",value:n,onChange:_=>s(_.target.value),min:"2020",max:"2030",style:{width:"100px"}})]}),r.jsx("button",{className:"btn btn-primary",onClick:b,disabled:p,children:p?"Sauvegarde...":"💾 Sauvegarder"})]})}),r.jsxs("div",{className:"card",children:[r.jsx("h3",{children:"🌡️ Niveaux d'affluence"}),r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"1rem"},children:x.map(_=>r.jsxs("div",{className:"form-group",style:{margin:0},children:[r.jsx("label",{children:_}),r.jsxs("select",{value:c[_],onChange:P=>E(_,P.target.value),children:[r.jsx("option",{value:0,children:"Faible (0)"}),r.jsx("option",{value:1,children:"Moyen-faible (1)"}),r.jsx("option",{value:2,children:"Normal (2)"}),r.jsx("option",{value:3,children:"Moyen-fort (3)"}),r.jsx("option",{value:4,children:"Très fort (4)"})]}),r.jsx("small",{style:{color:"#666",display:"block",marginTop:"0.25rem"},children:T(c[_])})]},_))})]}),r.jsxs("div",{className:"card",children:[r.jsx("h3",{children:"👥 Contraintes individuelles"}),r.jsx("div",{style:{overflowX:"auto"},children:r.jsxs("table",{className:"table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Employé"}),x.map(_=>r.jsxs("th",{children:[_,r.jsx("br",{}),r.jsx("button",{className:"btn btn-secondary",onClick:()=>C(_,"Fermé"),style:{fontSize:"0.7rem",padding:"0.25rem 0.5rem",marginTop:"0.25rem"},title:`Fermer ${_} pour tous`,children:"Fermer"}),r.jsx("br",{}),r.jsx("button",{className:"btn btn-warning",onClick:()=>C(_,"Férié"),style:{fontSize:"0.7rem",padding:"0.25rem 0.5rem",marginTop:"0.25rem"},title:`Enregistrer travail jour férié pour ${_}`,children:"Jour férié"})]},_))]})}),r.jsx("tbody",{children:a.map(_=>r.jsxs("tr",{children:[r.jsxs("td",{style:{fontWeight:"bold"},children:[_.name,r.jsx("br",{}),r.jsxs("small",{style:{color:"#666"},children:[_.role," • ",_.weeklyHours,"h"]}),r.jsx("br",{}),r.jsx("button",{className:"btn btn-danger",onClick:()=>w(_._id),style:{fontSize:"0.7rem",padding:"0.25rem 0.5rem",marginTop:"0.25rem"},title:"Déclarer maladie pour toute la semaine",children:"🏥 Maladie"}),r.jsx("br",{}),r.jsx("button",{className:`btn btn-info ${y[_._id]?"active":""}`,onClick:()=>S(_._id),style:{fontSize:"0.7rem",padding:"0.25rem 0.5rem",marginTop:"0.25rem",backgroundColor:y[_._id]?"#17a2b8":"#6c757d",color:"white"},title:y[_._id]?"Désactiver 6j/7":"Appliquer 6 jours de travail (1 jour de repos)",children:y[_._id]?"✅ 6j/7":"📅 6j/7"})]}),x.map(P=>{var D,I;return r.jsx("td",{children:(D=_.sickLeave)!=null&&D.isOnSickLeave&&new Date(_.sickLeave.startDate)<=new Date(`${n}-${String(parseInt(e)+1).padStart(2,"0")}-${$(P)}`)&&new Date(_.sickLeave.endDate)>=new Date(`${n}-${String(parseInt(e)+1).padStart(2,"0")}-${$(P)}`)?r.jsx("div",{style:{backgroundColor:"#f8d7da",color:"#721c24",padding:"0.5rem",borderRadius:"4px",textAlign:"center",fontWeight:"bold"},children:"🏥 Maladie"}):r.jsx("select",{value:((I=o[_._id])==null?void 0:I[P])||"",onChange:z=>g(_._id,P,z.target.value),style:{width:"100%",fontSize:"0.9rem"},children:h.map(z=>r.jsx("option",{value:z.value,children:z.label},z.value))})},P)})]},_._id))})]})})]}),r.jsxs("div",{className:"card",children:[r.jsx("h3",{children:"📋 Actions"}),r.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[r.jsx("button",{className:"btn btn-success",onClick:L,disabled:p,children:p?"⏳ Sauvegarde...":"🎯 Générer le planning"}),r.jsx("button",{className:"btn btn-secondary",onClick:()=>{const _=parseInt(e)+1;t(_>52?1:_),_>52&&s(n+1)},children:"Semaine suivante"}),r.jsx("button",{className:"btn btn-secondary",onClick:()=>{const _=parseInt(e)-1;t(_<1?52:_),_<1&&s(n-1)},children:"Semaine précédente"})]})]})]})},ny=()=>{const[e,t]=j.useState([]),[n,s]=j.useState(!0),[a,l]=j.useState([]);j.useEffect(()=>{o(),i()},[]);const o=async()=>{try{s(!0);const x=await U.get("/employees");let h=null;x.data.success&&x.data.data?h=x.data.data:Array.isArray(x.data)&&(h=x.data),h?t(h):(t([]),console.error("Format de données invalide:",x.data))}catch(x){console.error("Erreur lors du chargement du tableau de bord:",x),t([])}finally{s(!1)}},i=async()=>{try{const x=await U.get("/onboarding-offboarding/pending-obligations");x.data.success&&x.data.data&&l(x.data.data)}catch(x){console.error("Erreur lors du chargement des obligations légales:",x),l([])}},c=e.filter(x=>{var h,m;if(!((h=x.sickLeave)!=null&&h.isOnSickLeave))return!1;if((m=x.sickLeave)!=null&&m.endDate){const u=new Date(x.sickLeave.endDate);if(Math.floor((new Date-u)/(1e3*60*60*24))>8)return!1}return!0}),d=e.filter(x=>{var h,m;if(!((h=x.vacation)!=null&&h.isOnVacation))return!1;if((m=x.vacation)!=null&&m.startDate){const u=new Date(x.vacation.startDate);if(Math.floor((u-new Date)/(1e3*60*60*24))>8)return!1}return!0}),p=e.filter(x=>x.age<18),f=e.filter(x=>x.contractType==="Apprentissage"),y=x=>x?new Date(x).toLocaleDateString("fr-FR"):"-",N=x=>{if(!x)return 0;const u=new Date(x)-new Date;return Math.ceil(u/(1e3*60*60*24))};return n?r.jsx("div",{className:"card",children:r.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[r.jsx("div",{className:"loading"}),r.jsx("p",{children:"Chargement du tableau de bord..."})]})}):r.jsxs("div",{className:"dashboard fade-in",children:[r.jsx("h2",{children:"📊 Tableau de bord"}),r.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[r.jsx("h3",{children:"🏥 Récapitulatif : Arrêts maladie"}),c.length===0?r.jsx("p",{children:"Aucun employé en arrêt maladie"}):r.jsx("div",{style:{overflowX:"auto"},children:r.jsxs("table",{className:"table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Nom"}),r.jsx("th",{children:"Date de reprise"}),r.jsx("th",{children:"Jours avant reprise"})]})}),r.jsx("tbody",{children:c.map(x=>{var h;return r.jsxs("tr",{children:[r.jsx("td",{children:x.name}),r.jsx("td",{children:y((h=x.sickLeave)==null?void 0:h.endDate)}),r.jsx("td",{children:(()=>{var u;const m=N((u=x.sickLeave)==null?void 0:u.endDate);return r.jsx("span",{style:{color:m>0?"#28a745":"#dc3545",fontWeight:"bold"},children:m>0?`${m} jours`:"Repris"})})()})]},x._id)})})]})})]}),r.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[r.jsx("h3",{children:"🏖️ Récapitulatif : Congés"}),d.length===0?r.jsx("p",{children:"Aucun employé en congés dans les 8 prochains jours"}):r.jsx("div",{style:{overflowX:"auto"},children:r.jsxs("table",{className:"table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Nom"}),r.jsx("th",{children:"Date de début"}),r.jsx("th",{children:"Date de fin"}),r.jsx("th",{children:"Jours avant congés"})]})}),r.jsx("tbody",{children:d.map(x=>{var h,m;return r.jsxs("tr",{children:[r.jsx("td",{children:x.name}),r.jsx("td",{children:y((h=x.vacation)==null?void 0:h.startDate)}),r.jsx("td",{children:y((m=x.vacation)==null?void 0:m.endDate)}),r.jsx("td",{children:(()=>{var v;const u=N((v=x.vacation)==null?void 0:v.startDate);return r.jsx("span",{style:{color:u>0?"#ffc107":"#28a745",fontWeight:"bold"},children:u>0?`${u} jours`:"En congés"})})()})]},x._id)})})]})})]}),r.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[r.jsx("h3",{children:"🎂 État Âge : Salariés mineurs"}),p.length===0?r.jsx("p",{children:"Aucun employé mineur"}):r.jsx("div",{style:{overflowX:"auto"},children:r.jsxs("table",{className:"table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Nom"}),r.jsx("th",{children:"Date des 18 ans"}),r.jsx("th",{children:"Jours avant les 18 ans"})]})}),r.jsx("tbody",{children:p.map(x=>r.jsxs("tr",{children:[r.jsx("td",{children:x.name}),r.jsx("td",{children:(()=>{const m=18-x.age,u=new Date,v=new Date(u.getFullYear()+m,u.getMonth(),u.getDate());return y(v)})()}),r.jsx("td",{children:(()=>{const m=18-x.age,u=new Date,v=new Date(u.getFullYear()+m,u.getMonth(),u.getDate()),g=N(v);return r.jsx("span",{style:{color:g>0?"#ffc107":"#28a745",fontWeight:"bold"},children:g>0?`${g} jours`:"Majeur"})})()})]},x._id))})]})})]}),r.jsxs("div",{className:"card",children:[r.jsx("h3",{children:"📋 État Contrat : Apprentis"}),f.length===0?r.jsx("p",{children:"Aucun apprenti"}):r.jsx("div",{style:{overflowX:"auto"},children:r.jsxs("table",{className:"table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Nom"}),r.jsx("th",{children:"Date de fin de contrat"}),r.jsx("th",{children:"Jours avant fin de contrat"})]})}),r.jsx("tbody",{children:f.map(x=>r.jsxs("tr",{children:[r.jsx("td",{children:x.name}),r.jsx("td",{children:y(x.contractEndDate)}),r.jsx("td",{children:(()=>{const h=N(x.contractEndDate);return r.jsx("span",{style:{color:h>30?"#28a745":h>7?"#ffc107":"#dc3545",fontWeight:"bold"},children:h>0?`${h} jours`:"Terminé"})})()})]},x._id))})]})})]}),r.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[r.jsx("h3",{children:"⚖️ Obligations Légales"}),a.length===0?r.jsxs("div",{style:{textAlign:"center",padding:"2rem",backgroundColor:"#d4edda",color:"#155724",borderRadius:"8px",border:"1px solid #c3e6cb"},children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:"48px",height:"48px",marginBottom:"1rem"},children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),r.jsx("p",{style:{fontWeight:"bold",fontSize:"1.1rem"},children:"✅ Toutes les obligations légales sont à jour !"})]}):r.jsxs("div",{style:{overflowX:"auto"},children:[r.jsx("div",{style:{padding:"0.75rem",backgroundColor:"#fff3cd",color:"#856404",borderRadius:"8px",marginBottom:"1rem",border:"1px solid #ffeaa7"},children:r.jsxs("strong",{children:["⚠️ ",a.length," démarche(s) administrative(s) en attente"]})}),r.jsxs("table",{className:"table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Employé"}),r.jsx("th",{children:"Démarche"}),r.jsx("th",{children:"Commentaire"})]})}),r.jsx("tbody",{children:a.map((x,h)=>r.jsxs("tr",{children:[r.jsx("td",{style:{fontWeight:"bold"},children:x.employeeName}),r.jsx("td",{children:r.jsx("span",{style:{padding:"0.25rem 0.75rem",backgroundColor:"#f8d7da",color:"#721c24",borderRadius:"4px",fontSize:"0.9rem",fontWeight:"500"},children:x.taskLabel})}),r.jsx("td",{style:{color:"#6c757d",fontStyle:"italic"},children:x.comment||"-"})]},h))})]})]})]}),r.jsxs("div",{className:"card",children:[r.jsx("h3",{children:"📈 Statistiques générales"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[r.jsxs("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[r.jsx("h4",{children:e.length}),r.jsx("p",{children:"Total employés"})]}),r.jsxs("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[r.jsx("h4",{children:e.filter(x=>x.isActive).length}),r.jsx("p",{children:"Employés actifs"})]}),r.jsxs("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[r.jsx("h4",{children:c.length}),r.jsx("p",{children:"En arrêt maladie"})]}),r.jsxs("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[r.jsx("h4",{children:d.length}),r.jsx("p",{children:"En congés (8j)"})]}),r.jsxs("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[r.jsx("h4",{children:p.length}),r.jsx("p",{children:"Employés mineurs"})]}),r.jsxs("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[r.jsx("h4",{children:f.length}),r.jsx("p",{children:"Apprentis"})]}),r.jsxs("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"#fff3cd",borderRadius:"8px",border:"2px solid #ffc107"},children:[r.jsx("h4",{style:{color:"#856404"},children:a.length}),r.jsx("p",{style:{color:"#856404"},children:"Obligations légales"})]})]})]})]})},ry=()=>{const[n,s]=j.useState([]),[a,l]=j.useState({}),[o,i]=j.useState(""),[c,d]=j.useState(new Date().getFullYear()),[p,f]=j.useState({}),[y,N]=j.useState(!1);j.useEffect(()=>{const w=new Date,S=String(w.getMonth()+1).padStart(2,"0"),b=w.getFullYear();i(S),d(b)},[]),j.useEffect(()=>{x()},[]);const x=async()=>{try{const w=await fetch("https://boulangerie-planning-api-4-pbfy.onrender.com/api/employees");if(w.ok){const S=await w.json();let b=[];Array.isArray(S)?b=S:S.success&&Array.isArray(S.data)?b=S.data:S.employees&&Array.isArray(S.employees)&&(b=S.employees),s(b),console.log("✅ Employés chargés pour SalesStats:",b.length,b);const L={};b.forEach(T=>{L[T._id]={caNetHt:0,nbClients:0,panierMoyen:0,nbMenus:0,nbCartesFid:0,nbAvisPositifs:0,nbAvisNegatifs:0}}),l(L)}}catch(w){console.error("Erreur lors du chargement des employés:",w)}},h=(w,S,b)=>{l(L=>({...L,[w]:{...L[w],[S]:parseFloat(b)||0}}))},m=w=>w.caNetHt+w.nbCartesFid*500+w.nbAvisPositifs*100-w.nbAvisNegatifs*300,u=async()=>{N(!0);try{const w={month:parseInt(o),year:c,salesData:a},S=await fetch("https://boulangerie-planning-api-4-pbfy.onrender.com/api/sales-stats",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)});if(S.ok){const b=await S.json();console.log("✅ Données sauvegardées:",b),await v(),await g(),alert("Données de vente sauvegardées avec succès !")}else{const b=await S.json();console.error("❌ Erreur API:",b),alert(`Erreur lors de la sauvegarde: ${b.error||"Erreur inconnue"}`)}}catch(w){console.error("Erreur lors de la sauvegarde:",w),alert("Erreur lors de la sauvegarde")}finally{N(!1)}},v=j.useCallback(async()=>{try{const w=await fetch(`https://boulangerie-planning-api-4-pbfy.onrender.com/api/sales-stats/period/${o}/${c}`);if(w.ok){const S=await w.json();if(S.success&&S.data&&S.data.salesData){const b={},L={};n.forEach(T=>{L[T.name]=T._id}),Object.keys(S.data.salesData).forEach(T=>{const $=S.data.salesData[T],_=$.employeeName,P=L[_];P&&(b[P]={caNetHt:$.caNetHt||0,nbClients:$.nbClients||0,panierMoyen:$.panierMoyen||0,nbMenus:$.nbMenus||0,nbCartesFid:$.nbCartesFid||0,nbAvisPositifs:$.nbAvisPositifs||0,nbAvisNegatifs:$.nbAvisNegatifs||0})}),l(b),console.log("✅ Données rechargées par nom:",b)}}}catch(w){console.error("Erreur lors du chargement des données de la période:",w)}},[o,c]);j.useEffect(()=>{n.length>0&&o&&c&&v()},[n,o,c,v]);const g=j.useCallback(async()=>{try{const w=await fetch(`https://boulangerie-planning-api-4-pbfy.onrender.com/api/sales-stats/monthly/${c}`);if(w.ok){const S=await w.json();S.success&&f(S.data||{})}}catch(w){console.error("Erreur lors du chargement des stats mensuelles:",w)}},[c]);j.useEffect(()=>{c&&g()},[c,g]),j.useEffect(()=>{o&&c&&(l({}),v())},[o,c,v]);const E=w=>["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"][parseInt(w)-1],C=()=>Array.from({length:8},(w,S)=>{const b=new Date().getFullYear()-3+S;return r.jsx("option",{value:b,children:b},b)});return r.jsxs("div",{className:"sales-stats-container",children:[r.jsxs("div",{className:"sales-stats-header",children:[r.jsx("h1",{children:"📊 Statistiques de Vente"}),r.jsxs("div",{className:"period-selector",children:[r.jsx("select",{value:o,onChange:w=>i(w.target.value),className:"month-select",children:Array.from({length:12},(w,S)=>r.jsx("option",{value:String(S+1).padStart(2,"0"),children:E(String(S+1).padStart(2,"0"))},S+1))}),r.jsx("select",{value:c,onChange:w=>d(parseInt(w.target.value)),className:"year-select",children:C()}),r.jsx("button",{onClick:()=>{l({}),v()},className:"refresh-button",title:"Actualiser les données du mois sélectionné",children:"🔄 Actualiser"})]})]}),r.jsxs("div",{className:"sales-stats-content",children:[r.jsxs("div",{className:"sales-form-section",children:[r.jsx("h2",{children:"📝 Saisie des données mensuelles"}),r.jsxs("div",{className:"sales-form",children:[r.jsxs("table",{className:"sales-form-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Vendeuse"}),r.jsx("th",{children:"CA Net HT"}),r.jsx("th",{children:"Nb Clients"}),r.jsx("th",{children:"Panier Moyen"}),r.jsx("th",{children:"Nb Menus"}),r.jsx("th",{children:"Nb Cartes Fid"}),r.jsx("th",{children:"Nb Avis +"}),r.jsx("th",{children:"Nb Avis -"}),r.jsx("th",{children:"Score"}),r.jsx("th",{children:"Actions"})]})}),r.jsx("tbody",{children:(console.log("🔍 Rendu tableau SalesStats - employés:",n.length,n),Array.isArray(n)&&n.length>0?n.map(w=>{var S,b,L,T,$,_,P;return r.jsxs("tr",{children:[r.jsx("td",{className:"employee-name",children:w.name}),r.jsx("td",{children:r.jsx("input",{type:"number",value:((S=a[w._id])==null?void 0:S.caNetHt)||0,onChange:D=>h(w._id,"caNetHt",D.target.value),placeholder:"0",min:"0",step:"0.01"})}),r.jsx("td",{children:r.jsx("input",{type:"number",value:((b=a[w._id])==null?void 0:b.nbClients)||0,onChange:D=>h(w._id,"nbClients",D.target.value),placeholder:"0",min:"0"})}),r.jsx("td",{children:r.jsx("input",{type:"number",value:((L=a[w._id])==null?void 0:L.panierMoyen)||0,onChange:D=>h(w._id,"panierMoyen",D.target.value),placeholder:"0",min:"0",step:"0.01"})}),r.jsx("td",{children:r.jsx("input",{type:"number",value:((T=a[w._id])==null?void 0:T.nbMenus)||0,onChange:D=>h(w._id,"nbMenus",D.target.value),placeholder:"0",min:"0"})}),r.jsx("td",{children:r.jsx("input",{type:"number",value:(($=a[w._id])==null?void 0:$.nbCartesFid)||0,onChange:D=>h(w._id,"nbCartesFid",D.target.value),placeholder:"0",min:"0"})}),r.jsx("td",{children:r.jsx("input",{type:"number",value:((_=a[w._id])==null?void 0:_.nbAvisPositifs)||0,onChange:D=>h(w._id,"nbAvisPositifs",D.target.value),placeholder:"0",min:"0"})}),r.jsx("td",{children:r.jsx("input",{type:"number",value:((P=a[w._id])==null?void 0:P.nbAvisNegatifs)||0,onChange:D=>h(w._id,"nbAvisNegatifs",D.target.value),placeholder:"0",min:"0"})}),r.jsx("td",{className:"score-cell",children:r.jsx("strong",{children:m(a[w._id]||{}).toFixed(0)})}),r.jsx("td",{className:"actions-cell",children:r.jsx("button",{onClick:()=>{if(window.confirm(`⚠️ Êtes-vous sûr de vouloir effacer les données de ${w.name} pour ce mois ?`)){const D={...a};D[w._id]={caNetHt:0,nbClients:0,panierMoyen:0,nbMenus:0,nbCartesFid:0,nbAvisPositifs:0,nbAvisNegatifs:0},l(D)}},className:"delete-employee-button",title:`Effacer les données de ${w.name}`,children:"🗑️"})})]},w._id)}):r.jsx("tr",{children:r.jsx("td",{colSpan:"10",style:{textAlign:"center",padding:"20px"},children:"Aucun employé trouvé"})}))})]}),r.jsx("div",{className:"form-actions",children:r.jsx("button",{onClick:u,disabled:y,className:"save-button",children:y?"💾 Sauvegarde...":"💾 Sauvegarder"})})]})]}),r.jsxs("div",{className:"ranking-section",children:[r.jsx("h2",{children:"🏆 Classement des Vendeuses"}),r.jsx("div",{className:"ranking-header",children:r.jsxs("div",{className:"ranking-selectors",children:[r.jsxs("div",{className:"selector-group",children:[r.jsx("label",{children:"Mois :"}),r.jsx("select",{value:o,onChange:w=>i(w.target.value),className:"month-select-ranking",children:Array.from({length:12},(w,S)=>r.jsx("option",{value:String(S+1).padStart(2,"0"),children:E(String(S+1).padStart(2,"0"))},S+1))})]}),r.jsxs("div",{className:"selector-group",children:[r.jsx("label",{children:"Année :"}),r.jsx("select",{value:c,onChange:w=>d(parseInt(w.target.value)),className:"year-select-ranking",children:C()})]})]})}),r.jsxs("div",{className:"ranking-table",children:[r.jsxs("table",{children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Rang"}),r.jsx("th",{children:"Vendeuse"}),r.jsx("th",{children:"Score"}),r.jsx("th",{children:"CA Net HT"}),r.jsx("th",{children:"Cartes Fid"}),r.jsx("th",{children:"Avis +"}),r.jsx("th",{children:"Avis -"})]})}),r.jsx("tbody",{children:n.map(w=>{const S=a[w._id]||{},b=m(S);return{emp:w,data:S,score:b}}).sort((w,S)=>S.score-w.score).map(({emp:w,data:S,score:b},L)=>r.jsxs("tr",{className:L<3?"top-three":"",children:[r.jsxs("td",{className:"rank",children:["#",L+1]}),r.jsx("td",{className:"employee-name",children:w.name}),r.jsx("td",{className:"score",children:r.jsx("strong",{children:b.toFixed(0)})}),r.jsxs("td",{children:[S.caNetHt||0,"€"]}),r.jsx("td",{children:S.nbCartesFid||0}),r.jsx("td",{className:"positive",children:S.nbAvisPositifs||0}),r.jsx("td",{className:"negative",children:S.nbAvisNegatifs||0})]},w._id))})]}),r.jsxs("div",{className:"annual-total",children:[r.jsxs("h3",{children:["📊 Total Année ",c]}),r.jsxs("div",{className:"total-stats",children:[r.jsxs("div",{className:"total-item",children:[r.jsx("span",{className:"total-label",children:"CA Total :"}),r.jsxs("span",{className:"total-value",children:[n.reduce((w,S)=>{var b;return w+(((b=a[S._id])==null?void 0:b.caNetHt)||0)},0).toFixed(2),"€"]})]}),r.jsxs("div",{className:"total-item",children:[r.jsx("span",{className:"total-label",children:"Cartes Fid Total :"}),r.jsx("span",{className:"total-value",children:n.reduce((w,S)=>{var b;return w+(((b=a[S._id])==null?void 0:b.nbCartesFid)||0)},0)})]}),r.jsxs("div",{className:"total-item",children:[r.jsx("span",{className:"total-label",children:"Avis + Total :"}),r.jsx("span",{className:"total-value positive",children:n.reduce((w,S)=>{var b;return w+(((b=a[S._id])==null?void 0:b.nbAvisPositifs)||0)},0)})]}),r.jsxs("div",{className:"total-item",children:[r.jsx("span",{className:"total-label",children:"Avis - Total :"}),r.jsx("span",{className:"total-value negative",children:n.reduce((w,S)=>{var b;return w+(((b=a[S._id])==null?void 0:b.nbAvisNegatifs)||0)},0)})]})]})]})]})]}),r.jsxs("div",{className:"monthly-comparison-section",children:[r.jsx("h2",{children:"📈 Comparaison sur 12 mois"}),r.jsx("div",{className:"monthly-comparison-header",children:r.jsxs("div",{className:"year-selector",children:[r.jsx("label",{children:"Année :"}),r.jsx("select",{value:c,onChange:w=>d(parseInt(w.target.value)),className:"year-select-compare",children:C()})]})}),r.jsx("div",{className:"monthly-stats",children:r.jsxs("table",{children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Mois"}),r.jsx("th",{children:"CA Total"}),r.jsx("th",{children:"Clients Total"}),r.jsx("th",{children:"Cartes Fid Total"}),r.jsx("th",{children:"Avis + Total"}),r.jsx("th",{children:"Avis - Total"})]})}),r.jsx("tbody",{children:Array.from({length:12},(w,S)=>{const b=String(S+1).padStart(2,"0"),L=p[b]||{};return r.jsxs("tr",{className:b===o?"current-month":"",children:[r.jsx("td",{children:E(b)}),r.jsxs("td",{children:[L.totalCA||0,"€"]}),r.jsx("td",{children:L.totalClients||0}),r.jsx("td",{children:L.totalCartesFid||0}),r.jsx("td",{className:"positive",children:L.totalAvisPositifs||0}),r.jsx("td",{className:"negative",children:L.totalAvisNegatifs||0})]},b)})})]})})]})]})]})},sy=({employees:e})=>{const[t,n]=j.useState("month"),[s,a]=j.useState(new Date().getMonth()+1),[l,o]=j.useState(new Date().getFullYear()),[i,c]=j.useState({total:{absences:0,sickLeave:0,delays:0,total:0},byEmployee:[]}),d=j.useCallback(()=>{try{if(!Array.isArray(e)){console.log("⚠️ employees n'est pas un tableau:",typeof e,e),c({total:{absences:0,sickLeave:0,delays:0,total:0},byEmployee:[]});return}let f,y;switch(t){case"year":f=new Date(l,0,1),y=new Date(l,11,31);break;case"month":f=new Date(l,s-1,1),y=new Date(l,s,0);break;case"week":const h=new Date,m=new Date(h);m.setDate(h.getDate()-h.getDay()+1);const u=new Date(m);u.setDate(m.getDate()+6),f=m,y=u;break;default:f=new Date(l,s-1,1),y=new Date(l,s,0)}console.log("📅 Période sélectionnée:",{selectedPeriod:t,startDate:f,endDate:y}),console.log("👥 Nombre d'employés:",e.length),console.log("🔍 Debug complet des employés:"),e.forEach((h,m)=>{console.log(`👤 Employé ${m+1} (${h.name}):`,{name:h.name,sickLeave:h.sickLeave,isOnSickLeave:h.isOnSickLeave,startDate:h.startDate,endDate:h.endDate,absences:h.absences,sickLeaves:h.sickLeaves,delays:h.delays})});const N=e.map(h=>{var S,b,L,T,$,_;const m=((S=h.absences)==null?void 0:S.all)||h.absences||[],u=((b=h.sickLeaves)==null?void 0:b.all)||h.sickLeaves||[],v=((L=h.delays)==null?void 0:L.all)||h.delays||[],g=Array.isArray(m)?m.filter(P=>{const D=new Date(P.date);return D>=f&&D<=y}):[];let E=[];if((T=h.sickLeave)!=null&&T.isOnSickLeave&&(($=h.sickLeave)!=null&&$.startDate)&&((_=h.sickLeave)!=null&&_.endDate)){const P=new Date(h.sickLeave.startDate),D=new Date(h.sickLeave.endDate);P<=y&&D>=f&&E.push({startDate:h.sickLeave.startDate,endDate:h.sickLeave.endDate})}const C=m.filter(P=>P.type==="Arrêt maladie"&&new Date(P.startDate)<=y&&new Date(P.endDate)>=f);if(E=E.concat(C),Array.isArray(u)){const P=u.filter(D=>{const I=new Date(D.startDate),z=new Date(D.endDate);return I<=y&&z>=f});E=[...E,...P]}const w=Array.isArray(v)?v.filter(P=>{const D=new Date(P.date);return D>=f&&D<=y}):[];return{id:h._id,name:h.name,absences:g.length,sickLeave:E.reduce((P,D)=>{const I=new Date(D.startDate),z=new Date(D.endDate),Q=Math.ceil((z-I)/(1e3*60*60*24))+1;return P+Q},0),delays:w.length,total:g.length+E.length+w.length}}),x=N.reduce((h,m)=>({absences:h.absences+m.absences,sickLeave:h.sickLeave+m.sickLeave,delays:h.delays+m.delays,total:h.total+m.total}),{absences:0,sickLeave:0,delays:0,total:0});c({total:x,byEmployee:N})}catch(f){console.error("❌ Erreur dans calculateAbsenceStats:",f),console.error("❌ Type d'erreur:",f.name,f.message),console.error("❌ Stack trace:",f.stack),c({total:{absences:0,sickLeave:0,delays:0,total:0},byEmployee:[]})}},[e,t,s,l]);j.useEffect(()=>{d()},[d]);const p=()=>{const f=new Date;switch(t){case"year":return`${f.getFullYear()}`;case"month":return`${f.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}`;case"week":const y=new Date(f);y.setDate(f.getDate()-f.getDay()+1);const N=new Date(y);return N.setDate(y.getDate()+6),`Semaine du ${y.toLocaleDateString("fr-FR")} au ${N.toLocaleDateString("fr-FR")}`;default:return`${f.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}`}};return r.jsxs("div",{className:"absence-status",children:[r.jsxs("div",{className:"status-header",children:[r.jsx("h2",{children:"📊 État des absences"}),r.jsxs("div",{className:"period-selector",children:[r.jsx("button",{className:`period-btn ${t==="month"?"active":""}`,onClick:()=>n("month"),children:"Mois"}),r.jsx("button",{className:`period-btn ${t==="year"?"active":""}`,onClick:()=>n("year"),children:"Année"}),r.jsx("button",{className:`period-btn ${t==="week"?"active":""}`,onClick:()=>n("week"),children:"Semaine"})]}),r.jsxs("div",{className:"date-selectors",children:[r.jsxs("div",{className:"date-selector",children:[r.jsx("label",{children:"Mois"}),r.jsxs("select",{value:s,onChange:f=>a(parseInt(f.target.value)),className:"form-control",children:[r.jsx("option",{value:1,children:"Janvier"}),r.jsx("option",{value:2,children:"Février"}),r.jsx("option",{value:3,children:"Mars"}),r.jsx("option",{value:4,children:"Avril"}),r.jsx("option",{value:5,children:"Mai"}),r.jsx("option",{value:6,children:"Juin"}),r.jsx("option",{value:7,children:"Juillet"}),r.jsx("option",{value:8,children:"Août"}),r.jsx("option",{value:9,children:"Septembre"}),r.jsx("option",{value:10,children:"Octobre"}),r.jsx("option",{value:11,children:"Novembre"}),r.jsx("option",{value:12,children:"Décembre"})]})]}),r.jsxs("div",{className:"date-selector",children:[r.jsx("label",{children:"Année"}),r.jsxs("select",{value:l,onChange:f=>o(parseInt(f.target.value)),className:"form-control",children:[r.jsx("option",{value:2024,children:"2024"}),r.jsx("option",{value:2025,children:"2025"}),r.jsx("option",{value:2026,children:"2026"})]})]})]})]}),r.jsxs("div",{className:"stats-grid",children:[r.jsxs("div",{className:"stat-card total",children:[r.jsx("div",{className:"stat-icon",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14h-2v-2h2v2zm0-4h-2V7h2v6z"})})}),r.jsxs("div",{className:"stat-content",children:[r.jsx("h3",{className:"stat-value",children:i.total.total}),r.jsx("p",{className:"stat-label",children:"Total des absences"}),r.jsx("p",{className:"stat-period",children:p()})]})]}),r.jsxs("div",{className:"stat-card maladie",children:[r.jsx("div",{className:"stat-icon",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14h-2v-2h2v2zm0-4h-2V7h2v6z"})})}),r.jsxs("div",{className:"stat-content",children:[r.jsx("h3",{className:"stat-value",children:i.total.sickLeave}),r.jsx("p",{className:"stat-label",children:"Arrêts maladie"}),r.jsx("p",{className:"stat-period",children:p()})]})]}),r.jsxs("div",{className:"stat-card absence",children:[r.jsx("div",{className:"stat-icon",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14h-2v-2h2v2zm0-4h-2V7h2v6z"})})}),r.jsxs("div",{className:"stat-content",children:[r.jsx("h3",{className:"stat-value",children:i.total.absences}),r.jsx("p",{className:"stat-label",children:"Absences"}),r.jsx("p",{className:"stat-period",children:p()})]})]}),r.jsxs("div",{className:"stat-card retard",children:[r.jsx("div",{className:"stat-icon",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),r.jsxs("div",{className:"stat-content",children:[r.jsx("h3",{className:"stat-value",children:i.total.delays}),r.jsx("p",{className:"stat-label",children:"Retards"}),r.jsx("p",{className:"stat-period",children:p()})]})]})]}),r.jsxs("div",{className:"employee-details",children:[r.jsx("h3",{children:"Détail par employé"}),i.byEmployee.length>0?r.jsx("div",{className:"employee-stats",children:i.byEmployee.map(f=>r.jsxs("div",{className:"employee-stat-card",children:[r.jsxs("div",{className:"employee-info",children:[r.jsx("h4",{className:"employee-name",children:f.name}),r.jsx("span",{className:"employee-role",children:f.role})]}),r.jsxs("div",{className:"employee-stats-grid",children:[r.jsxs("div",{className:"mini-stat",children:[r.jsx("span",{className:"mini-stat-value",children:f.total}),r.jsx("span",{className:"mini-stat-label",children:"Total"})]}),r.jsxs("div",{className:"mini-stat maladie",children:[r.jsx("span",{className:"mini-stat-value",children:f.sickLeave}),r.jsx("span",{className:"mini-stat-label",children:"Maladie"})]}),r.jsxs("div",{className:"mini-stat absence",children:[r.jsx("span",{className:"mini-stat-value",children:f.absences}),r.jsx("span",{className:"mini-stat-label",children:"Absence"})]}),r.jsxs("div",{className:"mini-stat retard",children:[r.jsx("span",{className:"mini-stat-value",children:f.delays}),r.jsx("span",{className:"mini-stat-label",children:"Retard"})]})]})]},f.id))}):r.jsxs("div",{className:"no-data",children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"no-data-icon",children:r.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14h-2v-2h2v2zm0-4h-2V7h2v6z"})}),r.jsx("p",{children:"Aucune absence enregistrée pour cette période"})]})]})]})},ay=()=>{const[e,t]=j.useState([]),[n,s]=j.useState(!0),[a,l]=j.useState("status"),[o,i]=j.useState(!1),[c,d]=j.useState(!1);j.useEffect(()=>{p()},[]);const p=async()=>{var N,x,h;try{s(!0);const m=await U.get("/employees");if(console.log("📊 Données employés reçues:",m.data),m.data&&m.data.length>0){const v=m.data[0];console.log("🔍 Premier employé:",{id:v._id,name:v.name,hasAbsences:!!v.absences,hasSickLeaves:!!v.sickLeaves,hasDelays:!!v.delays,absencesCount:((N=v.absences)==null?void 0:N.length)||0,sickLeavesCount:((x=v.sickLeaves)==null?void 0:x.length)||0,delaysCount:((h=v.delays)==null?void 0:h.length)||0})}let u=null;m.data.success&&Array.isArray(m.data.data)?u=m.data.data:Array.isArray(m.data)&&(u=m.data),u?(t(u),console.log("✅ Employés chargés:",u.length)):(console.error("❌ Format de données invalide:",m.data),t([]))}catch(m){A.error("Erreur lors du chargement des employés"),console.error(m)}finally{s(!1)}};if(n)return r.jsx("div",{className:"absence-status-page",children:r.jsxs("div",{className:"loading-container",children:[r.jsx("div",{className:"loading-spinner"}),r.jsx("p",{children:"Chargement des données d'absences..."})]})});const f=async N=>{try{console.log("📋 Sauvegarde déclaration:",N),N.type==="maladie"?(await U.post("/sick-leaves",N),A.success("Arrêt maladie déclaré avec succès")):(await U.post("/absences",N),A.success("Absence déclarée avec succès")),p()}catch(x){console.error("❌ Erreur sauvegarde déclaration:",x),A.error("Erreur lors de la déclaration")}},y=async N=>{try{console.log("🕐 Sauvegarde retard:",N),await U.post("/delays",N),A.success("Retard déclaré avec succès"),p()}catch(x){console.error("❌ Erreur sauvegarde retard:",x),A.error("Erreur lors de la déclaration du retard")}};return r.jsxs("div",{className:"absence-status-page",children:[r.jsx("div",{className:"tabs-container",children:r.jsxs("div",{className:"tabs-header",children:[r.jsx("button",{className:`tab-button ${a==="status"?"active":""}`,onClick:()=>l("status"),children:"📊 État des absences"}),r.jsx("button",{className:`tab-button ${a==="declare-maladie"?"active":""}`,onClick:()=>l("declare-maladie"),children:"🏥 Déclarer maladie/absence"}),r.jsx("button",{className:`tab-button ${a==="declare-delay"?"active":""}`,onClick:()=>l("declare-delay"),children:"🕐 Déclarer retard"})]})}),r.jsxs("div",{className:"tab-content",children:[a==="status"&&r.jsx(sy,{employees:e}),a==="declare-maladie"&&r.jsxs("div",{className:"declaration-section",children:[r.jsxs("div",{className:"declaration-header",children:[r.jsx("h2",{children:"🏥 Déclaration d'arrêt maladie ou d'absence"}),r.jsx("p",{children:"Utilisez ce formulaire pour déclarer un arrêt maladie ou une absence pour un employé."})]}),r.jsxs("button",{className:"btn btn-primary declaration-btn",onClick:()=>i(!0),children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"btn-icon",children:r.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14h-2v-2h2v2zm0-4h-2V7h2v6z"})}),"Ouvrir le formulaire de déclaration"]})]}),a==="declare-delay"&&r.jsxs("div",{className:"declaration-section",children:[r.jsxs("div",{className:"declaration-header",children:[r.jsx("h2",{children:"🕐 Déclaration de retard"}),r.jsx("p",{children:"Utilisez ce formulaire pour déclarer un retard pour un employé."})]}),r.jsxs("button",{className:"btn btn-primary declaration-btn",onClick:()=>d(!0),children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"btn-icon",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),"Ouvrir le formulaire de retard"]})]})]}),r.jsx(jf,{show:o,onClose:()=>i(!1),onSave:f,employees:e}),r.jsx(bf,{show:c,onClose:()=>d(!1),onSave:y,employees:e})]})},ly=()=>{const[e,t]=j.useState([]),[n,s]=j.useState(!1),[a,l]=j.useState(!1),[o,i]=j.useState(new Date().getMonth()+1),[c,d]=j.useState(new Date().getFullYear()),p=j.useCallback(async()=>{s(!0);try{const m=await U.get(`/meal-expenses?month=${o}&year=${c}`);console.log("📊 Données frais repas reçues:",m.data);let u=[];Array.isArray(m.data)?u=m.data:m.data.success&&Array.isArray(m.data.data)?u=m.data.data:m.data.expenses&&Array.isArray(m.data.expenses)&&(u=m.data.expenses),t(u),console.log("✅ Frais repas chargés:",u.length,"employés,",h,"jours")}catch(m){console.error("Erreur lors du chargement des frais repas:",m),A.error("Erreur lors du chargement des frais repas")}finally{s(!1)}},[o,c]);j.useEffect(()=>{p()},[p]);const f=(m,u,v)=>{const g=[...e],E=g[m];let C=E.dailyExpenses.find(w=>w.day===u);C||(C={day:u,amount:0},E.dailyExpenses.push(C)),C.amount=parseFloat(v)||0,E.totalAmount=E.dailyExpenses.reduce((w,S)=>w+S.amount,0),t(g)},y=async()=>{l(!0);try{await U.post("/meal-expenses/batch",{month:o,year:c,expenses:e.map(m=>({employeeId:m.employeeId,employeeName:m.employeeName,dailyExpenses:m.dailyExpenses}))}),A.success("Frais repas sauvegardés avec succès"),p()}catch(m){console.error("Erreur lors de la sauvegarde:",m),A.error("Erreur lors de la sauvegarde des frais repas")}finally{l(!1)}},N=()=>new Date(c,o,0).getDate(),x=m=>["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"][m-1],h=N();return n?r.jsx("div",{className:"meal-expenses fade-in",children:r.jsx("div",{className:"card",children:r.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[r.jsx("div",{className:"loading"}),r.jsx("p",{children:"Chargement des frais repas..."})]})})}):r.jsxs("div",{className:"meal-expenses fade-in",children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{className:"header-title-section",children:[r.jsx("h2",{children:"🍽️ Frais Repas"}),r.jsxs("div",{className:"date-selector",children:[r.jsx("select",{value:o,onChange:m=>i(parseInt(m.target.value)),className:"form-control",children:Array.from({length:12},(m,u)=>r.jsx("option",{value:u+1,children:x(u+1)},u+1))}),r.jsx("select",{value:c,onChange:m=>d(parseInt(m.target.value)),className:"form-control",children:Array.from({length:10},(m,u)=>{const v=new Date().getFullYear()-2+u;return r.jsx("option",{value:v,children:v},v)})})]})]}),r.jsx("div",{className:"header-actions",children:r.jsx("button",{className:"btn btn-success",onClick:y,disabled:a,children:a?"💾 Sauvegarde...":"💾 Sauvegarder"})})]}),r.jsx("div",{className:"card",children:r.jsx("div",{className:"table-container",children:r.jsxs("table",{className:"meal-expenses-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"employee-column",children:"Salarié"}),Array.from({length:h},(m,u)=>r.jsx("th",{className:"day-column",children:u+1},u+1))]})}),r.jsx("tbody",{children:e.map((m,u)=>r.jsxs("tr",{children:[r.jsxs("td",{className:"employee-cell",children:[r.jsx("span",{className:"employee-name",children:r.jsx("strong",{children:m.employeeName})}),r.jsxs("span",{className:"employee-total",children:[m.totalAmount.toFixed(2)," €"]})]}),Array.from({length:h},(v,g)=>{const E=g+1,C=m.dailyExpenses.find(S=>S.day===E),w=C?C.amount:0;return r.jsx("td",{className:"day-cell",children:r.jsx("input",{type:"number",value:w,onChange:S=>f(u,E,S.target.value),min:"0",step:"0.01",className:"expense-input",placeholder:"0.00"})},E)})]},m.employeeId))})]})})}),e.length===0&&r.jsxs("div",{className:"card",style:{textAlign:"center",padding:"3rem"},children:[r.jsx("h3",{children:"👥 Aucun employé trouvé"}),r.jsx("p",{children:"Veuillez d'abord ajouter des employés dans la gestion des employés."})]})]})},oy=()=>{const[e,t]=j.useState([]),[n,s]=j.useState([]),[a,l]=j.useState(!1),[o,i]=j.useState(!1),[c,d]=j.useState(new Date().getMonth()+1),[p,f]=j.useState(new Date().getFullYear()),y=j.useCallback(async()=>{var u,v,g,E,C,w,S;l(!0);try{console.log("📊 Chargement des frais KM pour:",{month:c,year:p});const b=await U.get(`/km-expenses?month=${c}&year=${p}`);if(console.log("📥 Réponse API frais KM complète:",b.data),b.data){if(console.log("📊 Structure des données:",{hasEmployees:!!b.data.employees,hasParameters:!!b.data.parameters,employeesCount:((u=b.data.employees)==null?void 0:u.length)||0,parametersCount:((v=b.data.parameters)==null?void 0:v.length)||0}),b.data.employees&&b.data.employees.length>0){const L=b.data.employees[0];console.log("🔍 Premier employé:",{id:L.employeeId,name:L.employeeName,hasParameterValues:!!L.parameterValues,parameterValuesCount:((g=L.parameterValues)==null?void 0:g.length)||0})}if(b.data.parameters&&b.data.parameters.length>0){const L=b.data.parameters[0];console.log("🔍 Premier paramètre:",{id:L._id,name:L.name,displayName:L.displayName,kmValue:L.kmValue})}}t(b.data.employees||[]),s(b.data.parameters||[]),console.log("📊 Employés chargés:",((E=b.data.employees)==null?void 0:E.length)||0),console.log("📊 Paramètres chargés:",((C=b.data.parameters)==null?void 0:C.length)||0)}catch(b){console.error("❌ Erreur lors du chargement des frais KM:",b),console.error("❌ Détails de l'erreur:",(w=b.response)==null?void 0:w.data),console.error("❌ Status:",(S=b.response)==null?void 0:S.status),A.error("Erreur lors du chargement des frais KM")}finally{l(!1)}},[c,p]);j.useEffect(()=>{y()},[y]);const N=(u,v,g)=>{const E=[...e],C=E[u],w=C.parameterValues[v];w.count=parseInt(g)||0,w.totalKm=w.count*w.kmValue,C.totalKm=C.parameterValues.reduce((S,b)=>S+b.totalKm,0),t(E)},x=async()=>{i(!0);try{await U.post("/km-expenses/batch",{month:c,year:p,expenses:e.map(u=>({employeeId:u.employeeId,employeeName:u.employeeName,parameterValues:u.parameterValues}))}),A.success("Frais KM sauvegardés avec succès"),y()}catch(u){console.error("Erreur lors de la sauvegarde:",u),A.error("Erreur lors de la sauvegarde des frais KM")}finally{i(!1)}},h=async(u,v)=>{if(window.confirm(`Êtes-vous sûr de vouloir réinitialiser les données de ${v} pour ${c}/${p} ?`))try{await U.post("/km-expenses/reset",{employeeId:u,month:c,year:p}),A.success(`Données de ${v} réinitialisées avec succès`),y()}catch(g){console.error("Erreur lors de la réinitialisation:",g),A.error("Erreur lors de la réinitialisation des données")}},m=u=>["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"][u-1];return a?r.jsx("div",{className:"km-expenses fade-in",children:r.jsx("div",{className:"card",children:r.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[r.jsx("div",{className:"loading"}),r.jsx("p",{children:"Chargement des frais KM..."})]})})}):r.jsxs("div",{className:"km-expenses fade-in",children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("h2",{children:["🚗 Frais KM - ",m(c)," ",p]}),r.jsxs("div",{className:"header-actions",children:[r.jsxs("div",{className:"date-selector",children:[r.jsx("select",{value:c,onChange:u=>d(parseInt(u.target.value)),className:"form-control",children:Array.from({length:12},(u,v)=>r.jsx("option",{value:v+1,children:m(v+1)},v+1))}),r.jsx("select",{value:p,onChange:u=>f(parseInt(u.target.value)),className:"form-control",children:Array.from({length:10},(u,v)=>{const g=new Date().getFullYear()-2+v;return r.jsx("option",{value:g,children:g},g)})})]}),r.jsx("button",{className:"btn btn-success",onClick:x,disabled:o,children:o?"💾 Sauvegarde...":"💾 Sauvegarder"}),r.jsx("button",{className:"btn btn-warning",onClick:()=>{const u=e.find(v=>v.employeeName.toLowerCase().includes("adélaïde")||v.employeeName.toLowerCase().includes("adelade"));u?h(u.employeeId,u.employeeName):A.error("Adélaïde non trouvée dans la liste")},disabled:o,title:"Réinitialiser les données d'Adélaïde pour ce mois",children:"🔄 Réinitialiser Adélaïde"})]})]}),r.jsx("div",{className:"card",children:r.jsx("div",{className:"table-container",children:r.jsxs("table",{className:"km-expenses-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"employee-column",children:"Salarié"}),n.map(u=>r.jsx("th",{className:"param-column",title:`${u.displayName} (${u.kmValue} km)`,children:r.jsxs("div",{className:"param-header",children:[r.jsx("div",{className:"param-name",children:u.displayName}),r.jsxs("div",{className:"param-km",children:["(",u.kmValue," km)"]})]})},u._id)),r.jsx("th",{className:"total-column",children:"Total KM"})]})}),r.jsx("tbody",{children:e.map((u,v)=>r.jsxs("tr",{children:[r.jsx("td",{className:"employee-cell",children:r.jsx("strong",{children:u.employeeName})}),u.parameterValues.map((g,E)=>r.jsxs("td",{className:"param-cell",children:[r.jsx("input",{type:"number",value:g.count,onChange:C=>N(v,E,C.target.value),min:"0",className:"count-input",placeholder:"0"}),r.jsxs("div",{className:"param-total",children:[g.totalKm," km"]})]},g.parameterId)),r.jsx("td",{className:"total-cell",children:r.jsxs("strong",{children:[u.totalKm," km"]})})]},u.employeeId))})]})})}),e.length===0&&r.jsxs("div",{className:"card",style:{textAlign:"center",padding:"3rem"},children:[r.jsx("h3",{children:"👥 Aucun employé trouvé"}),r.jsx("p",{children:"Veuillez d'abord ajouter des employés dans la gestion des employés."})]}),n.length===0&&r.jsxs("div",{className:"card",style:{textAlign:"center",padding:"3rem"},children:[r.jsx("h3",{children:"⚙️ Paramètres manquants"}),r.jsx("p",{children:"Veuillez d'abord configurer les paramètres dans le menu Paramètres."})]})]})},iy=()=>{var Ri,Pi,Mi,Li,Ii;const[e,t]=j.useState("site"),[n,s]=j.useState([]),[a,l]=j.useState(!1),[o,i]=j.useState(!1),[c,d]=j.useState({admin:"",employee:""}),[p,f]=j.useState(!1),[y,N]=j.useState([]),[x,h]=j.useState(!1),[m,u]=j.useState(!1),[v,g]=j.useState({name:"Boulangerie",city:"Ville"}),[E,C]=j.useState(!1),[w,S]=j.useState(!1),[b,L]=j.useState(null),[T,$]=j.useState(!1),[_,P]=j.useState(!1),[D,I]=j.useState(!1),[z,Q]=j.useState([]),[F,q]=j.useState(!1),[J,te]=j.useState(!1),[K,He]=j.useState(null),[we,ze]=j.useState(!1),[V,X]=j.useState([]),[ee,se]=j.useState(!1);j.useEffect(()=>{Y(),_n(),Ci(),Di(),Ua(),ye()},[]);const oe=k=>{t(k)},R=async()=>{try{const B=["storeEmail","adminEmail","alertStore","alertAdmin"].filter(W=>!n.find(ae=>ae.name===W));B.length>0&&(console.log("📝 Création des paramètres manquants:",B),await Y(),A.success(`${B.length} paramètres créés automatiquement`))}catch(k){console.error("❌ Erreur lors de la création des paramètres:",k),A.error("Erreur lors de la création des paramètres")}},Y=async()=>{l(!0);try{const k=await U.get("/parameters");s(k.data)}catch(k){console.error("Erreur lors du chargement des paramètres:",k),A.error("Erreur lors du chargement des paramètres")}finally{l(!1)}},ye=async()=>{se(!0);try{const k=await U.get("/employees");let B=null;k.data.success&&k.data.data?B=k.data.data:Array.isArray(k.data)&&(B=k.data),B&&X(B)}catch(k){console.error("Erreur lors du chargement des employés:",k)}finally{se(!1)}},fe=(k,B,W)=>{const ae=[...n];if(typeof k=="string"){const Xe=ae.findIndex(De=>De._id===k);Xe!==-1?(ae[Xe][B]=W,s(ae)):console.error("❌ Paramètre non trouvé avec l'ID:",k)}else ae[k][B]=W,s(ae)},pe=async()=>{var k,B,W,ae,Xe;i(!0);try{console.log("📊 Paramètres à sauvegarder:",n);const De=n.map(ke=>{var Oi;if(!ke._id)throw console.error("❌ Paramètre sans ID:",ke),new Error("Paramètre sans ID détecté");const ds=((Oi=ke.displayName)==null?void 0:Oi.trim())||"",dr=parseFloat(ke.kmValue)||0;return!ds&&dr===0&&console.warn("⚠️ Paramètre sans valeur:",ke),{_id:ke._id,displayName:ds||`Paramètre ${ke.name||"inconnu"}`,kmValue:dr}});console.log("📤 Données envoyées:",De),console.log("📤 URL de la requête:","/api/parameters/batch"),De.forEach((ke,ds)=>{var dr;console.log(`📋 Paramètre ${ds+1}:`,{_id:ke._id,displayName:ke.displayName,kmValue:ke.kmValue,displayNameLength:((dr=ke.displayName)==null?void 0:dr.length)||0,kmValueType:typeof ke.kmValue,kmValueIsNaN:isNaN(ke.kmValue)})});const _t=await U.put("/parameters/batch",{parameters:De});console.log("✅ Réponse reçue:",_t.data),A.success("Paramètres sauvegardés avec succès")}catch(De){console.error("❌ Erreur lors de la sauvegarde:",De),console.error("❌ Détails de l'erreur:",(k=De.response)==null?void 0:k.data),console.error("❌ Status:",(B=De.response)==null?void 0:B.status),console.error("❌ Headers:",(W=De.response)==null?void 0:W.headers);const _t=((Xe=(ae=De.response)==null?void 0:ae.data)==null?void 0:Xe.error)||De.message||"Erreur inconnue";A.error(`Erreur lors de la sauvegarde: ${_t}`)}finally{i(!1)}},kt=(k,B)=>{d(W=>({...W,[k]:B}))},Ct=async()=>{f(!0);try{if(console.log("🔐 Tentative de mise à jour des mots de passe:",c),!c.admin&&!c.employee){A.error("Veuillez saisir au moins un mot de passe"),f(!1);return}if(c.admin&&c.admin.length<6){A.error("Le mot de passe administrateur doit contenir au moins 6 caractères"),f(!1);return}if(c.employee&&c.employee.length<6){A.error("Le mot de passe salarié doit contenir au moins 6 caractères"),f(!1);return}const k={};c.admin&&(k.admin=c.admin),c.employee&&(k.employee=c.employee),console.log("🔐 Envoi des mots de passe:",k),await U.put("/passwords/update",k),A.success("Mots de passe mis à jour avec succès"),d({admin:"",employee:""})}catch(k){console.error("❌ Erreur lors de la mise à jour des mots de passe:",k),A.error("Erreur lors de la mise à jour des mots de passe")}finally{f(!1)}},_n=async()=>{h(!0);try{const k=await U.get("/menu-permissions");k.data.success&&(N(k.data.menuPermissions),console.log("📋 Permissions de menu chargées:",k.data.menuPermissions))}catch(k){console.error("❌ Erreur lors du chargement des permissions:",k),A.error("Erreur lors du chargement des permissions de menu")}finally{h(!1)}},ki=(k,B,W)=>{N(ae=>ae.map(Xe=>Xe.menuId===k?{...Xe,[B]:W}:Xe))},Nf=async()=>{u(!0);try{const k=y.map(B=>({_id:B._id,isVisibleToAdmin:B.isVisibleToAdmin,isVisibleToEmployee:B.isVisibleToEmployee}));await U.put("/menu-permissions/batch",{permissions:k}),A.success("Permissions de menu mises à jour avec succès")}catch(k){console.error("❌ Erreur lors de la sauvegarde des permissions:",k),A.error("Erreur lors de la sauvegarde des permissions")}finally{u(!1)}},wf=async()=>{if(window.confirm("Êtes-vous sûr de vouloir recréer les permissions par défaut ? Cela supprimera toutes les permissions actuelles.")){u(!0);try{const k=await U.post("/menu-permissions/recreate");k.data.success&&(A.success(k.data.message),await _n())}catch(k){console.error("❌ Erreur lors de la recréation des permissions:",k),A.error("Erreur lors de la recréation des permissions")}finally{u(!1)}}},Ci=async()=>{C(!0);try{const k=await U.get("/site");g(k.data),console.log("🏪 Site chargé:",k.data)}catch(k){console.error("❌ Erreur lors du chargement du site:",k),A.error("Erreur lors du chargement des informations du site")}finally{C(!1)}},_i=(k,B)=>{g(W=>({...W,[k]:B}))},Sf=async()=>{S(!0);try{await U.put("/site",v),A.success("Informations du site mises à jour avec succès"),window.location.reload()}catch(k){console.error("❌ Erreur lors de la mise à jour du site:",k),A.error("Erreur lors de la mise à jour du site")}finally{S(!1)}},Di=async()=>{$(!0);try{const k=await U.get("/database/stats");k.data.success&&L(k.data.stats)}catch(k){console.error("❌ Erreur lors de la récupération des statistiques:",k)}finally{$(!1)}},Ef=async()=>{P(!0);try{const k=await U.get("/database/export",{responseType:"blob"}),B=window.URL.createObjectURL(new Blob([k.data])),W=document.createElement("a");W.href=B,W.setAttribute("download",`boulangerie-backup-${new Date().toISOString().split("T")[0]}.json`),document.body.appendChild(W),W.click(),W.remove(),window.URL.revokeObjectURL(B),A.success("Base de données exportée avec succès")}catch(k){console.error("❌ Erreur lors de l'export:",k),A.error("Erreur lors de l'export de la base de données")}finally{P(!1)}},kf=async k=>{const B=k.target.files[0];if(B){if(!B.name.endsWith(".json")){A.error("Veuillez sélectionner un fichier JSON");return}I(!0);try{const W=new FormData;W.append("backupFile",B);const ae=await U.post("/database/import",W,{headers:{"Content-Type":"multipart/form-data"}});ae.data.success?(A.success("Base de données importée avec succès"),Y(),_n(),Ci(),Di()):A.error("Erreur lors de l'import: "+(ae.data.error||"Erreur inconnue"))}catch(W){console.error("❌ Erreur lors de l'import:",W),A.error("Erreur lors de l'import de la base de données")}finally{I(!1),k.target.value=""}}},Ua=async()=>{q(!0);try{const k=await U.get("/email-templates");k.data.success&&Q(k.data.templates)}catch(k){console.error("❌ Erreur lors du chargement des templates:",k),A.error("Erreur lors du chargement des templates d'email")}finally{q(!1)}},Ti=async()=>{te(!0);try{const k=await U.post("/email-templates/initialize-defaults");k.data.success&&(A.success(k.data.message),Ua())}catch(k){console.error("❌ Erreur lors de l'initialisation:",k),A.error("Erreur lors de l'initialisation des templates")}finally{te(!1)}},cr=(k,B)=>{He(W=>({...W,[k]:B}))},Cf=async()=>{if(K){te(!0);try{await U.put(`/email-templates/${K._id}`,{displayName:K.displayName,subject:K.subject,htmlContent:K.htmlContent,textContent:K.textContent,description:K.description,variables:K.variables}),A.success("Template sauvegardé avec succès"),ze(!1),He(null),Ua()}catch(k){console.error("❌ Erreur lors de la sauvegarde:",k),A.error("Erreur lors de la sauvegarde du template")}finally{te(!1)}}},_f=k=>{He({...k}),ze(!0)},Ai=()=>{ze(!1),He(null)};return a?r.jsx("div",{className:"parameters fade-in",children:r.jsx("div",{className:"card",children:r.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[r.jsx("div",{className:"loading"}),r.jsx("p",{children:"Chargement des paramètres..."})]})})}):r.jsxs("div",{className:"parameters fade-in",children:[r.jsx("div",{className:"page-header",children:r.jsx("h2",{children:"⚙️ Paramètres"})}),r.jsxs("div",{className:"tabs-navigation",children:[r.jsx("button",{className:`tab-button ${e==="site"?"active":""}`,onClick:()=>oe("site"),children:"🏪 Informations du Site"}),r.jsx("button",{className:`tab-button ${e==="passwords"?"active":""}`,onClick:()=>oe("passwords"),children:"🔐 Gestion des Mots de Passe"}),r.jsx("button",{className:`tab-button ${e==="permissions"?"active":""}`,onClick:()=>oe("permissions"),children:"🔐 Gestion des Permissions de Menu"}),r.jsx("button",{className:`tab-button ${e==="km"?"active":""}`,onClick:()=>oe("km"),children:"🚗 Paramètres - Frais KM"}),r.jsx("button",{className:`tab-button ${e==="templates"?"active":""}`,onClick:()=>oe("templates"),children:"📋 Templates disponibles"}),r.jsx("button",{className:`tab-button ${e==="database"?"active":""}`,onClick:()=>oe("database"),children:"🗄️ Gestion de la Base de Données"}),r.jsx("button",{className:"tab-button",onClick:()=>window.open("/plan/admin-documents.html","_blank"),children:"📁 Gestion des Documents"})]}),r.jsxs("div",{className:"tab-content",children:[e==="site"&&r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"card-header",children:r.jsx("h3",{children:"🏪 Informations du Site"})}),r.jsx("div",{className:"card-body",children:E?r.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[r.jsx("div",{className:"loading"}),r.jsx("p",{children:"Chargement des informations du site..."})]}):r.jsxs("div",{className:"site-section",children:[r.jsxs("div",{className:"site-item",children:[r.jsxs("label",{htmlFor:"site-name",children:[r.jsx("span",{className:"site-icon",children:"🏪"}),"Nom du site"]}),r.jsx("input",{id:"site-name",type:"text",value:v.name,onChange:k=>_i("name",k.target.value),placeholder:"Nom de la boulangerie",className:"site-input"})]}),r.jsxs("div",{className:"site-item",children:[r.jsxs("label",{htmlFor:"site-city",children:[r.jsx("span",{className:"site-icon",children:"🏙️"}),"Ville"]}),r.jsx("input",{id:"site-city",type:"text",value:v.city,onChange:k=>_i("city",k.target.value),placeholder:"Ville du magasin",className:"site-input"})]}),r.jsx("div",{className:"site-actions",children:r.jsx("button",{className:"btn btn-primary",onClick:Sf,disabled:w,children:w?"💾 Sauvegarde...":"💾 Sauvegarder les informations du site"})})]})})]}),e==="passwords"&&r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"card-header",children:r.jsx("h3",{children:"🔐 Gestion des Mots de Passe"})}),r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"password-section",children:[r.jsxs("div",{className:"password-item",children:[r.jsxs("label",{htmlFor:"admin-password",children:[r.jsx("span",{className:"password-icon",children:"👑"}),"Mot de passe Administrateur"]}),r.jsx("input",{id:"admin-password",type:"password",value:c.admin,onChange:k=>kt("admin",k.target.value),placeholder:"Nouveau mot de passe (min. 6 caractères)",className:"password-input"})]}),r.jsxs("div",{className:"password-item",children:[r.jsxs("label",{htmlFor:"employee-password",children:[r.jsx("span",{className:"password-icon",children:"👤"}),"Mot de passe Salarié"]}),r.jsx("input",{id:"employee-password",type:"password",value:c.employee,onChange:k=>kt("employee",k.target.value),placeholder:"Nouveau mot de passe (min. 6 caractères)",className:"password-input"})]}),r.jsx("div",{className:"password-actions",children:r.jsx("button",{className:"btn btn-primary",onClick:Ct,disabled:p,style:{opacity:!c.admin&&!c.employee?.6:1,cursor:!c.admin&&!c.employee?"not-allowed":"pointer"},children:p?"🔐 Mise à jour...":"🔐 Mettre à jour les mots de passe"})})]})})]}),e==="permissions"&&r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h3",{children:"🔐 Gestion des Permissions de Menu"}),r.jsx("p",{children:"Configurez quels menus sont visibles pour les salariés"})]}),r.jsx("div",{className:"card-body",children:x?r.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[r.jsx("div",{className:"loading"}),r.jsx("p",{children:"Chargement des permissions..."})]}):r.jsxs("div",{className:"permissions-section",children:[r.jsxs("div",{className:"permissions-table",children:[r.jsxs("div",{className:"permissions-header",children:[r.jsx("div",{className:"permission-menu",children:"Menu"}),r.jsx("div",{className:"permission-admin",children:"👑 Admin"}),r.jsx("div",{className:"permission-employee",children:"👤 Salarié"})]}),y.map(k=>r.jsxs("div",{className:"permission-row",children:[r.jsxs("div",{className:"permission-menu",children:[r.jsxs("span",{className:"permission-icon",children:[k.menuId==="dashboard"&&"📊",k.menuId==="employees"&&"👥",k.menuId==="constraints"&&"📋",k.menuId==="planning"&&"🎯",k.menuId==="sales-stats"&&"💰",k.menuId==="absences"&&"📈",k.menuId==="parameters"&&"⚙️",k.menuId==="employee-status"&&"👤",k.menuId==="meal-expenses"&&"🍽️",k.menuId==="km-expenses"&&"🚗",k.menuId==="employee-status-print"&&"🖨️",k.menuId==="sick-leave-management"&&"🏥",k.menuId==="vacation-management"&&"🏖️"]}),k.menuName]}),r.jsx("div",{className:"permission-admin",children:r.jsx("input",{type:"checkbox",checked:k.isVisibleToAdmin,onChange:B=>ki(k.menuId,"isVisibleToAdmin",B.target.checked),disabled:!0})}),r.jsx("div",{className:"permission-employee",children:r.jsx("input",{type:"checkbox",checked:k.isVisibleToEmployee,onChange:B=>ki(k.menuId,"isVisibleToEmployee",B.target.checked)})})]},k._id))]}),r.jsxs("div",{className:"permissions-actions",children:[r.jsx("button",{className:"btn btn-primary",onClick:Nf,disabled:m,children:m?"💾 Sauvegarde...":"💾 Sauvegarder les permissions"}),r.jsx("button",{className:"btn btn-warning",onClick:wf,disabled:m,style:{marginLeft:"10px"},children:m?"🔄 Recréation...":"🔄 Recréer les permissions par défaut"})]})]})})]}),e==="km"&&r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"card-header",children:r.jsx("h3",{children:"🚗 Paramètres - Frais KM"})}),r.jsxs("div",{className:"card-body",children:[r.jsx("div",{className:"parameters-list",children:n.map((k,B)=>r.jsxs("div",{className:"parameter-item",children:[r.jsxs("div",{className:"parameter-info",children:[r.jsxs("span",{className:"parameter-number",children:[B+1,"."]}),r.jsx("input",{type:"text",value:k.displayName,onChange:W=>fe(B,"displayName",W.target.value),className:"parameter-name-input",placeholder:`Paramètre ${B+1}`})]}),r.jsxs("div",{className:"parameter-value",children:[r.jsx("input",{type:"number",value:k.kmValue,onChange:W=>fe(B,"kmValue",W.target.value),className:"parameter-km-input",min:"0",step:"0.1",placeholder:"0"}),r.jsx("span",{className:"km-unit",children:"km"})]})]},k._id))}),r.jsx("div",{className:"parameters-actions",children:r.jsx("button",{className:"btn btn-success",onClick:pe,disabled:o,children:o?"💾 Sauvegarde...":"💾 Sauvegarder les paramètres KM"})})]})]}),e==="templates"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h3",{children:"🚨 Configuration des Alertes Email"}),r.jsx("p",{children:"Configurez les alertes pour les nouveaux arrêts maladie à valider"})]}),r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"alert-email-section",children:[(!n.find(k=>k.name==="storeEmail")||!n.find(k=>k.name==="adminEmail")||!n.find(k=>k.name==="alertStore")||!n.find(k=>k.name==="alertAdmin"))&&r.jsxs("div",{className:"alert alert-warning",children:[r.jsx("p",{children:"⚠️ Certains paramètres d'alerte email sont manquants."}),r.jsx("button",{className:"btn btn-primary",onClick:R,children:"🔧 Créer les paramètres manquants"})]}),r.jsx("div",{className:"email-config",children:r.jsxs("div",{className:"email-input-group",children:[r.jsx("label",{htmlFor:"storeEmail",children:"📧 Email du Magasin :"}),r.jsx("input",{type:"email",id:"storeEmail",value:((Ri=n.find(k=>k.name==="storeEmail"))==null?void 0:Ri.stringValue)||"",onChange:k=>{if(n.find(W=>W.name==="storeEmail")){const W=n.map(ae=>ae.name==="storeEmail"?{...ae,stringValue:k.target.value}:ae);s(W)}},className:"email-input",placeholder:"magasin@boulangerie.fr"})]})}),r.jsx("div",{className:"email-config",children:r.jsxs("div",{className:"email-input-group",children:[r.jsx("label",{htmlFor:"adminEmail",children:"👑 Email de l'Administrateur :"}),r.jsx("input",{type:"email",id:"adminEmail",value:((Pi=n.find(k=>k.name==="adminEmail"))==null?void 0:Pi.stringValue)||"",onChange:k=>{if(n.find(W=>W.name==="adminEmail")){const W=n.map(ae=>ae.name==="adminEmail"?{...ae,stringValue:k.target.value}:ae);s(W)}},className:"email-input",placeholder:"admin@boulangerie.fr"})]})}),r.jsx("div",{className:"email-config",children:r.jsxs("div",{className:"email-input-group",children:[r.jsx("label",{children:"🎯 Destinataires des Alertes :"}),r.jsxs("div",{className:"recipient-options",children:[r.jsxs("label",{className:"checkbox-option",children:[r.jsx("input",{type:"checkbox",checked:((Mi=n.find(k=>k.name==="alertStore"))==null?void 0:Mi.booleanValue)||!1,onChange:k=>{const B=n.find(W=>W.name==="alertStore");B&&fe(B._id,"booleanValue",k.target.checked)}}),r.jsx("span",{children:"📧 Envoyer au Magasin"})]}),r.jsxs("label",{className:"checkbox-option",children:[r.jsx("input",{type:"checkbox",checked:((Li=n.find(k=>k.name==="alertAdmin"))==null?void 0:Li.booleanValue)||!1,onChange:k=>{const B=n.find(W=>W.name==="alertAdmin");B&&fe(B._id,"booleanValue",k.target.checked)}}),r.jsx("span",{children:"👑 Envoyer à l'Administrateur"})]})]})]})}),r.jsx("div",{className:"email-actions",children:r.jsx("button",{className:"btn btn-primary",onClick:async()=>{try{const k=n.filter(W=>["storeEmail","adminEmail","alertStore","alertAdmin"].includes(W.name));if(k.length===0){A.error("Aucun paramètre d'alerte trouvé");return}const B=k.map(W=>({_id:W._id,displayName:W.displayName,stringValue:W.stringValue,booleanValue:W.booleanValue,kmValue:W.kmValue}));console.log("📤 Sauvegarde des paramètres d'alerte:",B),await U.put("/parameters/batch",{parameters:B}),A.success("Configuration des alertes sauvegardée")}catch(k){console.error("❌ Erreur lors de la sauvegarde:",k),A.error("Erreur lors de la sauvegarde des alertes")}},children:"💾 Sauvegarder la configuration des alertes"})})]})})]}),r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h3",{children:"💰 Configuration Demande d'Acompte"}),r.jsx("p",{children:"Sélectionnez les salariés qui peuvent accéder à la demande d'acompte dans leur dashboard"})]}),r.jsx("div",{className:"card-body",children:ee?r.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[r.jsx("div",{className:"spinner"}),r.jsx("p",{children:"Chargement des employés..."})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"email-config",children:r.jsxs("div",{className:"email-input-group",children:[r.jsx("label",{children:"👥 Sélectionnez les salariés autorisés :"}),r.jsx("div",{style:{maxHeight:"400px",overflowY:"auto",border:"1px solid #ddd",borderRadius:"8px",padding:"1rem",marginTop:"0.5rem"},children:V.length===0?r.jsx("p",{style:{color:"#666",fontStyle:"italic"},children:"Aucun employé trouvé"}):V.map(k=>{const B=n.find(Xe=>Xe.name==="enableEmployeeAdvanceRequest"),ae=(B!=null&&B.stringValue?JSON.parse(B.stringValue||"[]"):[]).includes(k._id);return r.jsxs("label",{className:"checkbox-option",style:{display:"block",marginBottom:"0.75rem",padding:"0.5rem",borderRadius:"4px",backgroundColor:ae?"#f0f8ff":"transparent"},children:[r.jsx("input",{type:"checkbox",checked:ae,onChange:Xe=>{const De=n.find(ke=>ke.name==="enableEmployeeAdvanceRequest");if(!De)return;let _t=De.stringValue?JSON.parse(De.stringValue||"[]"):[];Xe.target.checked?_t.includes(k._id)||_t.push(k._id):_t=_t.filter(ke=>ke!==k._id),fe(De._id,"stringValue",JSON.stringify(_t))}}),r.jsxs("span",{style:{marginLeft:"0.5rem"},children:[k.name," ",k.email?`(${k.email})`:""]})]},k._id)})}),r.jsx("small",{className:"form-text text-muted",style:{marginTop:"0.5rem",display:"block"},children:"Seuls les salariés sélectionnés pourront voir et utiliser la demande d'acompte dans leur dashboard."})]})}),r.jsx("div",{className:"email-actions",style:{marginTop:"1.5rem"},children:r.jsx("button",{className:"btn btn-primary",onClick:async()=>{try{const k=n.find(W=>W.name==="enableEmployeeAdvanceRequest");if(!k){A.error("Paramètre de demande d'acompte non trouvé");return}const B=[{_id:k._id,displayName:k.displayName,stringValue:k.stringValue||"[]",kmValue:k.kmValue}];console.log("📤 Sauvegarde du paramètre d'acompte:",B),await U.put("/parameters/batch",{parameters:B}),A.success("Configuration de la demande d'acompte sauvegardée")}catch(k){console.error("❌ Erreur lors de la sauvegarde:",k),A.error("Erreur lors de la sauvegarde de la configuration")}},children:"💾 Sauvegarder la configuration"})})]})})]}),r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h3",{children:"📧 Configuration Email Comptable"}),r.jsx("p",{children:"Adresse email pour l'envoi automatique des arrêts maladie validés"})]}),r.jsx("div",{className:"card-body",children:r.jsx("div",{className:"accountant-email-section",children:n.find(k=>k.name==="accountantEmail")?r.jsxs("div",{className:"email-config",children:[r.jsxs("div",{className:"email-input-group",children:[r.jsx("label",{htmlFor:"accountantEmail",children:"Email du comptable :"}),r.jsx("input",{type:"email",id:"accountantEmail",value:((Ii=n.find(k=>k.name==="accountantEmail"))==null?void 0:Ii.stringValue)||"",onChange:k=>{if(n.find(W=>W.name==="accountantEmail")){const W=n.map(ae=>ae.name==="accountantEmail"?{...ae,stringValue:k.target.value}:ae);s(W)}},className:"email-input",placeholder:"comptable@boulangerie.fr"})]}),r.jsxs("div",{className:"email-info",children:[r.jsxs("p",{children:["💡 ",r.jsx("strong",{children:"Utilisation :"})," Cette adresse sera utilisée pour envoyer automatiquement les arrêts maladie validés au comptable."]}),r.jsxs("p",{children:["🔒 ",r.jsx("strong",{children:"Sécurité :"})," Vous pouvez également configurer cette valeur via la variable d'environnement ",r.jsx("code",{children:"ACCOUNTANT_EMAIL"})," dans Render."]})]}),r.jsx("div",{className:"email-actions",children:r.jsx("button",{className:"btn btn-primary",onClick:async()=>{var k;try{console.log("🔍 Tous les paramètres:",n);const B=n.find(W=>W.name==="accountantEmail");if(console.log("📧 Paramètre email comptable trouvé:",B),B){console.log("📤 Envoi de la requête PUT avec:",{stringValue:B.stringValue,_id:B._id});const W=await U.put(`/parameters/${B._id}`,{stringValue:B.stringValue});console.log("✅ Réponse reçue:",W.data),A.success("Email du comptable sauvegardé")}else console.log("❌ Paramètre email comptable non trouvé"),A.error("Paramètre email comptable non trouvé")}catch(B){console.error("❌ Erreur lors de la sauvegarde:",B),console.error("❌ Détails:",(k=B.response)==null?void 0:k.data),A.error("Erreur lors de la sauvegarde de l'email")}},children:"💾 Sauvegarder l'email du comptable"})})]}):r.jsxs("div",{className:"no-email-param",children:[r.jsx("p",{children:"⚠️ Le paramètre email comptable n'a pas encore été créé."}),r.jsx("button",{className:"btn btn-secondary",onClick:async()=>{try{await U.post("/parameters",{name:"accountantEmail",displayName:"Email du Comptable",stringValue:"comptable@boulangerie.fr",kmValue:0}),A.success("Paramètre email comptable créé"),Y()}catch{A.error("Erreur lors de la création du paramètre")}},children:"Créer le paramètre email comptable"})]})})})]}),r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h3",{children:"📧 Gestion des Messages Email"}),r.jsx("p",{children:"Personnalisez le contenu des emails envoyés automatiquement"})]}),r.jsx("div",{className:"card-body",children:F?r.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[r.jsx("div",{className:"loading"}),r.jsx("p",{children:"Chargement des templates d'email..."})]}):r.jsx("div",{className:"email-templates-section",children:z.length===0?r.jsxs("div",{className:"no-templates",children:[r.jsx("p",{children:"⚠️ Aucun template d'email configuré."}),r.jsx("button",{className:"btn btn-primary",onClick:Ti,disabled:J,children:J?"🔄 Initialisation...":"🚀 Créer les templates par défaut"})]}):r.jsxs("div",{className:"templates-list",children:[r.jsxs("div",{className:"templates-header",children:[r.jsx("h4",{children:"📋 Templates disponibles"}),r.jsx("button",{className:"btn btn-secondary",onClick:Ti,disabled:J,children:J?"🔄 Mise à jour...":"🔄 Mettre à jour les templates"})]}),z.map(k=>r.jsxs("div",{className:"template-item",children:[r.jsxs("div",{className:"template-info",children:[r.jsxs("div",{className:"template-header",children:[r.jsx("h5",{children:k.displayName}),r.jsxs("span",{className:"template-type",children:[k.name==="sick_leave_validation"&&"✅ Validation",k.name==="sick_leave_rejection"&&"❌ Rejet",k.name==="sick_leave_accountant"&&"📋 Comptable",k.name==="sick_leave_alert"&&"🚨 Alerte",k.name==="vacation_request_confirmation"&&"🏖️ Confirmation Congés",k.name==="vacation_request_alert"&&"🚨 Alerte Congés",k.name==="vacation_request_validation"&&"✅ Validation Congés",k.name==="employee_password"&&"🔐 Mot de Passe Salarié",k.name==="advance_request_employee"&&"💰 Confirmation Acompte",k.name==="advance_request_manager"&&"🔔 Alerte Acompte",k.name==="advance_approved"&&"✅ Validation Acompte",k.name==="advance_rejected"&&"❌ Rejet Acompte"]})]}),r.jsx("p",{className:"template-description",children:k.description}),r.jsxs("div",{className:"template-subject",children:[r.jsx("strong",{children:"Sujet :"})," ",k.subject]})]}),r.jsx("div",{className:"template-actions",children:r.jsx("button",{className:"btn btn-primary",onClick:()=>_f(k),children:"✏️ Modifier"})})]},k._id))]})})})]})]}),e==="database"&&r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h3",{children:"🗄️ Gestion de la Base de Données"}),r.jsx("p",{children:"Sauvegarde et restauration complète de la base de données"})]}),r.jsxs("div",{className:"card-body",children:[r.jsxs("div",{className:"database-stats",children:[r.jsx("h4",{children:"📊 Statistiques"}),T?r.jsx("p",{children:"Chargement des statistiques..."}):b?r.jsxs("div",{className:"stats-grid",children:[r.jsxs("div",{className:"stat-item",children:[r.jsx("span",{className:"stat-label",children:"Total documents:"}),r.jsx("span",{className:"stat-value",children:b.totalDocuments})]}),Object.entries(b.collections).map(([k,B])=>r.jsxs("div",{className:"stat-item",children:[r.jsxs("span",{className:"stat-label",children:[k,":"]}),r.jsx("span",{className:"stat-value",children:B})]},k))]}):r.jsx("p",{children:"Aucune statistique disponible"})]}),r.jsxs("div",{className:"database-actions",children:[r.jsx("h4",{children:"💾 Sauvegarde & Restauration"}),r.jsxs("div",{className:"action-buttons",children:[r.jsx("button",{className:"btn btn-primary",onClick:Ef,disabled:_,children:_?"📤 Export en cours...":"📤 Exporter Base de Données"}),r.jsxs("div",{className:"import-section",children:[r.jsx("input",{type:"file",id:"importFile",accept:".json",onChange:kf,style:{display:"none"}}),r.jsx("label",{htmlFor:"importFile",className:`btn btn-warning ${D?"disabled":""}`,children:D?"📥 Import en cours...":"📥 Importer Base de Données"})]})]}),r.jsxs("div",{className:"database-warning",children:[r.jsx("h5",{children:"⚠️ Attention"}),r.jsxs("ul",{children:[r.jsx("li",{children:"L'export crée une sauvegarde complète de toutes les données"}),r.jsx("li",{children:"L'import remplace TOUTES les données existantes"}),r.jsx("li",{children:"Assurez-vous d'avoir une sauvegarde récente avant d'importer"}),r.jsx("li",{children:"L'opération d'import ne peut pas être annulée"})]})]})]})]})]})]}),we&&K&&r.jsx("div",{className:"modal-overlay",children:r.jsxs("div",{className:"modal-content template-editor",children:[r.jsxs("div",{className:"modal-header",children:[r.jsxs("h3",{children:["✏️ Modifier le Template : ",K.displayName]}),r.jsx("button",{className:"modal-close",onClick:Ai,children:"×"})]}),r.jsx("div",{className:"modal-body",children:r.jsxs("div",{className:"template-editor-form",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Nom d'affichage :"}),r.jsx("input",{type:"text",value:K.displayName,onChange:k=>cr("displayName",k.target.value),className:"form-input"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Sujet de l'email :"}),r.jsx("input",{type:"text",value:K.subject,onChange:k=>cr("subject",k.target.value),className:"form-input",placeholder:"Utilisez {{variable}} pour les variables"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Description :"}),r.jsx("textarea",{value:K.description,onChange:k=>cr("description",k.target.value),className:"form-textarea",rows:"2"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Contenu HTML :"}),r.jsx("textarea",{value:K.htmlContent,onChange:k=>cr("htmlContent",k.target.value),className:"form-textarea template-html",rows:"15",placeholder:"Contenu HTML de l'email"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Contenu Texte :"}),r.jsx("textarea",{value:K.textContent,onChange:k=>cr("textContent",k.target.value),className:"form-textarea template-text",rows:"10",placeholder:"Version texte de l'email"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Variables disponibles :"}),r.jsx("div",{className:"variables-list",children:K.variables.map((k,B)=>r.jsxs("div",{className:"variable-item",children:[r.jsx("code",{children:`{{${k.name}}}`}),r.jsx("span",{className:"variable-description",children:k.description}),k.example&&r.jsxs("span",{className:"variable-example",children:["Ex: ",k.example]})]},B))})]})]})}),r.jsxs("div",{className:"modal-footer",children:[r.jsx("button",{className:"btn btn-secondary",onClick:Ai,children:"Annuler"}),r.jsx("button",{className:"btn btn-primary",onClick:Cf,disabled:J,children:J?"💾 Sauvegarde...":"💾 Sauvegarder"})]})]})})]})},cy=()=>{console.log("🏖️ HolidayStatus - Composant chargé"),console.log("🏖️ HolidayStatus - URL actuelle:",window.location.href);const[e,t]=j.useState([]),[n,s]=j.useState(!1),[a,l]=j.useState(new Set),[o,i]=j.useState(new Set);j.useEffect(()=>{console.log("🏖️ HolidayStatus - Chargement automatique des données"),c()},[]);const c=async()=>{var p,f;s(!0);try{console.log("🔄 Chargement des congés depuis l'API backend...");const N=(await U.get("/vacation-requests?city=Arras")).data;if(console.log("📊 Données reçues:",N),console.log("📊 Structure des données:",{success:N.success,hasData:!!N.data,dataLength:((p=N.data)==null?void 0:p.length)||0,firstItem:(f=N.data)==null?void 0:f[0]}),N.success&&N.data){const x=N.data.map(h=>({id:h._id,timestamp:new Date(h.uploadDate).toLocaleString("fr-FR"),boulangerie:h.city||"Arras",nom:h.employeeName.split(" ")[1]||"",prenom:h.employeeName.split(" ")[0]||"",dateDebut:new Date(h.startDate).toLocaleDateString("fr-FR"),dateFin:new Date(h.endDate).toLocaleDateString("fr-FR"),commentaire:h.precisions||"",status:h.status,duration:h.duration,reason:h.reason,employeeEmail:h.employeeEmail}));console.log("✅ Congés récupérés depuis l'API:",x),console.log("✅ Nombre de congés:",x.length),console.log("✅ Congés validés:",x.filter(h=>h.status==="validated").length),t(x)}else console.log("⚠️ Aucune donnée reçue ou format invalide"),t([])}catch(y){console.error("❌ Erreur lors du chargement des congés:",y),t([])}finally{s(!1)}},d=()=>{const p=e.filter(y=>y.status==="validated"),f=window.open("","_blank");f.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Planning Annuel - Congés Validés</title>
        <style>
          @page { 
            size: A4 landscape; 
            margin: 1cm; 
          }
          body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px; 
          }
          .header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #000;
            padding-bottom: 20px;
          }
          .header h1 {
            margin: 0;
            font-size: 24px;
          }
          .planning-grid {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 2px;
            margin-bottom: 20px;
          }
          .month-header {
            background: #f0f0f0;
            padding: 10px;
            text-align: center;
            font-weight: bold;
            border: 1px solid #000;
          }
          .holiday-item {
            background: #e8f5e8;
            padding: 5px;
            margin: 2px 0;
            border: 1px solid #ccc;
            font-size: 10px;
            border-radius: 3px;
          }
          .employee-name {
            font-weight: bold;
          }
          .dates {
            color: #666;
            font-size: 9px;
          }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>Planning Annuel - Congés Validés</h1>
          <p>Boulangerie Arras - ${new Date().getFullYear()}</p>
        </div>
        
        <div class="planning-grid">
          ${Array.from({length:12},(y,N)=>{const x=["Jan","Fév","Mar","Avr","Mai","Jun","Jul","Aoû","Sep","Oct","Nov","Déc"][N],h=p.filter(m=>new Date(m.dateDebut).getMonth()===N);return`
              <div class="month-header">${x}</div>
              <div>
                ${h.map(m=>`
                  <div class="holiday-item">
                    <div class="employee-name">${m.prenom} ${m.nom}</div>
                    <div class="dates">${m.dateDebut} - ${m.dateFin}</div>
                  </div>
                `).join("")}
              </div>
            `}).join("")}
        </div>
      </body>
      </html>
    `),f.document.close(),f.print()};return n?r.jsx("div",{className:"holiday-status",children:r.jsxs("div",{className:"loading-container",children:[r.jsx("div",{className:"loading"}),r.jsx("p",{children:"Chargement des congés..."})]})}):r.jsxs("div",{className:"holiday-status",children:[r.jsxs("div",{className:"holiday-header",children:[r.jsx("h3",{children:"🏖️ État des Congés"}),r.jsxs("div",{style:{background:"#17a2b8",color:"white",padding:"5px 10px",margin:"5px 0",borderRadius:"3px",fontSize:"12px",fontWeight:"bold"},children:["🚀 DÉPLOIEMENT #012 - ",new Date().toLocaleString()]}),r.jsxs("div",{className:"holiday-actions",children:[r.jsx("button",{className:"btn btn-primary",onClick:c,disabled:n,children:"🔄 Actualiser"}),r.jsx("button",{className:"btn btn-success",onClick:d,disabled:e.filter(p=>p.status==="validated").length===0,children:"🖨️ Imprimer Planning"})]})]}),r.jsxs("div",{className:"holiday-stats",children:[r.jsxs("div",{className:"stat-item",children:[r.jsx("span",{className:"stat-number",children:e.length}),r.jsx("span",{className:"stat-label",children:"Total"})]}),r.jsxs("div",{className:"stat-item",children:[r.jsx("span",{className:"stat-number",children:e.filter(p=>p.status==="validated").length}),r.jsx("span",{className:"stat-label",children:"Validés"})]}),r.jsxs("div",{className:"stat-item",children:[r.jsx("span",{className:"stat-number",children:e.filter(p=>p.status==="rejected").length}),r.jsx("span",{className:"stat-label",children:"Rejetés"})]}),r.jsxs("div",{className:"stat-item",children:[r.jsx("span",{className:"stat-number",children:e.filter(p=>p.status==="pending").length}),r.jsx("span",{className:"stat-label",children:"En attente"})]})]}),r.jsxs("div",{className:"holiday-info",children:[r.jsx("p",{children:'📊 Utilisez le bouton "Imprimer Planning" pour voir le calendrier des congés validés.'}),r.jsx("p",{children:'📋 Pour gérer les demandes de congés, utilisez la page "Gestion des congés".'})]})]})},dy=()=>{const[e,t]=j.useState(null),[n,s]=j.useState(!1),[a,l]=j.useState(new Date().getMonth()+1),[o,i]=j.useState(new Date().getFullYear()),[c,d]=j.useState([]),p=async()=>{try{const m=await U.get("/advance-requests");if(m.data.success){const u=x(a),v=o.toString(),g=m.data.data.filter(E=>E.status==="approved"&&E.deductionMonth===`${u} ${v}`);d(g)}}catch(m){console.error("Erreur lors du chargement des acomptes:",m)}},f=async()=>{s(!0);try{const m=await U.get(`/employee-status?month=${a}&year=${o}`);t(m.data),await p()}catch(m){console.error("Erreur lors du chargement des données:",m),A.error("Erreur lors du chargement des données")}finally{s(!1)}},y=()=>{const m=window.open("","_blank"),u=document.querySelector(".print-content");u?(m.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>État des Salariés - ${x(a)} ${o}</title>
          <style>
            body { 
              font-family: Arial, sans-serif; 
              margin: 0; 
              padding: 20px; 
              color: #000;
            }
            .print-header {
              text-align: center;
              margin-bottom: 30px;
              border-bottom: 2px solid #000;
              padding-bottom: 20px;
            }
            .print-header h1 {
              margin: 0 0 10px 0;
              font-size: 24px;
              font-weight: bold;
            }
            .print-header h2 {
              margin: 0 0 10px 0;
              font-size: 18px;
            }
            .print-date {
              font-size: 12px;
              color: #666;
            }
            .status-table {
              width: 100%;
              border-collapse: collapse;
              margin-bottom: 30px;
            }
            .status-table th,
            .status-table td {
              border: 1px solid #000;
              padding: 8px;
              text-align: left;
            }
            .status-table th {
              background: #f0f0f0;
              font-weight: bold;
            }
            .totals-row {
              background: #f0f0f0;
              font-weight: bold;
            }
            .print-summary {
              margin-top: 20px;
            }
            .summary-item {
              margin-bottom: 10px;
            }
            @media print {
              body { margin: 0; padding: 15px; }
              .status-table tbody tr { page-break-inside: avoid; }
            }
          </style>
        </head>
        <body>
          ${u.outerHTML}
        </body>
        </html>
      `),m.document.close(),m.focus(),m.print(),m.close()):window.print()},N=()=>{if(!e)return;let m="data:text/csv;charset=utf-8,";m+=["Salarié","Frais Repas","Total KM","Total Général"].join(",")+`
`,e.employees&&e.employees.length>0?(e.employees.forEach(E=>{const C=[`"${E.name||"N/A"}"`,`"${E.mealExpenses||"0,00 €"}"`,`"${E.totalKm||"0 km"}"`,`"${E.totalGeneral||"0,00 €"}"`];m+=C.join(",")+`
`}),e.totals&&(m+=`"TOTAUX","${e.totals.mealExpenses||"0,00 €"}","${e.totals.totalKm||"0 km"}","${e.totals.totalGeneral||"0,00 €"}"
`)):m+=`"Aucune donnée disponible","","",""
`;const v=encodeURI(m),g=document.createElement("a");g.setAttribute("href",v),g.setAttribute("download",`etat_salaries_${x(a)}_${o}.csv`),document.body.appendChild(g),g.click(),document.body.removeChild(g)},x=m=>["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"][m-1],h=m=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(m);return n?r.jsx("div",{className:"employee-status-print fade-in",children:r.jsx("div",{className:"card",children:r.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[r.jsx("div",{className:"loading"}),r.jsx("p",{children:"Chargement des données..."})]})})}):r.jsxs("div",{className:"employee-status-print fade-in",children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("h2",{children:["📄 État des Salariés - ",x(a)," ",o]}),r.jsxs("div",{className:"header-actions",children:[r.jsxs("div",{className:"date-selector",children:[r.jsx("select",{value:a,onChange:m=>l(parseInt(m.target.value)),className:"form-control",children:Array.from({length:12},(m,u)=>r.jsx("option",{value:u+1,children:x(u+1)},u+1))}),r.jsx("select",{value:o,onChange:m=>i(parseInt(m.target.value)),className:"form-control",children:Array.from({length:10},(m,u)=>{const v=new Date().getFullYear()-2+u;return r.jsx("option",{value:v,children:v},v)})})]}),r.jsx("button",{className:"btn btn-primary",onClick:f,disabled:n,children:n?"🔄 Chargement...":"🔄 Actualiser"}),r.jsx("button",{className:"btn btn-success",onClick:y,disabled:!e,children:"🖨️ Imprimer"}),r.jsx("button",{className:"btn btn-info",onClick:N,disabled:!e,children:"📊 Exporter Excel"})]})]}),e&&r.jsxs("div",{className:"print-content",children:[r.jsxs("div",{className:"print-header",children:[r.jsx("h1",{children:"État des Salariés"}),r.jsxs("h2",{children:[x(e.month)," ",e.year]}),r.jsxs("div",{className:"print-date",children:["Généré le ",new Date().toLocaleDateString("fr-FR")]})]}),r.jsx("div",{className:"print-table",children:r.jsxs("table",{className:"status-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Salarié"}),r.jsx("th",{children:"Frais Repas"}),r.jsx("th",{children:"Total KM"}),r.jsx("th",{children:"Total Général"})]})}),r.jsx("tbody",{children:e.employees.map(m=>r.jsxs("tr",{children:[r.jsx("td",{className:"employee-name",children:r.jsx("strong",{children:m.employeeName})}),r.jsx("td",{className:"meal-amount",children:h(m.mealExpense.totalAmount)}),r.jsxs("td",{className:"km-amount",children:[m.kmExpense.totalKm," km"]}),r.jsx("td",{className:"total-amount",children:r.jsx("strong",{children:h(m.mealExpense.totalAmount)})})]},m.employeeId))}),r.jsx("tfoot",{children:r.jsxs("tr",{className:"totals-row",children:[r.jsx("td",{children:r.jsx("strong",{children:"TOTAUX"})}),r.jsx("td",{children:r.jsx("strong",{children:h(e.employees.reduce((m,u)=>m+u.mealExpense.totalAmount,0))})}),r.jsx("td",{children:r.jsxs("strong",{children:[e.employees.reduce((m,u)=>m+u.kmExpense.totalKm,0)," km"]})}),r.jsx("td",{children:r.jsx("strong",{children:h(e.employees.reduce((m,u)=>m+u.mealExpense.totalAmount,0))})})]})})]})}),r.jsxs("div",{className:"print-summary",children:[r.jsxs("div",{className:"summary-item",children:[r.jsx("strong",{children:"Nombre de salariés :"})," ",e.employees.length]}),r.jsxs("div",{className:"summary-item",children:[r.jsx("strong",{children:"Total frais repas :"})," ",h(e.employees.reduce((m,u)=>m+u.mealExpense.totalAmount,0))]}),r.jsxs("div",{className:"summary-item",children:[r.jsx("strong",{children:"Total kilomètres :"})," ",e.employees.reduce((m,u)=>m+u.kmExpense.totalKm,0)," km"]})]}),c.length>0&&r.jsxs("div",{className:"advance-summary",children:[r.jsxs("h3",{children:["💰 Acomptes sur Salaire - ",x(a)," ",o]}),r.jsx("div",{className:"advance-table",children:r.jsxs("table",{className:"status-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Salarié"}),r.jsx("th",{children:"Montant Acompte"}),r.jsx("th",{children:"Date de Demande"}),r.jsx("th",{children:"Commentaire"})]})}),r.jsx("tbody",{children:c.map(m=>r.jsxs("tr",{children:[r.jsx("td",{className:"employee-name",children:r.jsx("strong",{children:m.employeeName})}),r.jsx("td",{className:"advance-amount",children:r.jsx("strong",{children:h(m.amount)})}),r.jsx("td",{className:"request-date",children:new Date(m.createdAt).toLocaleDateString("fr-FR")}),r.jsx("td",{className:"comment",children:m.managerComment||m.comment||"-"})]},m._id))}),r.jsx("tfoot",{children:r.jsxs("tr",{className:"totals-row",children:[r.jsx("td",{children:r.jsx("strong",{children:"TOTAL ACOMPTES"})}),r.jsx("td",{children:r.jsx("strong",{children:h(c.reduce((m,u)=>m+u.amount,0))})}),r.jsx("td",{colSpan:"2"})]})})]})}),r.jsxs("div",{className:"advance-summary-stats",children:[r.jsxs("div",{className:"summary-item",children:[r.jsx("strong",{children:"Nombre d'acomptes :"})," ",c.length]}),r.jsxs("div",{className:"summary-item",children:[r.jsx("strong",{children:"Montant total des acomptes :"})," ",h(c.reduce((m,u)=>m+u.amount,0))]})]})]})]}),!e&&!n&&r.jsxs("div",{className:"card",style:{textAlign:"center",padding:"3rem"},children:[r.jsx("h3",{children:"📄 Aucune donnée"}),r.jsx("p",{children:'Cliquez sur "Actualiser" pour charger les données du mois sélectionné.'})]}),r.jsx("div",{style:{marginTop:"2rem"},children:r.jsx(cy,{})})]})},uy=()=>{const[e,t]=j.useState([]),[n,s]=j.useState(!0);j.useEffect(()=>{a()},[]);const a=async()=>{try{s(!0);const d=await U.get("/employees");let p=null;d.data.success&&d.data.data?p=d.data.data:Array.isArray(d.data)&&(p=d.data),p?t(p):(t([]),A.error("Format de données invalide"))}catch(d){A.error("Erreur lors du chargement des employés"),console.error(d),t([])}finally{s(!1)}},l=()=>{const d={};return e.filter(f=>f.contractType==="Apprentissage"&&f.tutor).forEach(f=>{const y=f.tutor;if(!d[y]){const N=e.find(x=>x._id===y);N&&(d[y]={tutor:N,apprentices:[]})}d[y]&&d[y].apprentices.push(f)}),Object.values(d)},o=d=>({vendeuse:"Vendeuse",apprenti:"Apprenti",responsable:"Responsable",manager:"Manager",preparateur:"Préparateur",chef_prod:"Chef Prod",boulanger:"Boulanger"})[d]||d,i=d=>d?new Date(d).toLocaleDateString("fr-FR"):"-";if(n)return r.jsx("div",{className:"card",children:r.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[r.jsx("div",{className:"loading"}),r.jsx("p",{children:"Chargement des tuteurs..."})]})});const c=l();return r.jsxs("div",{className:"tutors fade-in",children:[r.jsxs("div",{className:"page-header",children:[r.jsx("h2",{children:"👨‍🏫 Gestion des Tuteurs"}),r.jsx("p",{children:"Liste des tuteurs et de leurs apprentis"})]}),c.length===0?r.jsxs("div",{className:"card",style:{textAlign:"center",padding:"3rem"},children:[r.jsx("h3",{children:"👨‍🏫 Aucun tuteur trouvé"}),r.jsx("p",{children:"Aucun apprenti n'a de tuteur assigné pour le moment."})]}):r.jsx("div",{className:"card",children:r.jsx("div",{style:{overflowX:"auto"},children:r.jsxs("table",{className:"table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Tuteur"}),r.jsx("th",{children:"Rôle"}),r.jsx("th",{children:"Statut"}),r.jsx("th",{children:"Apprentis"}),r.jsx("th",{children:"Détails des apprentis"})]})}),r.jsx("tbody",{children:c.map((d,p)=>r.jsxs("tr",{children:[r.jsx("td",{children:r.jsx("strong",{children:d.tutor.name})}),r.jsx("td",{children:o(d.tutor.role)}),r.jsx("td",{children:r.jsx("span",{style:{color:d.tutor.isActive?"#28a745":"#dc3545",fontWeight:"bold"},children:d.tutor.isActive?"Actif":"Inactif"})}),r.jsx("td",{children:r.jsx("span",{style:{backgroundColor:"#007bff",color:"white",padding:"0.25rem 0.5rem",borderRadius:"50%",fontSize:"0.9rem",fontWeight:"bold"},children:d.apprentices.length})}),r.jsx("td",{children:r.jsx("div",{style:{maxWidth:"300px"},children:d.apprentices.map((f,y)=>{var N;return r.jsxs("div",{style:{marginBottom:"0.5rem",padding:"0.5rem",backgroundColor:"#f8f9fa",borderRadius:"4px",border:"1px solid #dee2e6"},children:[r.jsx("div",{style:{fontWeight:"bold",color:"#495057"},children:f.name}),r.jsxs("div",{style:{fontSize:"0.9rem",color:"#6c757d"},children:["Âge: ",f.age," ans",f.isMinor&&r.jsx("span",{style:{color:"#ffc107",marginLeft:"0.5rem"},children:"(Mineur)"})]}),r.jsxs("div",{style:{fontSize:"0.9rem",color:"#6c757d"},children:["Contrat: ",f.contractType]}),f.contractEndDate&&r.jsxs("div",{style:{fontSize:"0.9rem",color:"#6c757d"},children:["Fin: ",i(f.contractEndDate)]}),r.jsxs("div",{style:{fontSize:"0.9rem",color:"#6c757d"},children:["Formation: ",((N=f.trainingDays)==null?void 0:N.join(", "))||"Aucune"]}),r.jsxs("div",{style:{fontSize:"0.9rem",color:"#6c757d"},children:["Statut:",r.jsx("span",{style:{color:f.isActive?"#28a745":"#dc3545",fontWeight:"bold",marginLeft:"0.25rem"},children:f.isActive?"Actif":"Inactif"})]})]},f._id)})})})]},d.tutor._id))})]})})}),r.jsxs("div",{className:"card",style:{marginTop:"1.5rem"},children:[r.jsx("h3",{children:"📊 Statistiques"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[r.jsxs("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[r.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#007bff"},children:c.length}),r.jsx("div",{style:{color:"#6c757d"},children:"Tuteurs actifs"})]}),r.jsxs("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[r.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#28a745"},children:e.filter(d=>d.contractType==="Apprentissage").length}),r.jsx("div",{style:{color:"#6c757d"},children:"Apprentis total"})]}),r.jsxs("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[r.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#ffc107"},children:e.filter(d=>d.contractType==="Apprentissage"&&!d.tutor).length}),r.jsx("div",{style:{color:"#6c757d"},children:"Sans tuteur"})]})]})]})]})},hd=()=>{const[e,t]=j.useState({employeeName:"",employeeEmail:"",startDate:"",endDate:""}),[n,s]=j.useState(null),[a,l]=j.useState(null),[o,i]=j.useState(!1),[c,d]=j.useState(""),[p,f]=j.useState(""),[y,N]=j.useState([]),[x,h]=j.useState(!0),m="https://boulangerie-planning-api-4-pbfy.onrender.com/api";j.useEffect(()=>{(async()=>{try{console.log("🔄 Chargement des employés depuis:",`${m}/employees`);const w=await ne.get(`${m}/employees`);console.log("📊 Réponse API employés:",w.data);let S=null;w.data.success&&w.data.data?S=w.data.data:Array.isArray(w.data)&&(S=w.data),S?(N(S),console.log("✅ Employés chargés:",S)):(console.error("❌ Réponse API invalide:",w.data),d("Erreur: réponse API invalide"),f("error"))}catch(w){console.error("❌ Erreur récupération employés:",w),d("Erreur lors du chargement de la liste des employés"),f("error")}finally{h(!1)}})()},[m]);const u=C=>{const{name:w,value:S}=C.target;if(w==="employeeName"){const b=y.find(L=>L.name===S);t(L=>({...L,[w]:S,employeeEmail:b?b.email:""}))}else t(b=>({...b,[w]:S}))},v=C=>{const w=C.target.files[0];if(w){if(!["image/jpeg","image/jpg","application/pdf"].includes(w.type)){d("Seuls les fichiers JPG et PDF sont acceptés"),f("error");return}if(w.size>10*1024*1024){d("Le fichier ne doit pas dépasser 10MB"),f("error");return}if(s(w),d(""),f(""),w.type.startsWith("image/")){const b=new FileReader;b.onload=L=>{l(L.target.result)},b.readAsDataURL(w)}else l(null)}},g=async C=>{var w,S;if(C.preventDefault(),!n){d("Veuillez sélectionner un fichier"),f("error");return}i(!0),d("");try{const b=new FormData;b.append("sickLeaveFile",n),b.append("employeeName",e.employeeName),b.append("employeeEmail",e.employeeEmail),b.append("startDate",e.startDate),b.append("endDate",e.endDate);const L=await ne.post(`${m}/sick-leaves/upload`,b,{headers:{"Content-Type":"multipart/form-data"}});L.data.success?(d("Arrêt maladie envoyé avec succès !"),f("success"),t({employeeName:"",employeeEmail:"",startDate:"",endDate:""}),s(null),l(null),document.getElementById("fileInput").value=""):(d(L.data.error||"Erreur lors de l'envoi"),f("error"))}catch(b){console.error("Erreur upload:",b),d(((S=(w=b.response)==null?void 0:w.data)==null?void 0:S.error)||"Erreur lors de l'envoi de l'arrêt maladie"),f("error")}finally{i(!1)}},E=()=>new Date().toISOString().split("T")[0];return r.jsx("div",{className:"sick-leave-upload-standalone",children:r.jsxs("div",{className:"upload-container",children:[r.jsxs("div",{className:"upload-header",children:[r.jsx("h1",{children:"📋 Envoi d'Arrêt Maladie"}),r.jsx("p",{children:"Envoyez votre arrêt maladie"})]}),r.jsxs("form",{onSubmit:g,className:"upload-form",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"employeeName",children:"Nom complet *"}),r.jsxs("select",{id:"employeeName",name:"employeeName",value:e.employeeName,onChange:u,required:!0,disabled:x,children:[r.jsx("option",{value:"",children:x?"Chargement...":"Sélectionnez votre nom"}),y.map(C=>r.jsx("option",{value:C.name,children:C.name},C._id))]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"employeeEmail",children:"Email *"}),r.jsx("input",{type:"email",id:"employeeEmail",name:"employeeEmail",value:e.employeeEmail,onChange:u,required:!0,placeholder:"votre.email@exemple.com",readOnly:!0,className:"readonly-input"})]}),r.jsxs("div",{className:"date-group",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"startDate",children:"Date de début d'arrêt *"}),r.jsx("input",{type:"date",id:"startDate",name:"startDate",value:e.startDate,onChange:u,required:!0,max:E()})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"endDate",children:"Date de fin d'arrêt *"}),r.jsx("input",{type:"date",id:"endDate",name:"endDate",value:e.endDate,onChange:u,required:!0,min:e.startDate||E()})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"fileInput",children:"Arrêt maladie (JPG ou PDF) *"}),r.jsxs("div",{className:"file-upload-area",children:[r.jsx("input",{type:"file",id:"fileInput",accept:".jpg,.jpeg,.pdf",onChange:v,required:!0,className:"file-input"}),r.jsx("label",{htmlFor:"fileInput",className:"file-label",children:n?r.jsxs("div",{className:"file-selected",children:[r.jsx("span",{className:"file-icon",children:"📄"}),r.jsx("span",{className:"file-name",children:n.name}),r.jsxs("span",{className:"file-size",children:["(",(n.size/1024/1024).toFixed(2)," MB)"]})]}):r.jsxs("div",{className:"file-placeholder",children:[r.jsx("span",{className:"upload-icon",children:"📤"}),r.jsx("span",{children:"Cliquez pour sélectionner un fichier"}),r.jsx("small",{children:"JPG, PDF (max 10MB)"})]})})]})]}),a&&r.jsxs("div",{className:"preview-container",children:[r.jsx("h3",{children:"Aperçu :"}),r.jsx("img",{src:a,alt:"Aperçu",className:"preview-image"})]}),c&&r.jsx("div",{className:`message ${p}`,children:c}),r.jsx("button",{type:"submit",className:"submit-button",disabled:o,children:o?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"spinner"}),"Envoi en cours..."]}):r.jsx(r.Fragment,{children:"📤 Envoyer l'arrêt maladie"})})]}),r.jsxs("div",{className:"upload-info",children:[r.jsx("h3",{children:"ℹ️ Informations importantes"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Seuls les fichiers JPG et PDF sont acceptés"}),r.jsx("li",{children:"Taille maximum : 10MB"}),r.jsx("li",{children:"Vous recevrez une confirmation par email si votre arrêt nous est bien transmis"})]})]})]})})},my=()=>{const[e,t]=j.useState([]),[n,s]=j.useState({}),[a,l]=j.useState(!0),[o,i]=j.useState("all"),[c,d]=j.useState(1),[p,f]=j.useState(1),[y,N]=j.useState(""),[x,h]=j.useState(""),[m,u]=j.useState(null),[v,g]=j.useState(!1),[E,C]=j.useState(!1),[w,S]=j.useState(null),[b,L]=j.useState({startDate:"",endDate:""}),T="https://boulangerie-planning-api-4-pbfy.onrender.com/api",$=j.useCallback(async()=>{var V,X,ee,se;try{l(!0),console.log("📋 Récupération des arrêts maladie...");const oe={page:c,limit:50,sortBy:"uploadDate",sortOrder:"desc"};o!=="all"&&(oe.status=o);const R=await ne.get(`${T}/sick-leaves`,{params:oe});if(R.data.success){let Y=R.data.data.sickLeaves||R.data.data;console.log("📋 Arrêts maladie reçus:",Y),o!=="all"&&(Y=Y.filter(Ct=>Ct.status===o)),Y.sort((Ct,_n)=>new Date(_n.uploadDate)-new Date(Ct.uploadDate));const ye=12,fe=(c-1)*ye,pe=fe+ye,kt=Y.slice(fe,pe);t(kt),f(Math.ceil(Y.length/ye)),console.log(`✅ ${Y.length} arrêts maladie récupérés, ${kt.length} affichés`)}else console.log("❌ Réponse API sans succès:",R.data),N("Erreur: Réponse API invalide"),h("error")}catch(oe){console.error("❌ Erreur lors du chargement des arrêts maladie:",oe),console.error("❌ Détails de l'erreur:",(V=oe.response)==null?void 0:V.data),console.error("❌ Status:",(X=oe.response)==null?void 0:X.status),N(`Erreur lors du chargement des arrêts maladie: ${((se=(ee=oe.response)==null?void 0:ee.data)==null?void 0:se.error)||oe.message}`),h("error")}finally{l(!1)}},[o,c,T]),_=async()=>{var X,ee;if(window.confirm(`⚠️ ATTENTION : Cette action va supprimer TOUTES les données des arrêts maladie de la base de données.

- Les fichiers sur le NAS seront conservés
- Seuls les enregistrements de la base de données seront supprimés
- Cette action est IRRÉVERSIBLE

Êtes-vous sûr de vouloir continuer ?`))try{console.log("🗑️ Suppression de tous les arrêts maladie..."),l(!0);const se=await ne.delete(`${T}/sick-leaves/all`);se.data.success?(N(`✅ ${se.data.deletedCount} arrêts maladie supprimés de la base de données`),h("success"),await $(),await P()):(N("❌ Erreur lors de la suppression"),h("error"))}catch(se){console.error("❌ Erreur suppression arrêts maladie:",se),N(`❌ Erreur lors de la suppression: ${((ee=(X=se.response)==null?void 0:X.data)==null?void 0:ee.error)||se.message}`),h("error")}finally{l(!1)}},P=j.useCallback(async()=>{try{console.log("📊 Récupération des statistiques...");const V=await ne.get(`${T}/sick-leaves/stats/overview`);V.data.success&&(s(V.data.data),console.log("✅ Statistiques récupérées:",V.data.data))}catch(V){if(console.error("Erreur récupération statistiques:",V),e.length>0){const X={total:e.length,pending:e.filter(ee=>ee.status==="pending").length,validated:e.filter(ee=>ee.status==="validated").length,declared:e.filter(ee=>ee.status==="declared").length,rejected:e.filter(ee=>ee.status==="rejected").length,overdue:0};s(X)}}},[T]);j.useEffect(()=>{$(),P()},[o,c,$,P]);const D=async V=>{try{if((await ne.put(`${T}/sick-leaves/${V}/validate`,{validatedBy:"Admin",notes:"Validé par l'administrateur"})).data.success){try{const ee=e.find(se=>se._id===V);if(ee){const se=await ne.get(`${T}/employees`);console.log("🔍 Recherche employé:",ee.employeeName),console.log("🔍 Employés disponibles:",se.data.map(R=>({name:R.name,id:R._id})));const oe=se.data.find(R=>R.name===ee.employeeName);oe?(console.log("✅ Employé trouvé:",oe.name,"ID:",oe._id),await ne.put(`${T}/employees/${oe._id}`,{sickLeave:{isOnSickLeave:!0,startDate:ee.startDate,endDate:ee.endDate}}),console.log("✅ Arrêt maladie synchronisé avec la déclaration manuelle")):console.warn("⚠️ Employé non trouvé pour la synchronisation:",ee.employeeName)}}catch(ee){console.error("⚠️ Erreur lors de la synchronisation:",ee)}N("Arrêt maladie validé et synchronisé avec succès"),h("success"),$(),P()}}catch(X){console.error("Erreur validation:",X),N("Erreur lors de la validation"),h("error")}},I=async V=>{const X=prompt("Raison du rejet (obligatoire):");if(!X||X.trim()===""){N("La raison du rejet est obligatoire"),h("error");return}if(window.confirm(`Êtes-vous sûr de vouloir rejeter cet arrêt maladie ?

Raison : ${X}

Un email sera envoyé au salarié pour l'informer du rejet.`))try{(await ne.put(`${T}/sick-leaves/${V}/reject`,{rejectedBy:"Admin",reason:X.trim()})).data.success&&(N("Arrêt maladie rejeté - Email envoyé au salarié"),h("success"),$(),P())}catch(se){console.error("Erreur rejet:",se),N("Erreur lors du rejet"),h("error")}},z=async V=>{const X=prompt("Notes de déclaration (optionnel):")||"";if(window.confirm(`Êtes-vous sûr de vouloir marquer cet arrêt maladie comme déclaré ?

Un email sera envoyé au comptable pour l'informer de la validation.`))try{(await ne.put(`${T}/sick-leaves/${V}/declare`,{declaredBy:"Admin",notes:X})).data.success&&(N("Arrêt maladie déclaré - Email envoyé au comptable"),h("success"),$(),P())}catch(se){console.error("Erreur déclaration:",se),N("Erreur lors de la déclaration"),h("error")}},Q=V=>{S(V),L({startDate:V.startDate.split("T")[0],endDate:V.endDate.split("T")[0]}),C(!0)},F=()=>{C(!1),S(null),L({startDate:"",endDate:""})},q=async V=>{if(V.preventDefault(),!!w)try{(await ne.put(`${T}/sick-leaves/${w._id}`,{startDate:b.startDate,endDate:b.endDate})).data.success&&(N("Dates modifiées avec succès"),h("success"),F(),$())}catch(X){console.error("Erreur lors de la modification:",X),N("Erreur lors de la modification des dates"),h("error")}},J=async V=>{try{const X=await ne.get(`${T}/sick-leaves/${V}/download`,{responseType:"blob"}),ee=X.headers["content-disposition"];let se=`arret-maladie-${V}.pdf`;if(ee){const Y=ee.match(/filename="(.+)"/);Y&&(se=Y[1])}const oe=window.URL.createObjectURL(new Blob([X.data])),R=document.createElement("a");R.href=oe,R.setAttribute("download",se),document.body.appendChild(R),R.click(),R.remove(),window.URL.revokeObjectURL(oe),console.log("✅ Fichier téléchargé:",se)}catch(X){console.error("❌ Erreur téléchargement:",X),N("Erreur lors du téléchargement du fichier"),h("error")}},te=V=>{u(V),g(!0)},K=()=>{g(!1),u(null)},He=V=>{const ee={pending:{text:"En attente",class:"status-pending"},validated:{text:"Validé",class:"status-validated"},declared:{text:"Déclaré",class:"status-declared"},rejected:{text:"Rejeté",class:"status-rejected"}}[V]||{text:V,class:"status-default"};return r.jsx("span",{className:`status-badge ${ee.class}`,children:ee.text})},we=V=>new Date(V).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric"}),ze=V=>{if(V===0)return"0 Bytes";const X=1024,ee=["Bytes","KB","MB","GB"],se=Math.floor(Math.log(V)/Math.log(X));return parseFloat((V/Math.pow(X,se)).toFixed(2))+" "+ee[se]};return r.jsxs("div",{className:"sick-leave-admin",children:[r.jsxs("div",{className:"admin-header",children:[r.jsx("h1",{children:"🏥 Gestion des Arrêts Maladie"}),r.jsx("p",{children:"Suivi et validation des arrêts maladie des salariés"})]}),r.jsxs("div",{className:"stats-grid",children:[r.jsxs("div",{className:"stat-item",children:[r.jsx("div",{className:"stat-number",children:n.total||0}),r.jsx("div",{className:"stat-label",children:"Total"})]}),r.jsxs("div",{className:"stat-item pending",children:[r.jsx("div",{className:"stat-number",children:n.pending||0}),r.jsx("div",{className:"stat-label",children:"En attente"})]}),r.jsxs("div",{className:"stat-item validated",children:[r.jsx("div",{className:"stat-number",children:n.validated||0}),r.jsx("div",{className:"stat-label",children:"Validés"})]}),r.jsxs("div",{className:"stat-item declared",children:[r.jsx("div",{className:"stat-number",children:n.declared||0}),r.jsx("div",{className:"stat-label",children:"Déclarés"})]}),n.overdue>0&&r.jsxs("div",{className:"stat-item overdue",children:[r.jsx("div",{className:"stat-number",children:n.overdue}),r.jsx("div",{className:"stat-label",children:"En retard"})]})]}),r.jsxs("div",{className:"admin-actions",children:[r.jsx("button",{className:"btn btn-danger",onClick:_,disabled:a||(n.total||0)===0,style:{opacity:(n.total||0)===0?.5:1,cursor:(n.total||0)===0?"not-allowed":"pointer"},children:"🗑️ Effacer toutes les données"}),r.jsxs("p",{className:"admin-warning",children:["⚠️ Attention : Ce bouton supprime uniquement les données de la base de données.",r.jsx("br",{}),"Les fichiers sur le NAS sont conservés."]})]}),r.jsxs("div",{className:"filters-row",children:[r.jsxs("select",{value:o,onChange:V=>{i(V.target.value),d(1)},className:"status-filter",children:[r.jsx("option",{value:"all",children:"Tous les statuts"}),r.jsx("option",{value:"pending",children:"En attente"}),r.jsx("option",{value:"validated",children:"Validés"}),r.jsx("option",{value:"declared",children:"Déclarés"}),r.jsx("option",{value:"rejected",children:"Rejetés"})]}),r.jsx("div",{className:"quick-actions",children:r.jsx("a",{href:"/plan/sick-leave-standalone.html",target:"_blank",rel:"noopener noreferrer",className:"action-link",children:"📤 Lien pour salariés"})})]}),y&&r.jsx("div",{className:`message ${x}`,children:y}),r.jsx("div",{className:"sick-leaves-list",children:a?r.jsx("div",{className:"loading",children:"Chargement..."}):e.length===0?r.jsx("div",{className:"no-data",children:"Aucun arrêt maladie trouvé"}):r.jsx("div",{className:"sick-leaves-grid",children:e.map(V=>r.jsxs("div",{className:"sick-leave-card",children:[r.jsxs("div",{className:"card-header",children:[r.jsxs("div",{className:"employee-info",children:[r.jsx("h3",{children:V.employeeName}),r.jsx("p",{children:V.employeeEmail})]}),He(V.status)]}),r.jsxs("div",{className:"card-content",children:[r.jsxs("div",{className:"period",children:[r.jsx("strong",{children:"Période:"})," ",we(V.startDate)," - ",we(V.endDate),r.jsxs("span",{className:"duration",children:["(",V.duration," jour",V.duration>1?"s":"",")"]})]}),r.jsxs("div",{className:"file-info",children:[r.jsx("strong",{children:"Fichier:"})," ",V.originalFileName,r.jsxs("span",{className:"file-size",children:["(",ze(V.fileSize),")"]})]}),r.jsxs("div",{className:"validation-info",children:[r.jsxs("div",{className:`quality-score ${V.autoValidation.qualityScore>=60?"good":"poor"}`,children:["Score: ",V.autoValidation.qualityScore,"/100"]}),V.isOverdue&&r.jsx("div",{className:"overdue-warning",children:"⚠️ En retard"})]})]}),r.jsxs("div",{className:"card-actions",children:[r.jsx("button",{onClick:()=>te(V),className:"btn btn-info",title:"Voir détails",children:"👁️"}),r.jsx("button",{onClick:()=>J(V._id),className:"btn btn-download",title:"Télécharger",children:"📥"}),V.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>Q(V),className:"btn btn-warning",title:"Modifier les dates",children:"✏️"}),r.jsx("button",{onClick:()=>D(V._id),className:"btn btn-success",title:"Valider",children:"✅"}),r.jsx("button",{onClick:()=>I(V._id),className:"btn btn-danger",title:"Rejeter",children:"❌"})]}),V.status==="validated"&&r.jsx("button",{onClick:()=>z(V._id),className:"btn btn-primary",title:"Marquer comme déclaré",children:"📋"})]})]},V._id))})}),p>1&&r.jsxs("div",{className:"pagination",children:[r.jsx("button",{onClick:()=>d(V=>Math.max(V-1,1)),disabled:c===1,className:"page-btn",children:"Précédent"}),r.jsxs("span",{className:"page-info",children:["Page ",c," sur ",p]}),r.jsx("button",{onClick:()=>d(V=>Math.min(V+1,p)),disabled:c===p,className:"page-btn",children:"Suivant"})]}),v&&m&&r.jsx("div",{className:"modal-overlay",onClick:K,children:r.jsxs("div",{className:"modal-content",onClick:V=>V.stopPropagation(),children:[r.jsxs("div",{className:"modal-header",children:[r.jsx("h2",{children:"Détails de l'arrêt maladie"}),r.jsx("button",{onClick:K,className:"close-btn",children:"×"})]}),r.jsxs("div",{className:"modal-body",children:[r.jsxs("div",{className:"detail-section",children:[r.jsx("h3",{children:"Salarié"}),r.jsxs("p",{children:[r.jsx("strong",{children:"Nom:"})," ",m.employeeName]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Email:"})," ",m.employeeEmail]})]}),r.jsxs("div",{className:"detail-section",children:[r.jsx("h3",{children:"Période d'arrêt"}),r.jsxs("p",{children:[r.jsx("strong",{children:"Début:"})," ",we(m.startDate)]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Fin:"})," ",we(m.endDate)]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Durée:"})," ",m.duration," jour",m.duration>1?"s":""]})]}),r.jsxs("div",{className:"detail-section",children:[r.jsx("h3",{children:"Fichier"}),r.jsxs("p",{children:[r.jsx("strong",{children:"Nom:"})," ",m.originalFileName]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Taille:"})," ",ze(m.fileSize)]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Type:"})," ",m.fileType]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Uploadé le:"})," ",we(m.uploadDate)]})]}),r.jsxs("div",{className:"detail-section",children:[r.jsx("h3",{children:"Validation automatique"}),r.jsxs("p",{children:[r.jsx("strong",{children:"Score:"})," ",m.autoValidation.qualityScore,"/100"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Message:"})," ",m.autoValidation.validationMessage]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Lisible:"})," ",m.autoValidation.isReadable?"Oui":"Non"]})]}),m.manualValidation.validatedBy&&r.jsxs("div",{className:"detail-section",children:[r.jsx("h3",{children:"Validation manuelle"}),r.jsxs("p",{children:[r.jsx("strong",{children:"Validé par:"})," ",m.manualValidation.validatedBy]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Date:"})," ",we(m.manualValidation.validatedAt)]}),m.manualValidation.validationNotes&&r.jsxs("p",{children:[r.jsx("strong",{children:"Notes:"})," ",m.manualValidation.validationNotes]})]})]}),r.jsxs("div",{className:"modal-footer",children:[r.jsx("button",{onClick:()=>J(m._id),className:"btn btn-download",children:"📥 Télécharger"}),r.jsx("button",{onClick:K,className:"btn btn-secondary",children:"Fermer"})]})]})}),E&&w&&r.jsx("div",{className:"modal-overlay",children:r.jsxs("div",{className:"modal-content",children:[r.jsxs("div",{className:"modal-header",children:[r.jsx("h3",{children:"✏️ Modifier les dates"}),r.jsx("button",{onClick:F,className:"close-btn",children:"×"})]}),r.jsxs("form",{onSubmit:q,children:[r.jsxs("div",{className:"modal-body",children:[r.jsx("div",{className:"form-group",children:r.jsxs("label",{children:["Employé: ",w.employeeName]})}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"editStartDate",children:"Date de début:"}),r.jsx("input",{type:"date",id:"editStartDate",value:b.startDate,onChange:V=>L({...b,startDate:V.target.value}),required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"editEndDate",children:"Date de fin:"}),r.jsx("input",{type:"date",id:"editEndDate",value:b.endDate,onChange:V=>L({...b,endDate:V.target.value}),required:!0})]})]}),r.jsxs("div",{className:"modal-footer",children:[r.jsx("button",{type:"submit",className:"btn btn-primary",children:"💾 Sauvegarder"}),r.jsx("button",{type:"button",onClick:F,className:"btn btn-secondary",children:"Annuler"})]})]})]})})]})},fy=()=>r.jsx("div",{className:"sick-leave-home",children:r.jsxs("div",{className:"home-container",children:[r.jsxs("div",{className:"home-header",children:[r.jsx("h1",{children:"🏥 Arrêts Maladie"}),r.jsx("p",{children:"Envoyez votre arrêt maladie en toute sécurité"})]}),r.jsxs("div",{className:"home-content",children:[r.jsxs("div",{className:"info-card",children:[r.jsx("h2",{children:"📋 Comment envoyer votre arrêt maladie ?"}),r.jsxs("ol",{children:[r.jsx("li",{children:"Remplissez le formulaire avec vos informations"}),r.jsx("li",{children:"Scannez ou photographiez votre arrêt maladie"}),r.jsx("li",{children:"Envoyez le fichier (JPG ou PDF)"}),r.jsx("li",{children:"Recevez une confirmation"})]})]}),r.jsxs("div",{className:"requirements-card",children:[r.jsx("h2",{children:"✅ Exigences"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Fichier JPG ou PDF uniquement"}),r.jsx("li",{children:"Taille maximum : 10MB"}),r.jsx("li",{children:"Document lisible et de bonne qualité"}),r.jsx("li",{children:"Dates de début et fin d'arrêt"})]})]}),r.jsxs("div",{className:"security-card",children:[r.jsx("h2",{children:"🔒 Sécurité"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Vos données sont chiffrées"}),r.jsx("li",{children:"Stockage sécurisé sur notre serveur"}),r.jsx("li",{children:"Accès restreint aux administrateurs"}),r.jsx("li",{children:"Conformité RGPD"})]})]})]}),r.jsx("div",{className:"action-section",children:r.jsx(Vm,{to:"/sick-leave-upload",className:"upload-button",children:"📤 Envoyer mon arrêt maladie"})}),r.jsxs("div",{className:"contact-info",children:[r.jsx("h3",{children:"📞 Besoin d'aide ?"}),r.jsx("p",{children:"Contactez votre responsable ou l'administration"})]})]})}),py=()=>{const[e,t]=j.useState([]),[n,s]=j.useState([]),[a,l]=j.useState(!0),[o,i]=j.useState(!1),[c,d]=j.useState(null),[p,f]=j.useState({startDate:"",endDate:""}),[y,N]=j.useState("all"),[x,h]=j.useState(new Date().getFullYear());console.log("🔧 VacationRequestAdmin - Rendu du composant"),j.useEffect(()=>{console.log("🔧 État showEditModal changé:",o),o||console.log("🔧 Modal fermé - Stack trace:",new Error().stack)},[o]);const m=async()=>{try{l(!0),console.log("📅 Récupération des demandes de congés...");const T=await U.get("/vacation-requests");T.data.success?(t(T.data.data),console.log("✅ Demandes de congés chargées:",T.data.data.length),u(T.data.data)):(t([]),s([]),console.error("❌ Format de données invalide"))}catch(T){console.error("❌ Erreur lors du chargement:",T),A.error("Erreur lors du chargement des demandes de congés"),t([]),s([])}finally{l(!1)}},u=(T=e)=>{let $=T;y!=="all"&&($=$.filter(_=>_.status===y)),$=$.filter(_=>new Date(_.startDate).getFullYear()===x),s($)};j.useEffect(()=>{u()},[y,x,e]),j.useEffect(()=>{m()},[]);const v=T=>{console.log("🔧 Ouverture modal modification pour:",T);const $={startDate:T.startDate,endDate:T.endDate,startDateType:typeof T.startDate,endDateType:typeof T.endDate};console.log("🔧 Dates originales:",$);const _={startDate:T.startDate.split("T")[0],endDate:T.endDate.split("T")[0]};console.log("🔧 Dates extraites:",_),d(T),f(_),i(!0),console.log("🔧 Modal ouvert:",!0),setTimeout(()=>{console.log("🔧 Vérification modal après 1 seconde - Modal devrait être ouvert"),o||console.log("🔧 MODAL FERMÉ AUTOMATIQUEMENT - Raison possible: re-render ou autre événement")},1e3)},g=()=>{console.log("🔧 Fermeture modal - Appelée depuis:",new Error().stack),console.log("🔧 État showEditModal avant fermeture:",o),i(!1),d(null),f({startDate:"",endDate:""})},E=async T=>{if(T.preventDefault(),!!c)try{console.log("🔧 Soumission modification pour:",c._id),console.log("🔧 Nouvelles dates:",p);const $=await U.patch(`/vacation-requests/${c._id}`,{startDate:p.startDate,endDate:p.endDate});console.log("🔧 Réponse API modification:",$.data),$.data.success?(A.success("Demande de congés modifiée avec succès"),g(),m()):A.error("Erreur lors de la modification")}catch($){console.error("❌ Erreur lors de la modification:",$),A.error("Erreur lors de la modification de la demande")}},C=async T=>{try{(await U.patch(`/vacation-requests/${T}/accept`)).data.success&&(A.success("Demande acceptée"),m())}catch($){console.error("Erreur acceptation:",$),A.error("Erreur lors de l'acceptation")}},w=async T=>{try{(await U.patch(`/vacation-requests/${T}/reject`)).data.success&&(A.success("Demande rejetée"),m())}catch($){console.error("Erreur rejet:",$),A.error("Erreur lors du rejet")}},S=T=>{const _={pending:{text:"En attente",class:"badge-warning"},accepted:{text:"Accepté",class:"badge-success"},rejected:{text:"Rejeté",class:"badge-danger"}}[T]||{text:T,class:"badge-secondary"};return r.jsx("span",{className:`badge ${_.class}`,children:_.text})},b=T=>new Date(T).toLocaleDateString("fr-FR"),L=(T,$)=>{const _=new Date(T),P=new Date($),D=Math.abs(P-_);return Math.ceil(D/(1e3*60*60*24))+1};return r.jsxs("div",{className:"vacation-request-admin",children:[r.jsxs("div",{className:"admin-header",children:[r.jsx("h1",{children:"🏖️ Gestion des Demandes de Congés"}),r.jsx("p",{children:"Validation et suivi des demandes de congés des employés"})]}),r.jsxs("div",{className:"admin-actions",children:[r.jsx("button",{className:"btn btn-primary",onClick:()=>window.open("/plan/vacation-planning","_blank"),children:"🖨️ Impression Calendrier"}),r.jsx("button",{className:"btn btn-warning",onClick:async()=>{try{const T=await U.post("/vacation-requests/sync-employees");T.data.success&&(A.success(`Synchronisation terminée: ${T.data.syncedCount} employés mis à jour`),m())}catch{A.error("Erreur lors de la synchronisation")}},children:"🔄 Synchroniser Congés"})]}),r.jsxs("div",{className:"filters-section",children:[r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{children:"Statut:"}),r.jsxs("select",{value:y,onChange:T=>N(T.target.value),className:"form-control",children:[r.jsxs("option",{value:"all",children:["Toutes (",e.length,")"]}),r.jsxs("option",{value:"pending",children:["En attente (",e.filter(T=>T.status==="pending").length,")"]}),r.jsxs("option",{value:"validated",children:["Validées (",e.filter(T=>T.status==="validated").length,")"]}),r.jsxs("option",{value:"rejected",children:["Rejetées (",e.filter(T=>T.status==="rejected").length,")"]})]})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{children:"Année des congés:"}),r.jsxs("select",{value:x,onChange:T=>h(parseInt(T.target.value)),className:"form-control",children:[r.jsx("option",{value:new Date().getFullYear(),children:new Date().getFullYear()}),r.jsx("option",{value:new Date().getFullYear()+1,children:new Date().getFullYear()+1}),r.jsx("option",{value:new Date().getFullYear()-1,children:new Date().getFullYear()-1})]})]})]}),r.jsx("div",{className:"vacation-requests-list",children:a?r.jsx("div",{className:"loading",children:"Chargement des demandes de congés..."}):n.length===0?r.jsx("div",{className:"no-data",children:r.jsx("p",{children:"Aucune demande de congés trouvée pour les filtres sélectionnés"})}):r.jsx("div",{className:"requests-grid",children:n.map(T=>r.jsxs("div",{className:"request-card",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h3",{children:T.employeeName}),r.jsx("p",{children:T.employeeEmail}),r.jsx("p",{children:T.city})]}),r.jsxs("div",{className:"card-content",children:[r.jsxs("div",{className:"period",children:[r.jsx("strong",{children:"Période:"})," ",b(T.startDate)," → ",b(T.endDate),r.jsxs("span",{className:"duration",children:["(",L(T.startDate,T.endDate)," jour",L(T.startDate,T.endDate)>1?"s":"",")"]})]}),r.jsxs("div",{className:"type",children:[r.jsx("strong",{children:"Type:"})," ",T.type]}),r.jsx("div",{className:"status",children:S(T.status)})]}),r.jsx("div",{className:"card-actions",children:T.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>C(T._id),className:"btn btn-success",title:"Accepter",children:"✅"}),r.jsx("button",{onClick:()=>v(T),className:"btn btn-warning",title:"Modifier",children:"✏️"}),r.jsx("button",{onClick:()=>w(T._id),className:"btn btn-danger",title:"Rejeter",children:"❌"})]})})]},T._id))})}),o&&c&&r.jsx("div",{className:"modal-overlay",children:r.jsxs("div",{className:"modal-content",children:[r.jsxs("div",{className:"modal-header",children:[r.jsx("h3",{children:"✏️ Modifier les dates de congés"}),r.jsx("button",{onClick:g,className:"close-btn",children:"×"})]}),r.jsxs("form",{onSubmit:E,children:[r.jsxs("div",{className:"modal-body",children:[r.jsx("div",{className:"form-group",children:r.jsxs("label",{children:["Employé: ",c.employeeName]})}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"editStartDate",children:"Date de début:"}),r.jsx("input",{type:"date",id:"editStartDate",value:p.startDate,onChange:T=>f({...p,startDate:T.target.value}),required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"editEndDate",children:"Date de fin:"}),r.jsx("input",{type:"date",id:"editEndDate",value:p.endDate,onChange:T=>f({...p,endDate:T.target.value}),required:!0})]})]}),r.jsxs("div",{className:"modal-footer",children:[r.jsx("button",{type:"submit",className:"btn btn-primary",children:"💾 Sauvegarder"}),r.jsx("button",{type:"button",onClick:g,className:"btn btn-secondary",children:"Annuler"})]})]})]})}),r.jsx("style",{jsx:!0,children:`
        .filters-section {
          display: flex;
          gap: 20px;
          margin: 20px 0;
          padding: 15px;
          background-color: #f8f9fa;
          border-radius: 8px;
          border: 1px solid #dee2e6;
        }
        
        .filter-group {
          display: flex;
          flex-direction: column;
          gap: 5px;
        }
        
        .filter-group label {
          font-weight: bold;
          color: #495057;
          font-size: 14px;
        }
        
        .filter-group select {
          padding: 8px 12px;
          border: 1px solid #ced4da;
          border-radius: 4px;
          background-color: white;
          font-size: 14px;
        }
      `})]})},hy=()=>{const[e,t]=j.useState([]),[n,s]=j.useState([]),[a,l]=j.useState(!0),[o,i]=j.useState(new Date().getFullYear()),[c,d]=j.useState("all"),[p,f]=j.useState(null);console.log("🔧 VacationPlanning - Rendu du composant");const y=async()=>{try{l(!0),f(null),console.log("📅 Récupération des données...");const g=await U.get("/employees"),E=g.data.success?g.data.data:g.data;s(E),console.log("👥 Employés chargés:",E.length);const C=await U.get("/vacation-requests?status=validated"),w=C.data.success?C.data.data:C.data;t(w),console.log("🏖️ Congés validés chargés:",w.length),console.log("🔍 Détails des congés:",w),console.log("👥 Détails des employés:",E);const S=E.find(b=>b.name==="Camille");console.log("🔍 Camille trouvée:",S)}catch(g){console.error("❌ Erreur lors du chargement:",g),f("Erreur lors du chargement des données"),A.error("Erreur lors du chargement des données")}finally{l(!1)}};j.useEffect(()=>{y()},[]);const N=()=>c==="all"?n:n.filter(g=>c==="vente"?g.role==="vendeuse"||g.role==="responsable"||g.role==="manager"||g.role==="Apprenti Vendeuse":c==="production"?g.role==="chef prod"||g.role==="boulanger"||g.role==="préparateur"||g.role==="Apprenti Boulanger"||g.role==="Apprenti Préparateur":!1),x=[{name:"Janvier",number:1},{name:"Février",number:2},{name:"Mars",number:3},{name:"Avril",number:4},{name:"Mai",number:5},{name:"Juin",number:6},{name:"Juillet",number:7},{name:"Août",number:8},{name:"Septembre",number:9},{name:"Octobre",number:10},{name:"Novembre",number:11},{name:"Décembre",number:12}],h=(g,E)=>{const C=n.find(w=>w._id===g);return C?e.filter(w=>{if(w.employeeName!==C.name)return!1;const S=new Date(w.startDate),b=new Date(w.endDate);if(S.getFullYear()!==o)return!1;const T=S.getMonth()+1,$=b.getMonth()+1;return T<=E&&$>=E}):[]},m=g=>new Date(g).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"}),u=g=>g==="vendeuse"||g==="responsable"||g==="manager"||g==="Apprenti Vendeuse"?"#e3f2fd":g==="chef prod"||g==="boulanger"||g==="Apprenti Boulanger"?"#fff3e0":g==="préparateur"||g==="Apprenti Préparateur"?"#e8f5e8":"#f5f5f5";if(a)return r.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh",fontSize:"18px"},children:"🔄 Chargement du calendrier des congés..."});if(p)return r.jsxs("div",{style:{padding:"20px",textAlign:"center",backgroundColor:"#f8d7da",color:"#721c24",borderRadius:"5px",margin:"20px"},children:["❌ ",p,r.jsx("button",{onClick:y,style:{marginLeft:"10px",padding:"5px 10px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"🔄 Réessayer"})]});const v=N();return r.jsxs("div",{className:"vacation-planning",style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[r.jsxs("div",{className:"planning-header",style:{marginBottom:"30px"},children:[r.jsx("h1",{style:{color:"#333",marginBottom:"10px"},children:"📅 Planning Annuel - Congés Validés"}),r.jsxs("p",{style:{color:"#666",fontSize:"16px"},children:["Boulangerie Arras - ",o]}),r.jsxs("div",{style:{display:"flex",gap:"20px",marginTop:"20px",flexWrap:"wrap",alignItems:"center"},children:[r.jsxs("div",{children:[r.jsx("label",{style:{marginRight:"10px",fontWeight:"bold"},children:"Année:"}),r.jsxs("select",{value:o,onChange:g=>i(parseInt(g.target.value)),style:{padding:"8px 12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"},children:[r.jsx("option",{value:o-1,children:o-1}),r.jsx("option",{value:o,children:o}),r.jsx("option",{value:o+1,children:o+1})]})]}),r.jsxs("div",{children:[r.jsx("label",{style:{marginRight:"10px",fontWeight:"bold"},children:"Catégorie:"}),r.jsxs("select",{value:c,onChange:g=>d(g.target.value),style:{padding:"8px 12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"},children:[r.jsx("option",{value:"all",children:"Tous"}),r.jsx("option",{value:"vente",children:"Vente (Vendeuse, Responsable, Manager, Apprenti Vendeuse)"}),r.jsx("option",{value:"production",children:"Production (Chef Prod, Boulanger, Préparateur, Apprentis)"})]})]}),r.jsx("button",{onClick:()=>window.print(),style:{padding:"8px 16px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"🖨️ Imprimer"})]})]}),r.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"5px",border:"1px solid #dee2e6"},children:[r.jsx("h4",{style:{margin:"0 0 10px 0",color:"#333"},children:"Légende:"}),r.jsxs("div",{style:{display:"flex",gap:"15px",flexWrap:"wrap"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[r.jsx("div",{style:{width:"15px",height:"15px",backgroundColor:"#e3f2fd",marginRight:"6px",borderRadius:"3px"}}),r.jsx("span",{style:{fontSize:"12px"},children:"Vendeuse, Responsable, Manager, App. Vendeuse"})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[r.jsx("div",{style:{width:"15px",height:"15px",backgroundColor:"#fff3e0",marginRight:"6px",borderRadius:"3px"}}),r.jsx("span",{style:{fontSize:"12px"},children:"Chef Prod, Boulanger, App. Boulanger"})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[r.jsx("div",{style:{width:"15px",height:"15px",backgroundColor:"#e8f5e8",marginRight:"6px",borderRadius:"3px"}}),r.jsx("span",{style:{fontSize:"12px"},children:"Préparateur, App. Préparateur"})]})]})]}),r.jsx("div",{className:"calendar-container",children:v.length===0?r.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#666",fontSize:"16px"},children:"Aucun employé trouvé pour la catégorie sélectionnée"}):r.jsxs("div",{className:"calendar-grid",children:[r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"200px repeat(12, 1fr)",gap:"2px",marginBottom:"10px"},children:[r.jsx("div",{style:{fontWeight:"bold",padding:"10px",backgroundColor:"#e9ecef",border:"1px solid #dee2e6",textAlign:"center"},children:"Employé"}),x.map(g=>r.jsx("div",{style:{fontWeight:"bold",padding:"10px",backgroundColor:"#e9ecef",border:"1px solid #dee2e6",textAlign:"center",fontSize:"12px"},children:g.name},g.number))]}),v.map(g=>r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"200px repeat(12, 1fr)",gap:"2px",marginBottom:"2px"},children:[r.jsxs("div",{style:{padding:"10px",backgroundColor:"#f8f9fa",border:"1px solid #dee2e6",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[r.jsx("span",{style:{fontWeight:"bold",fontSize:"13px"},children:g.name}),r.jsx("div",{style:{width:"12px",height:"12px",backgroundColor:u(g.role),borderRadius:"50%",marginLeft:"8px"}})]}),x.map(E=>{const C=h(g._id,E.number);return r.jsx("div",{style:{padding:"8px",backgroundColor:C.length>0?"#d4edda":"#ffffff",border:"1px solid #dee2e6",minHeight:"40px",fontSize:"11px"},children:C.map((w,S)=>r.jsxs("div",{style:{backgroundColor:u(g.role),color:"black",padding:"2px 4px",borderRadius:"3px",marginBottom:"2px",fontSize:"10px",textAlign:"center",fontWeight:"bold"},children:[m(w.startDate),"-",m(w.endDate)]},S))},E.number)})]},g._id))]})}),r.jsxs("div",{style:{marginTop:"30px",padding:"10px",backgroundColor:"#e9ecef",borderRadius:"5px",textAlign:"center",fontSize:"12px",color:"#6c757d"},children:["🚀 DÉPLOIEMENT #019 - ",new Date().toLocaleString()]})]})},gy=()=>{const[e,t]=j.useState(new Date().toISOString().slice(0,7)),[n,s]=j.useState([]),[a,l]=j.useState(!1),[o,i]=j.useState(!1),[c,d]=j.useState("up"),[p,f]=j.useState(!1),[y,N]=j.useState(""),[x,h]=j.useState(1),[m,u]=j.useState({up:{count:0,amount:0},pluxee:{count:0,amount:0},bimpli:{count:0,amount:0},edenred:{count:0,amount:0},total:{count:0,amount:0}});j.useEffect(()=>{v()},[e]),j.useEffect(()=>{g()},[n]);const v=async()=>{try{l(!0);const D=await U.get(`/ticket-restaurant?month=${e}`);s(D.data.tickets||[])}catch(D){console.error("Erreur lors du chargement des tickets:",D),A.error("Erreur lors du chargement des tickets")}finally{l(!1)}},g=()=>{const D={up:{count:0,amount:0},pluxee:{count:0,amount:0},bimpli:{count:0,amount:0},edenred:{count:0,amount:0},total:{count:0,amount:0}};n.forEach(I=>{D[I.provider]&&(D[I.provider].count++,D[I.provider].amount+=I.amount),D.total.count++,D.total.amount+=I.amount}),u(D)},E=async D=>{try{f(!0);const I=window.pageYOffset||document.documentElement.scrollTop,z=C(D);if(!z){A.error("Impossible d'extraire le montant du ticket");return}const Q={provider:c,amount:z,date:new Date().toISOString().split("T")[0],month:e,barcode:D};console.log("📤 Envoi des données:",Q);const F=await U.post("/ticket-restaurant",Q);console.log("✅ Réponse du serveur:",F.data),A.success(`#${x} - Ticket ${c.toUpperCase()} ajouté: ${z}€`),h(q=>q+1),await v(),setTimeout(()=>{window.scrollTo(0,I)},100)}catch(I){console.error("Erreur lors de l'ajout du ticket:",I),A.error("Erreur lors de l'ajout du ticket")}finally{f(!1)}},C=D=>{if(console.log("🔍 Code-barres scanné:",D),!D||D.length<10)return console.warn("⚠️ Code-barres trop court:",D),null;try{let I=null;if(D.length===24){console.log("🔍 Extraction par structure officielle (24 caractères)...");const z=D.substring(11,16);console.log("🔍 Montant brut extrait:",z,"centimes");const Q=parseFloat(z)/100;!isNaN(Q)&&Q>0&&Q<=999.99&&(I=Q,console.log("🔍 Structure officielle:",z,"centimes →",I,"€"))}return I?(console.log("✅ Montant final:",I,"€"),Math.round(I*100)/100):(console.log("❌ Aucun montant valide trouvé"),null)}catch(I){return console.error("❌ Erreur lors de l'extraction du montant:",I),null}},w=async D=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer ce ticket ?"))try{await U.delete(`/ticket-restaurant/${D}`),A.success("Ticket supprimé"),await v()}catch(I){console.error("Erreur lors de la suppression:",I),A.error("Erreur lors de la suppression du ticket")}},S=async()=>{if(n.length===0){A.info("Aucun ticket à supprimer");return}const D=`⚠️ ATTENTION ⚠️

Vous êtes sur le point de supprimer TOUS les ${n.length} tickets du mois ${new Date(e).toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}.

Montant total : ${$(m.total.amount)}

Cette action est IRRÉVERSIBLE !

Êtes-vous absolument sûr ?`;if(window.confirm(D))try{l(!0);let I=0,z=0;for(const Q of n)try{await U.delete(`/ticket-restaurant/${Q._id}`),I++}catch(F){console.error(`Erreur suppression ticket ${Q._id}:`,F),z++}z===0?A.success(`✅ ${I} tickets supprimés avec succès`):A.warning(`⚠️ ${I} tickets supprimés, ${z} erreurs`),await v()}catch(I){console.error("Erreur lors de la suppression globale:",I),A.error("Erreur lors de la suppression des tickets")}finally{l(!1)}},b=()=>{i(!0),console.log("🔍 Démarrage du scanner..."),setTimeout(()=>{const D=document.getElementById("barcode-input");D?(D.focus(),console.log("🎯 Focus appliqué sur input scanner"),console.log("📱 Scanner prêt - Pointez vers le code-barres")):console.error("❌ Input scanner non trouvé")},100)},L=()=>{i(!1)},T=D=>{const I=D.target.value;console.log("🔍 Input détecté:",I,"Longueur:",I.length);const z=y+I;console.log("📝 Buffer actuel:",z,"Longueur:",z.length),D.target.value="",z.length===24?(console.log("✅ Code-barres complet scanné:",z),E(z),N("")):z.length>24?(console.error("❌ Buffer trop long, réinitialisation"),A.error("❌ Erreur de scan. Veuillez rescanner le ticket."),N("")):N(z)},$=D=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(D),_=D=>({up:"UP",pluxee:"Pluxee",bimpli:"Bimpli",edenred:"Edenred"})[D]||D.toUpperCase(),P=D=>({up:"#e74c3c",pluxee:"#3498db",bimpli:"#2ecc71",edenred:"#f39c12"})[D]||"#95a5a6";return r.jsxs("div",{className:"ticket-restaurant fade-in",children:[r.jsxs("div",{className:"page-header",children:[r.jsx("h2",{children:"🎫 Gestion des Tickets Restaurant"}),r.jsx("div",{className:"header-actions",children:r.jsxs("div",{className:"month-selector",children:[r.jsx("label",{htmlFor:"month",children:"Mois :"}),r.jsx("input",{type:"month",id:"month",value:e,onChange:D=>t(D.target.value),className:"form-control"})]})})]}),r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"card-header",children:r.jsx("h3",{children:"📱 Scanner des Tickets"})}),r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"scanner-controls",children:[r.jsxs("div",{className:"provider-selector",children:[r.jsx("label",{children:"Fournisseur :"}),r.jsxs("select",{value:c,onChange:D=>d(D.target.value),className:"form-control",disabled:o,children:[r.jsx("option",{value:"up",children:"UP"}),r.jsx("option",{value:"pluxee",children:"Pluxee"}),r.jsx("option",{value:"bimpli",children:"Bimpli"}),r.jsx("option",{value:"edenred",children:"Edenred"})]})]}),o?r.jsxs("div",{className:"scanner-active",children:[r.jsxs("div",{className:"scanner-status",children:[r.jsx("div",{className:"scanner-indicator"}),r.jsx("span",{children:"Scanner actif - Pointez vers le code-barres"}),r.jsxs("span",{className:"scan-order-badge",children:["Prochain scan: #",x]})]}),r.jsx("input",{id:"barcode-input",type:"text",onChange:T,placeholder:"Code-barres sera capturé automatiquement",style:{position:"absolute",left:"-9999px",opacity:0,width:"1px",height:"1px"},autoFocus:!0}),r.jsx("button",{className:"btn btn-secondary",onClick:L,children:"Arrêter le scanner"}),y.length>0&&r.jsxs("div",{className:"buffer-status",children:[r.jsxs("span",{children:["Buffer: ",y.length,"/24 caractères"]}),r.jsx("button",{className:"btn btn-warning btn-sm",onClick:()=>{N(""),console.log("🔄 Buffer réinitialisé - Redémarrage du scanner"),i(!1),setTimeout(()=>{i(!0),setTimeout(()=>{const D=document.getElementById("barcode-input");D&&(D.focus(),console.log("🎯 Scanner redémarré et focus restauré"))},100)},200),A.info("🔄 Buffer réinitialisé - Scanner redémarré")},children:"🔄 Réinitialiser"})]})]}):r.jsx("button",{className:"btn btn-primary",onClick:b,disabled:p,children:p?"⏳ Traitement...":"📱 Démarrer le scanner"})]})})]}),r.jsx("div",{className:"totals-grid",children:Object.entries(m).map(([D,I])=>D==="total"?null:r.jsxs("div",{className:"total-card",style:{borderColor:P(D)},children:[r.jsx("div",{className:"total-header",children:r.jsx("h4",{style:{color:P(D)},children:_(D)})}),r.jsxs("div",{className:"total-content",children:[r.jsxs("div",{className:"total-count",children:[r.jsx("span",{className:"count-number",children:I.count}),r.jsx("span",{className:"count-label",children:"tickets"})]}),r.jsx("div",{className:"total-amount",children:$(I.amount)})]})]},D))}),r.jsxs("div",{className:"card total-general",children:[r.jsx("div",{className:"card-header",children:r.jsx("h3",{children:"📊 Total du mois"})}),r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"general-totals",children:[r.jsxs("div",{className:"total-item",children:[r.jsx("span",{className:"total-label",children:"Nombre total de tickets :"}),r.jsx("span",{className:"total-value",children:m.total.count})]}),r.jsxs("div",{className:"total-item",children:[r.jsx("span",{className:"total-label",children:"Montant total :"}),r.jsx("span",{className:"total-value amount",children:$(m.total.amount)})]})]})})]}),r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"card-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("h3",{children:"📋 Historique des tickets"}),n.length>0&&r.jsxs("button",{className:"btn btn-danger",onClick:S,title:"Supprimer tous les tickets du mois",children:["🗑️ Tout effacer (",n.length,")"]})]}),r.jsx("div",{className:"card-body",children:a?r.jsxs("div",{className:"loading-container",children:[r.jsx("div",{className:"loading"}),r.jsx("p",{children:"Chargement des tickets..."})]}):n.length===0?r.jsx("div",{className:"empty-state",children:r.jsx("p",{children:"🎫 Aucun ticket enregistré pour ce mois"})}):r.jsx("div",{className:"tickets-list",children:n.map((D,I)=>r.jsxs("div",{className:"ticket-item",children:[r.jsxs("div",{className:"ticket-info",children:[r.jsx("div",{className:"ticket-provider",style:{color:P(D.provider)},children:_(D.provider)}),r.jsx("div",{className:"ticket-amount",children:$(D.amount)}),r.jsx("div",{className:"ticket-date",children:new Date(D.date).toLocaleDateString("fr-FR")})]}),r.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>w(D._id),title:"Supprimer ce ticket",children:"🗑️"})]},D._id||I))})})]})]})},vy=({document:e,onDownload:t,getCategoryIcon:n,getCategoryLabel:s,formatFileSize:a,formatDate:l,isPersonal:o=!1})=>{const i=()=>{t(e._id,e.title)},d=(()=>{if(!o||!e.expiryDate)return null;const p=new Date,y=new Date(e.expiryDate)-p,N=Math.ceil(y/(1e3*60*60*24));return N<=0?{status:"expired",text:"Expiré",class:"expired"}:N<=7?{status:"warning",text:`Expire dans ${N} jour${N>1?"s":""}`,class:"warning"}:N<=15?{status:"info",text:`Expire dans ${N} jours`,class:"info"}:null})();return r.jsxs("div",{className:`document-card ${o?"personal":"general"}`,children:[r.jsxs("div",{className:"document-header",children:[r.jsx("div",{className:"document-icon",children:n(e.category)}),r.jsxs("div",{className:"document-title",children:[r.jsx("h3",{children:e.title}),r.jsx("span",{className:"document-category",children:s(e.category)})]}),d&&r.jsx("div",{className:`expiry-badge ${d.class}`,children:d.text})]}),r.jsxs("div",{className:"document-content",children:[e.description&&r.jsx("p",{className:"document-description",children:e.description}),r.jsxs("div",{className:"document-details",children:[r.jsxs("div",{className:"detail-item",children:[r.jsx("span",{className:"detail-label",children:"📅 Ajouté le:"}),r.jsx("span",{className:"detail-value",children:l(e.uploadDate)})]}),r.jsxs("div",{className:"detail-item",children:[r.jsx("span",{className:"detail-label",children:"📏 Taille:"}),r.jsx("span",{className:"detail-value",children:a(e.fileSize)})]}),e.downloadCount>0&&r.jsxs("div",{className:"detail-item",children:[r.jsx("span",{className:"detail-label",children:"⬇️ Téléchargé:"}),r.jsxs("span",{className:"detail-value",children:[e.downloadCount," fois"]})]}),e.lastDownloadDate&&r.jsxs("div",{className:"detail-item",children:[r.jsx("span",{className:"detail-label",children:"🕒 Dernier téléchargement:"}),r.jsx("span",{className:"detail-value",children:l(e.lastDownloadDate)})]})]})]}),r.jsxs("div",{className:"document-actions",children:[r.jsxs("button",{className:"download-btn",onClick:i,disabled:(d==null?void 0:d.status)==="expired",children:[r.jsx("span",{className:"download-icon",children:"⬇️"}),"Télécharger"]}),(d==null?void 0:d.status)==="expired"&&r.jsx("div",{className:"expired-message",children:"⚠️ Ce document a expiré et ne peut plus être téléchargé"})]})]})},gd=({title:e,description:t,documents:n,onDownload:s,getCategoryIcon:a,getCategoryLabel:l,formatFileSize:o,formatDate:i,emptyMessage:c,isPersonal:d=!1})=>r.jsxs("div",{className:"documents-section",children:[r.jsxs("div",{className:"section-header",children:[r.jsx("h2",{children:e}),r.jsx("p",{className:"section-description",children:t})]}),n.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsx("div",{className:"empty-icon",children:"📄"}),r.jsx("h3",{children:"Aucun document"}),r.jsx("p",{children:c})]}):r.jsx("div",{className:"documents-grid",children:n.map(p=>r.jsx(vy,{document:p,onDownload:s,getCategoryIcon:a,getCategoryLabel:l,formatFileSize:o,formatDate:i,isPersonal:d},p._id))}),n.length>0&&r.jsx("div",{className:"section-footer",children:r.jsxs("p",{className:"document-count",children:[n.length," document",n.length>1?"s":""," disponible",n.length>1?"s":""]})})]}),xy=()=>{const{user:e}=lr(),[t,n]=j.useState([]),[s,a]=j.useState([]),[l,o]=j.useState(!0),[i,c]=j.useState("general");j.useEffect(()=>{e&&d()},[e]);const d=async()=>{try{o(!0);const h=await U.get("/documents/general");if(h.data.success&&n(h.data.data),e.employeeId){const m=await U.get(`/documents/personal/${e.employeeId}`);m.data.success&&a(m.data.data)}}catch(h){console.error("Erreur lors du chargement des documents:",h),A.error("Erreur lors du chargement des documents")}finally{o(!1)}},p=async(h,m)=>{try{console.log("⬇️ Téléchargement document:",h);let u=`/documents/${h}/download`;e.employeeId&&(u+=`?employeeId=${e.employeeId}`);const v=document.createElement("a");v.href=`https://boulangerie-planning-api-4-pbfy.onrender.com/api${u}`,v.download=m,document.body.appendChild(v),v.click(),document.body.removeChild(v),A.success(`📥 Téléchargement de "${m}" démarré`)}catch(u){console.error("Erreur lors du téléchargement:",u),A.error("Erreur lors du téléchargement du document")}},f=h=>({notice:"📋",procedure:"📝",formation:"🎓",payslip:"💰",contract:"📄",other:"📁"})[h]||"📄",y=h=>({notice:"Notice",procedure:"Procédure",formation:"Formation",payslip:"Fiche de paie",contract:"Contrat",other:"Autre"})[h]||h,N=h=>{if(h===0)return"0 Bytes";const m=1024,u=["Bytes","KB","MB","GB"],v=Math.floor(Math.log(h)/Math.log(m));return parseFloat((h/Math.pow(m,v)).toFixed(2))+" "+u[v]},x=h=>new Date(h).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});return l?r.jsx("div",{className:"employee-dashboard",children:r.jsxs("div",{className:"loading-container",children:[r.jsx("div",{className:"loading"}),r.jsx("p",{children:"Chargement de vos documents..."})]})}):r.jsxs("div",{className:"employee-dashboard",children:[r.jsxs("div",{className:"dashboard-header",children:[r.jsx("h1",{children:"📁 Mes Documents"}),r.jsxs("p",{children:["Bienvenue ",(e==null?void 0:e.name)||"Employé",", consultez vos documents personnels et généraux"]})]}),r.jsxs("div",{className:"dashboard-tabs",children:[r.jsxs("button",{className:`tab ${i==="general"?"active":""}`,onClick:()=>c("general"),children:["📋 Documents Généraux (",t.length,")"]}),r.jsxs("button",{className:`tab ${i==="personal"?"active":""}`,onClick:()=>c("personal"),children:["👤 Mes Documents (",s.length,")"]})]}),r.jsx("div",{className:"dashboard-content",children:i==="general"?r.jsx(gd,{title:"📋 Documents Généraux",description:"Documents accessibles à tous les employés",documents:t,onDownload:p,getCategoryIcon:f,getCategoryLabel:y,formatFileSize:N,formatDate:x,emptyMessage:"Aucun document général disponible"}):r.jsx(gd,{title:"👤 Mes Documents Personnels",description:"Vos documents personnels (fiches de paie, contrats, etc.)",documents:s,onDownload:p,getCategoryIcon:f,getCategoryLabel:y,formatFileSize:N,formatDate:x,emptyMessage:"Aucun document personnel disponible",isPersonal:!0})}),r.jsx("div",{className:"dashboard-footer",children:r.jsxs("div",{className:"info-box",children:[r.jsx("h3",{children:"ℹ️ Informations importantes"}),r.jsxs("ul",{children:[r.jsxs("li",{children:["📋 Les ",r.jsx("strong",{children:"documents généraux"})," sont accessibles à tous les employés"]}),r.jsxs("li",{children:["👤 Les ",r.jsx("strong",{children:"documents personnels"})," sont spécifiques à votre compte"]}),r.jsx("li",{children:"⏰ Les documents personnels sont automatiquement supprimés après 1 mois"}),r.jsx("li",{children:'📥 Cliquez sur "Télécharger" pour sauvegarder un document sur votre appareil'})]})]})})]})},yy=()=>{const[e,t]=j.useState([]),[n,s]=j.useState({}),[a,l]=j.useState(!0),[o,i]=j.useState(null),[c,d]=j.useState(!1),[p,f]=j.useState("all"),[y,N]=j.useState("");j.useEffect(()=>{x(),h()},[y,p]);const x=async()=>{try{l(!0);const S={};y&&(S.month=y),p!=="all"&&(S.status=p);const b=await U.get("/advance-requests",{params:S});b.data.success&&t(b.data.data)}catch(S){console.error("Erreur récupération demandes acompte:",S),A.error("Erreur lors du chargement des demandes")}finally{l(!1)}},h=async()=>{try{const S={};y&&(S.month=y);const b=await U.get("/advance-requests/stats",{params:S});b.data.success&&s(b.data.data)}catch(S){console.error("Erreur récupération stats acompte:",S)}},m=async(S,b,L={})=>{try{if((await U.put(`/advance-requests/${S}`,{status:b,...L})).data.success){A.success(`Demande ${b==="approved"?"approuvée":"rejetée"} avec succès`);const $={};y&&($.month=y),p!=="all"&&($.status=p);const _=await U.get("/advance-requests",{params:$});_.data.success&&t(_.data.data);const P={};y&&(P.month=y);const D=await U.get("/advance-requests/stats",{params:P});D.data.success&&s(D.data.data),d(!1),i(null)}}catch(T){console.error("Erreur action acompte:",T),A.error("Erreur lors de l'action")}},u=S=>{i(S),d(!0)},v=()=>{d(!1),i(null)},g=()=>e,E=S=>({pending:"En attente",approved:"Approuvée",rejected:"Rejetée"})[S]||S,C=S=>({pending:"status-pending",approved:"status-approved",rejected:"status-rejected"})[S]||"",w=()=>{const S=g(),b=p==="all"?"Toutes":p==="pending"?"En attente":p==="approved"?"Approuvées":"Rejetées",L=y||"Tous les mois",T=window.open("","_blank");T.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Demandes d'Acompte - ${b} - ${L}</title>
        <meta charset="utf-8">
        <style>
          @media print {
            @page {
              margin: 1cm;
            }
            body {
              font-family: Arial, sans-serif;
              font-size: 12px;
              color: #000;
              margin: 0;
              padding: 20px;
            }
            .no-print { display: none !important; }
          }
          body {
            font-family: Arial, sans-serif;
            font-size: 12px;
            color: #000;
            margin: 0;
            padding: 20px;
            background: white;
          }
          .header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #333;
            padding-bottom: 15px;
          }
          .header h1 {
            margin: 0 0 10px 0;
            font-size: 24px;
            color: #333;
          }
          .header .filter-info {
            font-size: 14px;
            color: #666;
            margin-top: 5px;
          }
          .print-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
          }
          .print-table th {
            background-color: #f0f0f0;
            border: 1px solid #333;
            padding: 10px;
            text-align: left;
            font-weight: bold;
          }
          .print-table td {
            border: 1px solid #333;
            padding: 8px;
          }
          .print-table tr:nth-child(even) {
            background-color: #f9f9f9;
          }
          .status-badge {
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: bold;
            display: inline-block;
          }
          .status-approved {
            background-color: #d4edda;
            color: #155724;
          }
          .status-pending {
            background-color: #fff3cd;
            color: #856404;
          }
          .status-rejected {
            background-color: #f8d7da;
            color: #721c24;
          }
          .amount {
            font-weight: bold;
            color: #28a745;
          }
          .footer {
            margin-top: 30px;
            text-align: center;
            font-size: 10px;
            color: #666;
            border-top: 1px solid #ccc;
            padding-top: 10px;
          }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>💰 Gestion des Demandes d'Acompte</h1>
          <div class="filter-info">
            <strong>Filtre:</strong> ${b} | <strong>Mois:</strong> ${L}
          </div>
          <div class="filter-info">
            <strong>Date d'impression:</strong> ${new Date().toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}
          </div>
        </div>
        <table class="print-table">
          <thead>
            <tr>
              <th>Salarié</th>
              <th>Montant</th>
              <th>Mois de déduction</th>
              <th>Date de demande</th>
              <th>Statut</th>
            </tr>
          </thead>
          <tbody>
            ${S.length===0?`
              <tr>
                <td colspan="5" style="text-align: center; padding: 20px;">
                  Aucune demande d'acompte trouvée
                </td>
              </tr>
            `:S.map($=>`
              <tr>
                <td>${$.employeeName||"-"}</td>
                <td class="amount">${$.amount||0}€</td>
                <td>${$.deductionMonth||"-"}</td>
                <td>${new Date($.createdAt).toLocaleDateString("fr-FR")}</td>
                <td>
                  <span class="status-badge status-${$.status||"pending"}">
                    ${E($.status)}
                  </span>
                </td>
              </tr>
            `).join("")}
          </tbody>
        </table>
        ${S.length>0?`
          <div style="margin-top: 20px; text-align: right;">
            <strong>Total: ${S.length} demande(s) | 
            Montant total: ${S.reduce(($,_)=>$+(_.amount||0),0)}€</strong>
          </div>
        `:""}
        <div class="footer">
          <p>Boulangerie Planning - Impression générée le ${new Date().toLocaleDateString("fr-FR")}</p>
        </div>
      </body>
      </html>
    `),T.document.close(),setTimeout(()=>{T.focus(),T.print()},250)};return a?r.jsx("div",{className:"advance-requests",children:r.jsxs("div",{className:"loading",children:[r.jsx("div",{className:"spinner"}),r.jsx("p",{children:"Chargement des demandes d'acompte..."})]})}):r.jsxs("div",{className:"advance-requests",children:[r.jsxs("div",{className:"page-header",children:[r.jsx("h2",{children:"💰 Gestion des Demandes d'Acompte"}),r.jsxs("div",{className:"header-actions",children:[r.jsx("button",{className:"btn btn-primary",onClick:x,children:"🔄 Actualiser"}),r.jsx("button",{className:"btn btn-secondary",onClick:w,title:"Imprimer les demandes affichées",children:"🖨️ Imprimer"})]})]}),r.jsxs("div",{className:"advance-stats",children:[r.jsxs("div",{className:"stat-card",children:[r.jsx("div",{className:"stat-number",children:n.pending||0}),r.jsx("div",{className:"stat-label",children:"En attente"})]}),r.jsxs("div",{className:"stat-card",children:[r.jsx("div",{className:"stat-number",children:n.approved||0}),r.jsx("div",{className:"stat-label",children:"Approuvées"})]}),r.jsxs("div",{className:"stat-card",children:[r.jsx("div",{className:"stat-number",children:n.rejected||0}),r.jsx("div",{className:"stat-label",children:"Rejetées"})]}),r.jsxs("div",{className:"stat-card",children:[r.jsxs("div",{className:"stat-number",children:[n.totalAmount||0,"€"]}),r.jsx("div",{className:"stat-label",children:"Montant total"})]})]}),r.jsxs("div",{className:"filters",children:[r.jsxs("button",{className:`filter-btn ${p==="all"?"active":""}`,onClick:()=>f("all"),children:["Toutes (",n.total||0,")"]}),r.jsxs("button",{className:`filter-btn ${p==="pending"?"active":""}`,onClick:()=>f("pending"),children:["En attente (",n.pending||0,")"]}),r.jsxs("button",{className:`filter-btn ${p==="approved"?"active":""}`,onClick:()=>f("approved"),children:["Approuvées (",n.approved||0,")"]}),r.jsxs("button",{className:`filter-btn ${p==="rejected"?"active":""}`,onClick:()=>f("rejected"),children:["Rejetées (",n.rejected||0,")"]}),r.jsxs("div",{className:"month-filter",children:[r.jsx("label",{htmlFor:"month-select",children:"📅 Mois :"}),r.jsxs("select",{id:"month-select",value:y,onChange:S=>N(S.target.value),className:"month-select",children:[r.jsx("option",{value:"",children:"Tous les mois"}),(()=>{const S=["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],b=new Date().getFullYear(),L=[];for(let T=b;T<=b+1;T++)S.forEach(($,_)=>{L.push(r.jsxs("option",{value:`${$} ${T}`,children:[$," ",T]},`${$} ${T}`))});return L})()]})]})]}),r.jsx("div",{className:"requests-list",children:g().length===0?r.jsx("div",{className:"no-requests",children:r.jsx("p",{children:"Aucune demande d'acompte trouvée"})}):g().map(S=>r.jsxs("div",{className:"request-card",children:[r.jsxs("div",{className:"request-info",children:[r.jsxs("div",{className:"employee-info",children:[r.jsx("div",{className:"employee-name",children:S.employeeName}),r.jsx("div",{className:"employee-email",children:S.employeeEmail})]}),r.jsxs("div",{className:"request-details",children:[r.jsxs("div",{className:"amount",children:[S.amount,"€"]}),r.jsxs("div",{className:"month",children:["Déduction: ",S.deductionMonth]}),r.jsxs("div",{className:"date",children:["Demandé le: ",new Date(S.createdAt).toLocaleDateString("fr-FR")]}),S.comment&&r.jsxs("div",{className:"comment",children:[r.jsx("strong",{children:"Commentaire:"})," ",S.comment]}),S.managerComment&&r.jsxs("div",{className:"manager-comment",children:[r.jsx("strong",{children:"Commentaire manager:"})," ",S.managerComment]})]})]}),r.jsxs("div",{className:"request-actions",children:[r.jsx("div",{className:`status-badge ${C(S.status)}`,children:E(S.status)}),S.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"btn btn-success btn-sm",onClick:()=>m(S._id,"approved"),children:"✅ Approuver"}),r.jsx("button",{className:"btn btn-warning btn-sm",onClick:()=>u(S),children:"✏️ Modifier"}),r.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>m(S._id,"rejected"),children:"❌ Rejeter"})]})]})]},S._id))}),c&&o&&r.jsx("div",{className:"modal-overlay",children:r.jsxs("div",{className:"modal-content",children:[r.jsxs("div",{className:"modal-header",children:[r.jsx("h3",{children:"✏️ Modifier la Demande d'Acompte"}),r.jsx("button",{className:"close-btn",onClick:v,children:"×"})]}),r.jsxs("div",{className:"modal-body",children:[r.jsx("div",{className:"form-group",children:r.jsxs("label",{children:["Employé: ",o.employeeName]})}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Montant (€):"}),r.jsx("input",{type:"number",id:"editAmount",defaultValue:o.amount,min:"1",max:"5000",step:"0.01"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Mois de déduction:"}),r.jsxs("select",{id:"editMonth",defaultValue:o.deductionMonth,children:[r.jsx("option",{value:"Janvier 2025",children:"Janvier 2025"}),r.jsx("option",{value:"Février 2025",children:"Février 2025"}),r.jsx("option",{value:"Mars 2025",children:"Mars 2025"}),r.jsx("option",{value:"Avril 2025",children:"Avril 2025"}),r.jsx("option",{value:"Mai 2025",children:"Mai 2025"}),r.jsx("option",{value:"Juin 2025",children:"Juin 2025"}),r.jsx("option",{value:"Juillet 2025",children:"Juillet 2025"}),r.jsx("option",{value:"Août 2025",children:"Août 2025"}),r.jsx("option",{value:"Septembre 2025",children:"Septembre 2025"}),r.jsx("option",{value:"Octobre 2025",children:"Octobre 2025"}),r.jsx("option",{value:"Novembre 2025",children:"Novembre 2025"}),r.jsx("option",{value:"Décembre 2025",children:"Décembre 2025"})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Commentaire du manager:"}),r.jsx("textarea",{id:"editComment",rows:"3",placeholder:"Commentaire optionnel..."})]}),r.jsxs("div",{className:"modal-actions",children:[r.jsx("button",{className:"btn btn-success",onClick:()=>{const S=document.getElementById("editAmount").value;document.getElementById("editMonth").value;const b=document.getElementById("editComment").value;m(o._id,"approved",{approvedAmount:S,managerComment:b})},children:"✅ Approuver avec modifications"}),r.jsx("button",{className:"btn btn-danger",onClick:()=>{const S=document.getElementById("editComment").value;m(o._id,"rejected",{managerComment:S})},children:"❌ Rejeter"}),r.jsx("button",{className:"btn btn-secondary",onClick:v,children:"Annuler"})]})]})]})})]})},jy=()=>{const{user:e}=lr();return e?r.jsxs("div",{className:"App",children:[r.jsx(Lx,{}),r.jsxs("div",{className:"app-container",children:[r.jsx(Ix,{}),r.jsx("main",{className:"app-main",children:r.jsxs($m,{children:[r.jsx(de,{path:"/",element:r.jsx(po,{to:"/dashboard",replace:!0})}),r.jsx(de,{path:"/dashboard",element:r.jsx(Te,{children:r.jsx(ny,{})})}),r.jsx(de,{path:"/employees",element:r.jsx(Te,{children:r.jsx(Zx,{})})}),r.jsx(de,{path:"/constraints",element:r.jsx(Te,{children:r.jsx(ty,{})})}),r.jsx(de,{path:"/planning",element:r.jsx(Te,{requiredPermission:"view_planning",children:r.jsx(ey,{})})}),r.jsx(de,{path:"/sales-stats",element:r.jsx(Te,{requiredPermission:"view_sales_stats",children:r.jsx(ry,{})})}),r.jsx(de,{path:"/absences",element:r.jsx(Te,{requiredPermission:"view_absences",children:r.jsx(ay,{})})}),r.jsx(de,{path:"/meal-expenses",element:r.jsx(Te,{requiredPermission:"view_meal_expenses",children:r.jsx(ly,{})})}),r.jsx(de,{path:"/km-expenses",element:r.jsx(Te,{requiredPermission:"view_km_expenses",children:r.jsx(oy,{})})}),r.jsx(de,{path:"/parameters",element:r.jsx(Te,{adminOnly:!0,children:r.jsx(iy,{})})}),r.jsx(de,{path:"/employee-status-print",element:r.jsx(Te,{children:r.jsx(dy,{})})}),r.jsx(de,{path:"/tutors",element:r.jsx(Te,{adminOnly:!0,children:r.jsx(uy,{})})}),r.jsx(de,{path:"/sick-leave",element:r.jsx(po,{to:"/plan/sick-leave",replace:!0})}),r.jsx(de,{path:"/plan/sick-leave",element:r.jsx(fy,{})}),r.jsx(de,{path:"/sick-leave-upload",element:r.jsx(hd,{})}),r.jsx(de,{path:"/plan/sick-leave-upload",element:r.jsx(hd,{})}),r.jsx(de,{path:"/sick-leave-management",element:r.jsx(Te,{adminOnly:!0,children:r.jsx(my,{})})}),r.jsx(de,{path:"/vacation-management",element:r.jsx(Te,{adminOnly:!0,children:r.jsx(py,{})})}),r.jsx(de,{path:"/vacation-planning",element:r.jsx(Te,{adminOnly:!0,children:r.jsx(hy,{})})}),r.jsx(de,{path:"/ticket-restaurant",element:r.jsx(Te,{children:r.jsx(gy,{})})}),r.jsx(de,{path:"/employee-dashboard",element:r.jsx(Te,{children:r.jsx(xy,{})})}),r.jsx(de,{path:"/advance-requests",element:r.jsx(Te,{children:r.jsx(yy,{})})})]})})]})]}):r.jsx(hf,{})};function by(){return r.jsx(sv,{children:r.jsx(ev,{basename:"/plan",children:r.jsxs($m,{children:[r.jsx(de,{path:"/login",element:r.jsx(hf,{})}),r.jsx(de,{path:"/*",element:r.jsx(jy,{})})]})})})}const Ny=yl.createRoot(document.getElementById("root"));Ny.render(r.jsx(Cd.StrictMode,{children:r.jsx(by,{})}));
//# sourceMappingURL=index.BYIBq8Rz.js.map
